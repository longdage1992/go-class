(function(e){function t(t){for(var n,r,a=t[0],l=t[1],c=t[2],d=0,h=[];d<a.length;d++)r=a[d],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&h.push(o[r][0]),o[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);u&&u(t);while(h.length)h.shift()();return s.push.apply(s,c||[]),i()}function i(){for(var e,t=0;t<s.length;t++){for(var i=s[t],n=!0,a=1;a<i.length;a++){var l=i[a];0!==o[l]&&(n=!1)}n&&(s.splice(t--,1),e=r(r.s=i[0]))}return e}var n={},o={app:0},s=[];function r(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=n,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],l=a.push.bind(a);a.push=t,a=a.slice();for(var c=0;c<a.length;c++)t(a[c]);var u=l;s.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"05ed":function(e,t,i){"use strict";var n=i("cdf6"),o=i.n(n);o.a},"071a":function(e,t,i){"use strict";i.r(t),t["default"]='<svg version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t viewBox="0 0 20 20" style="enable-background:new 0 0 20 20;" xml:space="preserve">\n\t<line class="hover-stroke" fill="none" stroke="#585C60" x1="6" y1="10" x2="14" y2="10"/>\n</svg>\n'},"0902":function(e,t,i){},"094f":function(e,t,i){"use strict";var n=i("45cd"),o=i.n(n);o.a},"0b67":function(e,t,i){"use strict";i.r(t),t["default"]='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18"><defs><style>.cls-switch1{fill:#fff;opacity:0;}.cls-switch2{fill:#585c62;}</style></defs><title>language_switch</title><g id="图层_2" data-name="图层 2"><g id="图层_1-2" data-name="图层 1"><rect class="cls-switch1" width="18" height="18"/><path class="cls-switch2" d="M18,8.52A9,9,0,0,0,9,0H8.52A9,9,0,0,0,9,18h.49A9,9,0,0,0,18,8.52ZM14.58,14A7.46,7.46,0,0,1,9.4,16.49H9A7.51,7.51,0,0,1,3.42,4l.26-.25L4,4V6L6,8H7L9,9v1l1,1v2L9,14v2h1V15h1l1-2,2-2V10L12,8H9L8,7H7V6H8L9,5V3h1V2l.38-.38A7.51,7.51,0,0,1,14.58,14Z"/></g></g></svg>'},"0c69":function(e,t,i){},"0d24":function(e,t,i){"use strict";i.r(t),t["default"]='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18">\n<rect class="hover-fill" fill="none" width="18" height="18"/>\n<path class="hover-fill" fill="#0044ff" d="M9,2.4A4.6,4.6,0,1,1,4.4,7,4.6,4.6,0,0,1,9,2.4M9,1a6,6,0,1,0,6,6A6,6,0,0,0,9,1Z"/>\n<path class="hover-fill" fill="#0044ff" d="M9,5.4A1.6,1.6,0,1,1,7.4,7,1.6,1.6,0,0,1,9,5.4M9,4a3,3,0,1,0,3,3A3,3,0,0,0,9,4Z"/>\n<path class="hover-fill" fill="#0044ff" d="M11.58,13.4l1.8,1.2H4.62l1.8-1.2h5.16M12,12H6L3,14v2H15V14l-3-2Z"/>\n</svg>'},"0d41":function(e,t,i){"use strict";i.r(t),t["default"]='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n  \n  <path class="hover-fill" fill="#003eff" d="M16,10.7a2.6,2.6,0,1,1-2.6,2.6A2.61,2.61,0,0,1,16,10.7m0-2.4a5,5,0,1,0,5,5,5,5,0,0,0-5-5Z"/>\n  <path class="hover-fill" fill="#003eff" d="M16,6.08A7.22,7.22,0,1,1,8.78,13.3,7.22,7.22,0,0,1,16,6.08m0-2.4a9.62,9.62,0,1,0,9.62,9.62A9.62,9.62,0,0,0,16,3.68Z"/>\n  <path class="hover-fill" fill="#003eff" d="M19.21,23.4l4.32,3.2H8.47l4.32-3.2h6.42M20,21H12L6,25.44V29H26V25.44L20,21Z"/>\n</svg>\n'},"0ddb":function(e,t,i){"use strict";i.r(t),t["default"]='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18">\n<rect class="cls-1" width="18" height="18"/>\n<path class="hover-fill" fill="#737680" d="M9,1A5.9,5.9,0,0,0,5.52,2.12l1,1A4.53,4.53,0,0,1,9,2.4,4.6,4.6,0,0,1,13.6,7a4.53,4.53,0,0,1-.73,2.47l1,1A5.9,5.9,0,0,0,15,7,6,6,0,0,0,9,1Zm4.8,14.2-.6-.6H4.62l1.8-1.2h5.16l1.26.84-2.77-2.77A4.18,4.18,0,0,1,9,11.6,4.6,4.6,0,0,1,4.4,7a4.18,4.18,0,0,1,.13-1.07L3.41,4.81A6.13,6.13,0,0,0,3,7a6,6,0,0,0,2.85,5.1L3,14v2H15v-.3A1.7,1.7,0,0,1,13.8,15.2Z"/>\n<path class="hover-fill" fill="#737680" d="M6,7.44A3,3,0,0,0,8.56,10ZM9,4a3,3,0,0,0-1.3.3L8.82,5.42A.55.55,0,0,1,9,5.4,1.6,1.6,0,0,1,10.6,7a.55.55,0,0,1,0,.18L11.7,8.3A3,3,0,0,0,12,7,3,3,0,0,0,9,4Z"/>\n<path class="hover-fill" fill="#737680" d="M15,14.7a.74.74,0,0,1-.5-.2L3,3A.71.71,0,0,1,4,2L15.5,13.5a.72.72,0,0,1,0,1A.74.74,0,0,1,15,14.7Z"/>\n</svg>'},1041:function(e,t,i){"use strict";i.r(t),t["default"]='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">\n  \n  <path class="hover-fill" fill="#b1b4bb" fill-rule="evenodd" d="M2.35,12.25l5.4,5.4a1.18,1.18,0,0,0,1.67,0l8.23-8.23a1.18,1.18,0,0,0,0-1.67l-5.4-5.4a1.18,1.18,0,0,0-1.67,0L2.35,10.58A1.18,1.18,0,0,0,2.35,12.25Zm4.26-3.1a.8.8,0,0,1,1.13,0l3.11,3.11a.8.8,0,0,1,0,1.13l-1.7,1.7a.8.8,0,0,1-1.13,0L4.91,12a.8.8,0,0,1,0-1.13Z"/>\n</svg>\n'},"120d":function(e,t,i){"use strict";i.r(t),t["default"]='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><defs><style>.cls-1{fill:#fff;opacity:0;}.cls-2,.cls-3{fill:none;stroke:#999;stroke-miterlimit:10;stroke-width:1.2px;}.cls-3{stroke-linecap:round;}</style></defs><title>static_file</title><g id="图层_2" data-name="图层 2"><g id="图层_1-2" data-name="图层 1"><rect class="cls-1" width="16" height="16" transform="translate(16) rotate(90)"/><path class="cls-2" d="M10.12,2.29A1,1,0,0,0,9.42,2H3.11a.6.6,0,0,0-.61.6V13.4a.6.6,0,0,0,.6.6h9.79a.6.6,0,0,0,.61-.6V6a1,1,0,0,0-.3-.71Z"/><path class="cls-2" d="M9.42,2V5a1,1,0,0,0,1,1H13.5"/><line class="cls-3" x1="5.36" y1="8.76" x2="9.86" y2="8.76"/><line class="cls-3" x1="5.36" y1="6.39" x2="7.06" y2="6.39"/><line class="cls-3" x1="5.36" y1="11.14" x2="9.86" y2="11.14"/></g></g></svg>'},"1b52":function(e,t,i){"use strict";var n=i("8a1f"),o=i.n(n);o.a},"1bd6":function(e,t,i){"use strict";var n=i("5fae"),o=i.n(n);o.a},"1d66":function(e,t,i){"use strict";var n=i("3f1b"),o=i.n(n);o.a},"206d":function(e,t,i){"use strict";var n=i("4413"),o=i.n(n);o.a},"211d":function(e,t,i){"use strict";i.r(t),t["default"]='<svg version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t viewBox="0 0 12 12" style="enable-background:new 0 0 12 12;" xml:space="preserve">\n<polyline class="hover-stroke" fill="none" stroke="#585C60" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round" points="4,2 8,6 4,10 "/>\n</svg>\n'},"23f3":function(e,t,i){"use strict";var n=i("4ffd"),o=i.n(n);o.a},"257e1":function(e,t,i){},2654:function(e,t,i){"use strict";i.r(t),t["default"]='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50"><defs><style>.cls-1{fill:#ffc3cc;opacity:0;}.cls-2{fill:#c6c6c6;}</style></defs><title>seating_student</title><g id="图层_2" data-name="图层 2"><g id="图层_1-2" data-name="图层 1"><rect class="cls-1" width="50" height="50"/><circle class="cls-2" cx="25" cy="11" r="10"/><rect class="cls-2" x="1" y="45.82" width="48" height="3.18"/><path class="cls-2" d="M25.05,47.74H25a1.79,1.79,0,0,1-1.22-.39,38.13,38.13,0,0,0-16-4.43,1.64,1.64,0,0,1-.32-.05,2.24,2.24,0,0,1-1.69-2V22.08a1.74,1.74,0,0,1,.67-1.38,1.91,1.91,0,0,1,1.52-.34,32.83,32.83,0,0,1,15.81,4,2.7,2.7,0,0,0,2.56,0,32.84,32.84,0,0,1,15.81-4,2,2,0,0,1,1.47.31,2,2,0,0,1,.72,1.5V40.81a2.24,2.24,0,0,1-1.69,2,.86.86,0,0,1-.32,0,38.28,38.28,0,0,0-16.05,4.43,1.82,1.82,0,0,1-1.17.4Z"/><rect class="cls-2" x="4" y="27" width="4" height="9" rx="2"/><rect class="cls-2" x="42" y="27" width="4" height="9" rx="2"/></g></g></svg>'},"27fe":function(e,t,i){"use strict";var n=i("0902"),o=i.n(n);o.a},"2cd6":function(e,t,i){},"311a":function(e,t,i){"use strict";i.r(t),t["default"]='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t viewBox="0 0 12 12" style="enable-background:new 0 0 12 12;" xml:space="preserve">\n\n<polyline class="hover-stroke" fill="none" stroke="#585C60" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round" points="2,8 6,4 10,8 "/>\n</svg>\n'},3461:function(e,t,i){"use strict";i.r(t),t["default"]='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">\n  \n  <path class="hover-fill" fill="#b1b4bb" fill-rule="evenodd" d="M17,9V7a1,1,0,0,0-1-1H12V4a1,1,0,0,0-1-1H9A1,1,0,0,0,8,4V6H4A1,1,0,0,0,3,7V9a1,1,0,0,0,1,1l-.84,5.86a1,1,0,0,0,1,1.14h11.7a1,1,0,0,0,1-1.14L16,10A1,1,0,0,0,17,9ZM7.8,14.7a.8.8,0,0,1-1.6,0V12.8a.8.8,0,1,1,1.6,0Zm3,0a.8.8,0,0,1-1.6,0V11.3a.8.8,0,0,1,1.6,0Zm3,0a.8.8,0,0,1-1.6,0V12.8a.8.8,0,0,1,1.6,0Z"/>\n</svg>\n'},"348a":function(e,t,i){},"3c2e":function(e,t,i){"use strict";i.r(t),t["default"]='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">\n  \n  <path class="hover-fill" fill="#b1b4bb" fill-rule="evenodd" fill-rule="evenodd" d="M11.2,9.6V3.13a1.12,1.12,0,0,0-1-1.12A1.09,1.09,0,0,0,9,3.1V9.6a.4.4,0,0,1-.4.4h0a.4.4,0,0,1-.4-.4v-5a1.12,1.12,0,0,0-1-1.12A1.09,1.09,0,0,0,6,4.6v5.73a.26.26,0,0,1-.48.12l-.46-.86a1.1,1.1,0,0,0-1.58-.4,1.13,1.13,0,0,0-.35,1.46l.75,1.41.06.1.26.49h0c.31.58.73,1.4,1.21,2.22A6.65,6.65,0,0,0,11,18c7,0,6.2-7.1,6.2-7.1V6.13a1.12,1.12,0,0,0-1-1.12A1.09,1.09,0,0,0,15,6.1V9.6a.4.4,0,0,1-.4.4h0a.4.4,0,0,1-.4-.4V4.13a1.12,1.12,0,0,0-1-1.12A1.09,1.09,0,0,0,12,4.1V9.6a.4.4,0,0,1-.4.4h0A.4.4,0,0,1,11.2,9.6Z"/>\n</svg>\n'},"3de1":function(e,t,i){"use strict";(function(e){i.d(t,"c",(function(){return s})),i.d(t,"f",(function(){return a})),i.d(t,"b",(function(){return u})),i.d(t,"d",(function(){return d})),i.d(t,"a",(function(){return l})),i.d(t,"e",(function(){return h}));i("99af"),i("c975"),i("ac1f"),i("1276");var n=i("53ca"),o=i("c9d9"),s=c(),r=s?localStorage:sessionStorage,a={set:function(e,t){r.setItem(e,JSON.stringify(t))},get:function(e){var t=null;try{t=JSON.parse(r.getItem(e))}catch(i){console.error(i)}return t},remove:function(e){r.removeItem(e)}},l=function(){var e=a.get("zegouid")||Date.now();return a.set("zegouid",e),e};function c(){return"undefined"!==typeof window&&"object"===Object(n["a"])(window.process)&&"renderer"===window.process.type||(!("undefined"===typeof e||"object"!==Object(n["a"])(e.versions)||!e.versions.electron)||"object"===("undefined"===typeof navigator?"undefined":Object(n["a"])(navigator))&&"string"===typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0)}function u(e,t,i){var n,o=this;return function(){for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];if(n&&clearTimeout(n),i){var l=!n;n=setTimeout((function(){n=null}),t),l&&e.apply(o,r)}else n=setTimeout((function(){e.apply(o,r)}),t)}}var d=function(e){var t=l(),i=e.roomId,n=e.userName,s=e.env,r=e.role,c=e.classScene,u={userID:t+"",userName:n,isMe:!0},d={roomId:i,userId:t,userName:n,role:r||o["b"],env:s,user:u,classScene:c};return a.set("loginInfo",d),d};function h(e){for(var t=[],i=0;i<e.length;)t.push("0x".concat(e[i]).concat(e[i+1])),i+=2;return t}}).call(this,i("4362"))},"3f1b":function(e,t,i){},"42b4":function(e,t,i){},4413:function(e,t,i){},"45cd":function(e,t,i){},4682:function(e,t,i){"use strict";i.r(t),t["default"]='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">\n  \n  <path class="hover-fill" fill="#b1b4bb" d="M14.71,3.29h0a3,3,0,0,1,3,3v1a0,0,0,0,1,0,0h-6a0,0,0,0,1,0,0v-1a3,3,0,0,1,3-3Z" transform="translate(8.05 -8.85) rotate(45)"/>\n  <path class="hover-fill" fill="#b1b4bb" fill-rule="evenodd" d="M7.13,16.5,3.7,17A.61.61,0,0,1,3,16.31l.49-3.43a2.29,2.29,0,0,1,.62-1.25l6.56-6.55,4.24,4.24L8.36,15.88A2.23,2.23,0,0,1,7.13,16.5Z"/>\n</svg>\n'},"46bb":function(e,t,i){"use strict";var n=i("2cd6"),o=i.n(n);o.a},4866:function(e,t,i){"use strict";i.r(t),t["default"]='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18">\n<rect class="cls-1" fill="none" width="18" height="18"/>\n<path class="hover-stroke" fill="none" stroke="#fff" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round" d="M8,15.3H4.8a2.05,2.05,0,0,1-2.1-2v-4a2.05,2.05,0,0,1,2.1-2h1"/>\n<line class="hover-stroke" fill="none" stroke="#fff" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round" x1="9" y1="9" x2="9" y2="2"/>\n<polyline class="hover-stroke" fill="none" stroke="#fff" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round" points="5.88 5.13 9 2 12.13 5.13"/>\n<circle class="hover-stroke" fill="none" stroke="#fff" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round" cx="12.5" cy="12.5" r="3"/>\n<line class="hover-stroke" fill="none" stroke="#fff" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round" x1="10.5" y1="10.5" x2="14.5" y2="14.5"/></svg>'},"48ea":function(e,t,i){},"48f2":function(e,t,i){"use strict";var n=i("703f"),o=i.n(n);o.a},"4c3a":function(e,t,i){"use strict";i.r(t),t["default"]='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n  <path class="hover-fill" fill="#585c62" d="M16.41,3,9.06,9.3H5.5a2.21,2.21,0,0,0-2.2,2.2v9a2.21,2.21,0,0,0,2.2,2.2H9.06L16.41,29H17.7V3ZM15.3,24.89,9.94,20.3H5.7V11.7H9.94L15.3,7.11Z"/>\n  <line class="hover-stroke" fill="none" stroke="#585c62" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2.4px" x1="20.3" y1="12.15" x2="27.9" y2="19.75"/>\n  <line class="hover-stroke" fill="none" stroke="#585c62" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2.4px" x1="27.9" y1="12.15" x2="20.3" y2="19.75"/>\n</svg>\n'},"4cd8":function(e,t,i){"use strict";var n=i("9183"),o=i.n(n);o.a},"4ffd":function(e,t,i){},"52d9":function(e,t,i){},5371:function(e,t,i){"use strict";i.r(t),t["default"]='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18">\n<defs><style>.cls-1{fill:#ffc3cc;opacity:0;}</style></defs>\n<rect class="cls-1" width="18" height="18"/>\n<path class="hover-stroke" fill="none" stroke="#0044ff" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round" d="M12.15,7.3h1a2.05,2.05,0,0,1,2.1,2v4a2.05,2.05,0,0,1-2.1,2H4.8a2.05,2.05,0,0,1-2.1-2v-4a2.05,2.05,0,0,1,2.1-2h1"/>\n<line class="hover-stroke" fill="none" stroke="#0044ff" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round" x1="9" y1="9" x2="9" y2="2"/>\n<polyline class="hover-stroke" fill="none" stroke="#0044ff" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round" points="5.88 5.13 9 2 12.13 5.13"/>\n</svg>'},"561a":function(e,t,i){"use strict";i.r(t),t["default"]='<svg version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t viewBox="0 0 12 12" style="enable-background:new 0 0 12 12;" xml:space="preserve">\n<polyline class="hover-stroke" fill="none" stroke="#585C60" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round" points="8,10 4,6 8,2 "/>\n</svg>\n'},"56d7":function(e,t,i){"use strict";i.r(t);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("2b0e"),o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[i("router-view")],1)},s=[],r=(i("5c0b"),i("2877")),a={},l=Object(r["a"])(a,o,s,!1,null,null,null),c=l.exports,u=i("8c4f"),d=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"room"},[i("scene-base-class")],1)},h=[],m=(i("b0c0"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isInit?i("div",{staticClass:"scene-base-class"},[i("zego-live-room",[1===e.classScene?i("page-layout-room"):e._e(),2===e.classScene?i("large-class-layout-room"):e._e()],1)],1):e._e()}),f=[],g=(i("ac1f"),i("5319"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"page-view-room"},[i("div",{staticClass:"page-left"},[i("zego-whiteboard-area",{attrs:{parentId:"whiteboardDemo"}},[i("div",{staticClass:"main-area"},[i("div",{staticClass:"main-top"},[i("room-controller-whiteboard")],1),i("div",{staticClass:"main-mid"},[i("room-whiteboard-area")],1),i("div",{staticClass:"main-bottom"},[i("room-controller-feature")],1)])])],1),i("div",{staticClass:"page-right"},[i("room-video-list")],1)])}),p=[],v=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"room-whiteboard-area"},[e.noList?i("room-whiteboard-none",{attrs:{auth:e.roomAuth.share,role:e.role}}):e._e(),i("div",{staticClass:"whiteboard-canvas-wrap",attrs:{id:"mainArea"}},[i("div",{staticClass:"whiteboard-canvas",attrs:{id:"whiteboardDemo"},on:{click:e.handleEntireCanvasClick}}),e.roomAuth.share?i("room-whiteboard-canvastools",{attrs:{initType:e.activeToolType}}):e._e(),e.roomAuth.share?i("room-controller-ppt"):e._e(),i("room-controller-thumbnails",{directives:[{name:"show",rawName:"v-show",value:e.roomAuth.share&&e.isThumbnailsVisible,expression:"roomAuth.share && isThumbnailsVisible"}]})],1),i("room-dialog-end",{ref:"endDialog"})],1)},_=[],w=(i("96cf"),i("1da1")),b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"room-whiteboard-none"},[2===e.role&&2===e.classScene?n("div",{staticClass:"content"},[n("div",{staticClass:"share-content large-class"},[n("img",{attrs:{src:i("7615"),alt:""}}),n("div",[e._v(e._s(e.$t("wb.wb_tip_wait_teacher_share")))])])]):n("div",{staticClass:"content"},[n("div",{staticClass:"share-content"},[n("span",[e._v(e._s(e.$t("wb.wb_select_share")))])]),n("div",{staticClass:"share-button"},[n("el-button",{attrs:{round:""},on:{click:e.createWhiteboard}},[e._v(e._s(e.$t("wb.wb_shared_wb")))]),n("el-button",{attrs:{round:""},on:{click:e.showFileListDialog}},[e._v(e._s(e.$t("wb.wb_shared_file")))])],1)])])},x=[],k=i("3de1"),y={name:"RoomWhiteboardNone",props:["auth","role"],inject:["zegoWhiteboardArea"],data:function(){var e;return{classScene:null===(e=k["f"].get("loginInfo"))||void 0===e?void 0:e.classScene}},methods:{createWhiteboard:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.auth){t.next=2;break}return t.abrupt("return",e.showToast(e.$t("wb.wb_tip_not_allowed_share")));case 2:e.zegoWhiteboardArea.setIsAllowSendRoomExtraInfo(!0),e.zegoWhiteboardArea&&e.zegoWhiteboardArea.createWhiteboard("whiteboardDemo");case 4:case"end":return t.stop()}}),t)})))()},showFileListDialog:function(){if(!this.auth)return this.showToast(this.$t("wb.wb_tip_not_allowed_share"));this.zegoWhiteboardArea&&this.zegoWhiteboardArea.setFilesListDialogShow(!0)}}},C=y,I=(i("cfda"),Object(r["a"])(C,b,x,!1,null,null,null)),S=I.exports,T=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"canvas-tools",attrs:{id:"canvasTools"}},[n("ul",{staticClass:"tools-list"},e._l(e.canvasToolList,(function(t){return n("li",{key:t.name,class:["tool-item","undo"===t.name&&"divide-line undo","save"===t.name&&"divide-line save","clearCurrentPage"===t.name&&"divide-line clearCurrentPage",e.isClickable(t)&&"active",e.hoverState?"":"forbid",t.clicked&&"active"],on:{click:function(i){return e.setToolType_(t)},mouseover:function(i){return i.preventDefault(),i.stopPropagation(),e.itemHoverState(t.type)}}},[n("div",{domProps:{innerHTML:e._s(i("db4e")("./"+t.imgName+".svg").default)}}),n("div",{staticClass:"tooltip"},[e._v(e._s(t.cnName))]),t.popperType?n("room-whiteboard-pencil",{directives:[{name:"show",rawName:"v-show",value:e.activeTextPencil===t.type,expression:"activeTextPencil === item.type"}]}):e._e()],1)})),0)])},L=[],A=(i("4de4"),i("7db0"),i("caad"),i("8a79"),i("2532"),i("5530")),V=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["pencil-text-setting","upload"===e.activePopperType?"upload-setting":""]},[n("div",{ref:"trigger"}),"graph"===e.activePopperType?n("div",{staticClass:"common-box pencil-box"},[n("div",{staticClass:"setting-title pencilThickness"},[e._v(e._s(e.$t("wb.wb_tool_shape_selection")))]),n("ul",{staticClass:"pencil-style"},e._l(e.graphList,(function(t){return n("li",{key:t.type,class:["graph-style-item",t.type===e.activeToolType&&"active"],on:{click:function(i){return e.setGraphType(t)}}},[n("div",{staticClass:"style-item",domProps:{innerHTML:e._s(i("db4e")("./"+t.imgName+".svg").default)}})])})),0)]):e._e(),"pencil"===e.activePopperType||"graph"===e.activePopperType?n("div",{staticClass:"common-box pencil-box"},[n("div",{staticClass:"setting-title pencilThickness"},[e._v(e._s(e.$t("wb.wb_tool_pen_style_thickness")))]),n("ul",{staticClass:"bs-list"},e._l(e.brushSizeList,(function(t){return n("li",{key:t,class:["bs-item",e.activeBrushSize===t&&"active"],style:"width: "+t+"px;\n          height: "+t+"px;\n          margin-top: "+(e.bigItem-t)/2+"px;",on:{click:function(i){return e.setBrushSize(t)}}})})),0)]):e._e(),"text"===e.activePopperType?n("div",{staticClass:"common-box text-box"},[n("div",{staticClass:"setting-title"},[e._v(e._s(e.$t("wb.wb_tool_font")))]),n("ul",{staticClass:"pencil-style"},e._l(e.textStyleList,(function(t){return n("li",{key:t.type,class:["pencil-style-item",t.isClicked&&"active"],on:{click:function(i){return e.setTextStyle(t)}}},[n("div",{staticClass:"style-item",domProps:{innerHTML:e._s(i("db4e")("./"+t.imgName+".svg").default)}})])})),0),n("div",{staticClass:"setting-title"},[e._v(e._s(e.$t("wb.wb_tool_font_size")))]),n("ul",{staticClass:"pencil-size"},e._l(e.textSizeList,(function(t){return n("li",{key:t,class:["pencil-size-item",t===e.activeTextSize&&"active"],on:{click:function(i){return e.setTextSize(t)}}},[e._v(" "+e._s(t)+" ")])})),0)]):e._e(),"upload"!==e.activePopperType?n("div",{staticClass:"common-box"},[n("div",{staticClass:"setting-title"},[e._v(" "+e._s({text:e.$t("wb.wb_tool_text_color"),pencil:e.$t("wb.wb_tool_pen_stroke_color"),graph:e.$t("wb.wb_tool_pen_stroke_color")}[e.activePopperType])+" ")]),n("ul",{staticClass:"color-list"},e._l(e.colorList,(function(t){return n("li",{key:t,class:["color-item",e.activeColor===t&&"active"],style:"background: "+t,on:{click:function(i){return e.setBrushColor(t)}}},[n("div",{class:["checkmark","#ffffff"===t&&"white"],domProps:{innerHTML:e._s(i("7606").default)}})])})),0)]):e._e(),"upload"===e.activePopperType?n("div",{staticClass:"common-box upload-box"},[n("div",{staticClass:"static"},[n("input",{ref:"staticRef",staticClass:"static-upload-input",attrs:{type:"file",accept:".ppt,.pptx,.doc,.docx,.xls,.xlsx,.pdf,.txt,.jpg,.jpeg,.png, .bmp, .heic"},on:{change:e.uploadStatic}}),n("p",[n("span",[e._v(e._s(e.$t("wb.wb_tool_upload_static")))]),n("span",{staticStyle:{width:"16px",height:"16px"},domProps:{innerHTML:e._s(i("120d").default)}})]),e._v(" "+e._s(e.$t("wb.wb_tool_upload_static_content"))+" ")]),n("el-divider"),n("div",{staticClass:"dymic"},[n("input",{ref:"dynamicRef",staticClass:"dymic-upload-input",attrs:{type:"file",accept:".pptx, .ppt"},on:{change:e.uploadDynamic}}),n("p",[n("span",[e._v(e._s(e.$t("wb.wb_tool_upload_dynamic")))]),n("span",{staticStyle:{width:"16px",height:"16px"},domProps:{innerHTML:e._s(i("5b9c").default)}})]),e._v(" "+e._s(e.$t("wb.wb_tool_upload_dynamic_content"))+" ")])],1):e._e()])},D=[],P=[{imgName:"text_bold",type:"bold",isClicked:!1},{imgName:"text_italic",type:"italic",isClicked:!1}],z=[{imgName:"tool_square",cnName:"矩形",type:8},{imgName:"tool_round",cnName:"椭圆",type:16},{imgName:"tool_line",cnName:"直线",type:4}],j=["#ffffff","#a4a4a4","#262626","#000000","#f64326","#fd7803","#f9e40a","#37b142","#1FE8E0","#0E6BFE","#6E45C5","#F7666B"],R={name:"RoomWhiteboardPencil",components:{},data:function(){return{bigItem:10,brushSizeList:[4,6,8,10],textSizeList:[18,24,36,48],colorList:j,textStyleList:P,graphList:z,fileList:[]}},inject:["zegoWhiteboardArea"],computed:{activePopperType:function(){return this.zegoWhiteboardArea.activePopperType},activeBrushSize:function(){return this.zegoWhiteboardArea.activeBrushSize},activeTextSize:function(){return this.zegoWhiteboardArea.activeTextSize},activeColor:function(){return this.zegoWhiteboardArea.activeColor},activeToolType:function(){return this.zegoWhiteboardArea.activeToolType}},methods:{setBrushSize:function(e){console.warn(e),this.zegoWhiteboardArea.setBrushSize(e),this.$parent.updateCanvasToolList("size",e)},setBrushColor:function(e){this.zegoWhiteboardArea.setBrushColor(e),this.$parent.updateCanvasToolList("color",e)},setTextSize:function(e){this.zegoWhiteboardArea.setTextSize(e),this.$parent.updateCanvasToolList("textSize",e)},setTextStyle:function(e){switch(e.isClicked=!e.isClicked,e.type){case"bold":this.zegoWhiteboardArea.setTextStyle(e.type,e.isClicked);break;case"italic":this.zegoWhiteboardArea.setTextStyle(e.type,e.isClicked);break}},setGraphType:function(e){var t=e.type;this.zegoWhiteboardArea.setGraphType(t),this.zegoWhiteboardArea.activeWBView.setToolType(t)},uploadStatic:function(e){this.$parent.resetUploadIconStatus();try{this.zegoWhiteboardArea.uploadFile(e.target.files[0],3),this.$refs.staticRef.value=null}catch(t){console.warn("uploadStatic",t),this.$refs.staticRef.value=null}},uploadDynamic:function(e){this.$parent.resetUploadIconStatus();try{this.zegoWhiteboardArea.uploadFile(e.target.files[0],6),this.$refs.dynamicRef.value=null}catch(t){console.warn("uploadDynamic",t),this.$refs.dynamicRef.value=null}}}},O=R,B=(i("5f6d"),Object(r["a"])(O,V,D,!1,null,"c07fc6e2",null)),W=B.exports,$=(i("c740"),i("13d5"),i("45fc"),i("a434"),i("d3b7"),i("2909")),M=i("d4ec"),E=i("bee2"),N=i("ade3"),H=i("bc3a"),F=i.n(H),U=i("5c96"),Z=i.n(U),q=i("262e"),J=i("2caf");i("4160"),i("b64b"),i("25f0"),i("159b");function G(e,t,i){if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)return navigator.mediaDevices.getUserMedia(e).then(t).catch(i);var n=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return n(e,t,i)}var K=/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent),X=/Firefox/.test(navigator.userAgent),Q=function(){function e(t){var i=t.context,n=t.client;Object(M["a"])(this,e),Object(N["a"])(this,"_client",null),this.context=i,this._client=n,this.room_id=null,this.roomUserList=[],this.localStream=null,this.stream_publish_state="NO_PUBLISH",this.isCreatingStream=!1}return Object(E["a"])(e,[{key:"on",value:function(e,t){console.log("监听事件: ",e),this._client&&this._client.on(e,t)}},{key:"getProxyFunc",value:function(){return["createStream","startPreview","startPublishingStream","startPlayingStream","mutePublishStreamAudio","mutePublishStreamVideo","loginRoom","enumDevices","useVideoDevice","useAudioDevice","stopPlayingStream","stopPublishingStream","setRoomExtraInfo","sendBarrageMessage"]}},{key:"express",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.getProxyFunc();if(t.some((function(t){return t===e}))){for(var i=arguments.length,n=new Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];return console.warn("express methods: ",e,", args:",n),this[e].apply(this,n)}console.warn("不存在该方法, methodName=",e)}},{key:"loginRoom",value:function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(){var t,i,n,o,s,r,a,l,c,u,d,h=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=h.length>0&&void 0!==h[0]?h[0]:"",i=h.length>1&&void 0!==h[1]?h[1]:{},n=this.context.getState("isLogin"),o=n.isLogin,o&&console.warn("has login!!!"),s=this.context.state.tokenInfo.token1,i=Object(A["a"])({userUpdate:!0,maxMemberCount:10},i),r=this.context.state.user,a=r.userID,l=r.userName,e.prev=7,d=[t,s,{userID:a,userName:l},i],console.log("loginRoom",{args:d}),e.next=12,(u=this._client).loginRoom.apply(u,d);case 12:c=e.sent,console.log({res:c}),c&&(console.warn("loginRoom is success!!"),this.afterLoginRoom(t)),c={error:!1},this.context.setState({tokenInfo:{}}),e.next=24;break;case 19:e.prev=19,e.t0=e["catch"](7),console.log("login error",{e:e.t0}),this.context.setState({tokenInfo:{}}),c={error:!0,msg:e.t0.msg,code:e.t0.code};case 24:return e.abrupt("return",c);case 25:case"end":return e.stop()}}),e,this,[[7,19]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"afterLoginRoom",value:function(e){this.room_id=e,this.roomUserList.push(this.context.state.user),this.context.setState({isLogin:!0,room_id:e})}},{key:"createStream",value:function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.isCreatingStream){e.next=2;break}return e.abrupt("return");case 2:if(this.isCreatingStream=!0,!K){e.next=9;break}return e.next=6,this._client.createStream();case 6:this.localStream=e.sent,e.next=20;break;case 9:return e.prev=9,e.next=12,this._client.createStream(t);case 12:this.localStream=e.sent,e.next=20;break;case 15:return e.prev=15,e.t0=e["catch"](9),e.next=19,this._client.createStream();case 19:this.localStream=e.sent;case 20:case"end":return e.stop()}}),e,this,[[9,15]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"startPublishingStream",value:function(e,t){if(this.localStream)return this._client.startPublishingStream(e,this.localStream,t);console.warn("this.localStream is not exist！!")}},{key:"startPreview",value:function(e,t){console.warn("startPreview");var i=document.getElementById(e);this.removeElementVideo(t),i||(i=document.createElement("video"),i.setAttribute("autoplay",!0),i.setAttribute("muted",!0),i.setAttribute("id",e),t.appendChild(i)),i.srcObject=this.localStream}},{key:"startPlayingStream",value:function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(t){var i,n,o,s,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=r.length>1&&void 0!==r[1]?r[1]:{},n=r.length>2?r[2]:void 0,e.next=4,this._client.startPlayingStream(t,i);case 4:o=e.sent,s=document.getElementById(t),this.removeElementVideo(n),s||(s=document.createElement("video"),s.setAttribute("autoplay",!0),s.setAttribute("muted",!0),s.setAttribute("id",t),s.style.position="absolute",s.style.left=0,s.style.top=0,n.appendChild(s)),s.srcObject=o;case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"removeElementVideo",value:function(e){if(null===e||void 0===e?void 0:e.removeChild){var t=e.getElementsByTagName("video");if(t.length)for(var i=0;i<t.length;i++)e.removeChild(t[i]);t=null}}},{key:"mutePublishStreamAudio",value:function(e){return this._client.mutePublishStreamAudio(this.localStream,e)}},{key:"mutePublishStreamVideo",value:function(e){return console.warn("mutePublishStreamVideo",this.localStream,e),this._client.mutePublishStreamVideo(this.localStream,e)}},{key:"enumDevices",value:function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._client.enumDevices();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"useVideoDevice",value:function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._client.useVideoDevice(this.localStream,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"useAudioDevice",value:function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._client.useAudioDevice(this.localStream,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"stopPlayingStream",value:function(e){this._client.stopPlayingStream(e)}},{key:"stopPublishingStream",value:function(e){return this._client.stopPublishingStream(e),this.destroyStream(),Promise.resolve(!0)}},{key:"destroyStream",value:function(){this._client.destroyStream(this.localStream),this.localStream=null,this.isCreatingStream=!1}},{key:"setRoomExtraInfo",value:function(e,t){this._client.setRoomExtraInfo(this.room_id,e,t)}},{key:"sendBarrageMessage",value:function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._client.sendBarrageMessage(this.room_id,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),Y=function(e){Object(q["a"])(i,e);var t=Object(J["a"])(i);function i(){return Object(M["a"])(this,i),t.apply(this,arguments)}return i}(Q),ee=(i("99af"),i("d81d"),function(e){Object(q["a"])(i,e);var t=Object(J["a"])(i);function i(){return Object(M["a"])(this,i),t.apply(this,arguments)}return Object(E["a"])(i,[{key:"on",value:function(e,t){console.log("监听事件: ",e),this._client&&this._on(e,t)}},{key:"_on",value:function(e,t){var i=this;switch(e){case"roomUserUpdate":this._client.onEventHandler("onUserUpdate",(function(e){var n,o=e.update_type,s=e.update_flag,r=e.users;(console.log("onUserUpdate",{update_type:o,update_flag:s,users:r}),1==o)&&(i.roomUserList.length=0,(n=i.roomUserList).push.apply(n,Object($["a"])(r)));if(2==o){var a;if(1==s)return void(a=i.roomUserList).push.apply(a,Object($["a"])(r));i.roomUserList=i.roomUserList.filter((function(e){return!r.some((function(t){return t.user_id==e.user_id}))}))}var l=[].concat(i.roomUserList.map((function(e){return{userID:e.user_id,userName:e.user_name}})));t&&t(i.room_id,1==s?"ADD":"DELETE",l)}));break;case"roomStreamUpdate":this._client.onEventHandler("onStreamUpdated",(function(e){var i=e.room_id,n=e.stream_update_type,o=e.stream_list;console.log("roomStreamUpdate",{res:e});var s=[].concat(o.map((function(e){return{streamID:e.stream_id,extraInfo:e.extra_info,user:{userID:e.user_id,userName:e.user_name}}}))),r=[i,2001==n?"ADD":"DELETE",s];t&&t.apply(void 0,r)}));break;case"remoteCameraStatusUpdate":this._client.onEventHandler("onRemoteCameraStatusUpdate",(function(e){console.log("onRemoteCameraStatusUpdate",{res:e});var i=e.stream_id,n=e.status,o=[i,0==n?"OPEN":"MUTE"];t&&t.apply(void 0,o)}));break;case"publisherStateUpdate":this._client.onEventHandler("onPublishStateUpdate",(function(e){console.log("publisherStateUpdate",{res:e});var n=e.error_code,o=e.stream_id;i.stream_publish_state="PUBLISHING";var s={state:i.stream_publish_state,streamID:o,errorCode:n};t&&t(s)}));break;case"roomExtraInfoUpdate":this._client.onEventHandler("onRecvCustomCommand",(function(e){console.log("roomExtraInfoUpdate",{res:e});var n=e.room_id,o=e.content,s=JSON.parse(o),r=s.key,a=s.value,l=s.methodName;"roomExtraInfoUpdate"===l&&i.room_id===n&&t&&t(n,r,a)})),this._client.onEventHandler("onCustomCommand",(function(e){console.log("onCustomCommand",{res:e})}));break;case"roomStateUpdate":var n=this._client.onEventHandler("onDisconnect",(function(e){console.warn("onDisconnect",{res:e})}));console.log({isOnDisconnect:n}),this._client.onEventHandler("onReconnect",(function(e){console.warn("onReconnect",{res:e})})),this._client.onEventHandler("onTempBroken",(function(e){console.warn("onTempBroken",{res:e})}))}}},{key:"createStream",value:function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(){var t,i=this,n=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},e.abrupt("return",new Promise((function(e){console.log("createStream:",{option:t});var n=t.camera;if(n){var o=i._client.getDefaultAudioDeviceId({device_type:0}),s=i._client.getDefaultVideoDeviceId(),r={1:{width:320,height:240,frame:15,bitrate:300},2:{width:640,height:480,frame:15,bitrate:800},3:{width:1280,height:720,frame:20,bitrate:1500}},a=n.audio,l=void 0===a||a,c=n.audioInput,u=void 0===c?o:c,d=n.audioBitrate,h=void 0===d?48:d,m=n.video,f=void 0!==m&&m,g=n.videoInput,p=void 0===g?s:g,v=n.videoQuality,_=void 0===v?2:v,w=n.channelCount,b=void 0===w?1:w,x=n.ANS,k=void 0!==x&&x,y=n.AGC,C=void 0!==y&&y,I=n.AEC,S=void 0!==I&&I,T=n.width,L=void 0===T?320:T,A=n.height,V=void 0===A?240:A,D=n.bitRate,P=void 0===D?300:D,z=n.frame,j=void 0===z?15:z,R=r[_]|{},O=i._client.muteAudioPublish({is_mute:l});console.log({isMuteAudioPublishSucc:0===O});var B=i._client.muteVideoPublish({is_mute:f});console.log({isMuteVideoPublishSucc:0===B}),i._client.setAudioDevice({device_type:0,device_id:u}),i._client.setVideoDevice({device_id:p}),i._client.setAudioBitrate({bitrate:h}),i._client.setAudioChannelCount({channelCount:b}),i._client.enableANS({enable:k}),i._client.enableAGC({enable:C}),i._client.enableAEC({enable:S}),i._client.setVideoEncodeResolution({width:4==_?L:R.width,height:4==_?V:R.height}),i._client.setVideoFPS({fps:4==_?j:R.frame}),i._client.setVideoBitrate({bitrate:4==_?P:R.bitRate}),i.localStream="mock_localStream",e({})}})));case 2:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"startPublishingStream",value:function(e,t){console.log("startPublishingStream",{streamID:e,publishOption:t}),this.stream_publish_state="PUBLISH_REQUESTING";var i=this._client.startPublishing({title:"",publish_flag:2,stream_id:e,params:t});console.log("startPublishingStream:",{isStartPublishing:i})}},{key:"loginRoom",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t=t||"room_id_".concat((new Date).getTime()),this.room_id=t;var n=this.context.state.user,o=n.userID,s=n.userName;console.log("loginRoom",{userID:o});var r=i.userUpdate,a=i.maxMemberCount;return console.log({userUpdate:r,maxMemberCount:a}),this._client.setUser({user_id:o,user_name:s}),new Promise((function(i){var n=e._client.loginRoom({room_id:t,room_name:t,role:2},(function(n){if(0===n.error_code){var r={userID:o,userName:s};e.afterLoginRoom(r,t),i({error:!1})}else i({error:!0,msg:"登录房间出错！"});console.warn("登录结果返回",n)}));console.log("loginRoom result",{res:n})}))}},{key:"startPlayingStream",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;if(console.log("startPlayingStream",{streamID:e,playOption:t,element:i}),i&&i&&i.appendChild){var n=document.createElement("canvas");i.style.position="relative",n.style.width="100%",n.style.height="100%",n.style.position="absolute",n.style.top=0,n.style.left=0,n.setAttribute("id",e),i.appendChild(n),console.log({$canvas:n}),this._client.startPlayingStream({stream_id:e,canvas_view:n,params:t})}else console.warn("element不是dom元素！")}},{key:"mutePublishStreamAudio",value:function(e){console.log("mutePublishStreamAudio",{mute:e});var t=this._client.muteAudioPublish({is_mute:e});return!t}},{key:"mutePublishStreamVideo",value:function(e){console.log("mutePublishStreamVideo",{mute:e});var t=this._client.muteVideoPublish({is_mute:e});return!t}},{key:"enumDevices",value:function(){var e=this._client.getAudioDeviceList(0),t=this._client.getAudioDeviceList(1),i=this._client.getVideoDeviceList(),n={microphones:[].concat(e.map((function(e){return{deviceID:e.device_id,deviceName:e.device_name}}))),speakers:[].concat(t.map((function(e){return{deviceID:e.device_id,deviceName:e.device_name}}))),cameras:[].concat(i.map((function(e){return{deviceID:e.device_id,deviceName:e.device_name}})))};return Promise.resolve(n)}},{key:"useVideoDevice",value:function(e){this._client.setVideoDevice({device_id:e})}},{key:"useAudioDevice",value:function(e){this._client.setAudioDevice({device_type:0,device_id:e})}},{key:"stopPlayingStream",value:function(e){this._client.stopPlayingStream({stream_id:e})}},{key:"stopPublishingStream",value:function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("stopPublishingStream"),this.localStream=null,e.next=4,this._client.stopPublishing({});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setDebugVerbose",value:function(){}},{key:"setRoomExtraInfo",value:function(e,t){console.log("setRoomExtraInfo",{key:e,value:t}),console.log("this.roomUserList",this.roomUserList);var i=[];this.roomUserList.map((function(e){i.push({user_id:e.userID,user_name:e.userName})}));var n=JSON.stringify({key:e,value:t,methodName:"roomExtraInfoUpdate"});console.log({member_list:i,msg_content:n}),this._client.sendCustomCommand({member_list:i,msg_content:n})}}]),i}(Q)),te=k["c"]?ee:Y,ie=function(){function e(t){var i=t.context,n=t.client;Object(M["a"])(this,e),Object(N["a"])(this,"_client",null),this.context=i,this._client=n}return Object(E["a"])(e,[{key:"on",value:function(e,t){console.log("监听事件: ",e),this._client&&this._client.on(e,t)}},{key:"getProxyFunc",value:function(){return["createView","destroyView","attachView","getViewList"]}},{key:"whiteboard",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.getProxyFunc();if(t.some((function(t){return t===e}))){for(var i=arguments.length,n=new Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];return console.warn("方法被转发, methods: ",e,", args:",n),this[e].apply(this,n)}console.warn("不存在该方法, methodName=",e)}},{key:"createView",value:function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._client.createView(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"destroyView",value:function(e){return this._client.destroyView(e)}},{key:"attachView",value:function(e,t){return this._client.attachView(e,t)}},{key:"getViewList",value:function(){return this._client.getViewList()}},{key:"setDeferredRenderingTime",value:function(e){return this._client.setDeferredRenderingTime(e)}}]),e}(),ne=function(){function e(t){var i=t.context,n=t.client;Object(M["a"])(this,e),Object(N["a"])(this,"_client",null),Object(N["a"])(this,"_zgDocsView",null),this.context=i,this._client=n}return Object(E["a"])(e,[{key:"on",value:function(e,t){console.log("监听事件: ",e),this._client&&this._client.on(e,t)}},{key:"getProxyFunc",value:function(){return["uploadFile","createView","setTestEnv","setConfig","getConfig"]}},{key:"docs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.getProxyFunc();if(t.some((function(t){return t===e}))){for(var i=arguments.length,n=new Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];return console.warn("方法被转发, methods: ",e,", args:",n),this[e].apply(this,n)}console.warn("不存在该方法, methodName=",e)}},{key:"uploadFile",value:function(e,t){return this._client.uploadFile(e,t)}},{key:"setTestEnv",value:function(e){return this._client.setTestEnv(e)}},{key:"setConfig",value:function(e,t){return this._client.setConfig(e,t)}},{key:"getConfig",value:function(e){return this._client.getConfig(e)}},{key:"createView",value:function(){var e;return(e=this._client).createView.apply(e,arguments)}}]),e}(),oe=i("97f2"),se=function(){function e(t){Object(M["a"])(this,e),Object(N["a"])(this,"_client",null),Object(N["a"])(this,"_docsClient",null),Object(N["a"])(this,"liveClient",null),Object(N["a"])(this,"docsClient",null),Object(N["a"])(this,"whiteboardClient",null),Object(N["a"])(this,"protectList",["liveClient","whiteboardClient","docsClient"]),Object(N["a"])(this,"isElectron",!1),Object(N["a"])(this,"Config",null),this.Config=t,this.state={room_id:null,env:"home",user:{},tokenInfo:{},isLogin:!1,isInit:!1}}return Object(E["a"])(e,[{key:"init",value:function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(t){var i,n,o,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=s.length>1&&void 0!==s[1]?s[1]:"home",n=s.length>2&&void 0!==s[2]?s[2]:null,e.t0=this.initConfig,!e.t0){e.next=6;break}return e.next=6,this.initConfig(i);case 6:if(n=(k["f"].get("loginInfo")||{}).user||n,this._client){e.next=10;break}return e.next=10,this.initSDK(n);case 10:if("live"!==t){e.next=13;break}return o=this._client.zegoLiveRoom||this._client,e.abrupt("return",this.liveClient||(this.liveClient=new te({context:this,client:o})));case 13:if("whiteboard"!==t){e.next=15;break}return e.abrupt("return",this.whiteboardClient||(this.whiteboardClient=new ie({context:this,client:this._client})));case 15:if("docs"!==t){e.next=17;break}return e.abrupt("return",this.docsClient||(this.docsClient=new ne({context:this,client:this._docsClient})));case 17:this.lockProperty&&this.lockProperty();case 18:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"initConfig",value:function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(t){var i,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=t||(null===(i=k["f"].get("loginInfo"))||void 0===i?void 0:i.env),this.state.tokenInfo.token1){e.next=4;break}return e.next=4,this.createZegoContext(t);case 4:this.setState({isInit:!0,env:t},(function(){n.initConfig=null}));case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getToken",value:function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(t,i){var n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("getToken",{appID:t,userID:i}),e.next=3,F.a.get(oe["k"],{params:{app_id:t,id_name:i}});case 3:return n=e.sent,o=n.data,e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})));function t(t,i){return e.apply(this,arguments)}return t}()},{key:"createZegoContext",value:function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(t){var i,n,o,s,r,a,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.Config.getParams(t);case 2:return i=e.sent,n=i.appID,o=i.userID,s=i.isTestEnv,r=i.docsviewAppID,console.warn("createZegoContext appID,roomEnv",n,t),e.next=10,this.getToken(n,o);case 10:if(a=e.sent,l=a,r==n||s){e.next=16;break}return e.next=15,this.getToken(r,o);case 15:l=e.sent;case 16:console.warn("tokenInfo:",a,l),this.setState({env:t,tokenInfo:{token1:a,token2:l}});case 18:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"initSDK",value:function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log(t);case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"lockProperty",value:function(){var e=this;this.protectList.forEach((function(t){var i=e[t];Object.defineProperty(e,t,{get:function(){return i},set:function(){return console.warn("受保护的属性: ".concat(t,"，禁止修改！")),i}})})),this.lockProperty=null}},{key:"setState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("[object Object]"===Object.prototype.toString.call(e)){var i=Object.keys(e);i.reduce((function(t,i){return t[i]=e[i],t}),this.state),t&&t()}}},{key:"getState",value:function(){for(var e=this,t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return i.reduce((function(t,i){return t[i]=e.state[i],t}),{})}}]),e}(),re=i("c9d9"),ae=function(){function e(){Object(M["a"])(this,e),this.serverEnv=re["g"].wb,this.isTestEnv=!!re["g"].docs,this.homeAppID=re["a"].home,this.overseasAppID=re["a"].overseas,this.homeServer=re["d"].home,this.overseasServer=re["d"].overseas,this.userID=Object(k["a"])()+"",this.home=this.createConfig(this.homeAppID,this.homeServer,"",this.userID,[]),this.overseas=this.createConfig(this.overseasAppID,this.overseasServer,"",this.userID,[])}return Object(E["a"])(e,[{key:"getFileList",value:function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(){var t,i,n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.home.fileList.length){e.next=9;break}return e.next=3,F()({method:"get",url:"https://storage.zego.im/goclass/config.json",dataType:"json",crossDomain:!0,cache:!1});case 3:t=e.sent,i=t.data,n=i.docs_prod,o=i.docs_test,this.docs_prod=n,this.docs_test=o,this.home.fileList=this.docs_prod,this.overseas.fileList=this.docs_prod;case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"createConfig",value:function(e,t,i,n,o){return{appID:e,docsviewAppID:e,server:t,logURL:i,userID:n,fileList:o,isTestEnv:this.isTestEnv}}},{key:"getParams",value:function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(){var t,i,n=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:"home",e.next=3,this.getFileList();case 3:return i={},this.isTestEnv&&(i.fileList=this.docs_test),"home"===t&&this.serverEnv?i.server="wss://webliveroom-".concat(this.serverEnv,".zego.im/ws"):"overseas"===t&&(i.docsviewAppID=this.home.appID,this.serverEnv&&(i.server="wss://webliveroom-hk-test.zegocloud.com/ws")),Object.assign(this[t],i),e.abrupt("return",this[t]);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}(),le=function(e){Object(q["a"])(i,e);var t=Object(J["a"])(i);function i(){return Object(M["a"])(this,i),t.apply(this,arguments)}return i}(ae),ce=new le,ue=function(e){Object(q["a"])(i,e);var t=Object(J["a"])(i);function i(){return Object(M["a"])(this,i),t.apply(this,arguments)}return Object(E["a"])(i,[{key:"initSDK",value:function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(t){var i,n,o,s,r,a,l,c,u,d,h,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this._client){e.next=2;break}return e.abrupt("return");case 2:return console.warn("init web sdk start"),i=t.userID,n=this.state.env,o=void 0===n?"home":n,e.next=7,this.Config.getParams(o);case 7:s=e.sent,r=s.appID,a=s.logURL,l=s.server,c=s.isTestEnv,u=s.docsviewAppID,d=new window.ZegoExpressEngine(r,l),h=new window.ZegoExpressDocs({appID:u,token:this.state.tokenInfo.token2,userID:i,isTestEnv:c}),d&&console.log("init web sdk success!"),console.log("web sdk version ",d.getVersion()),h&&console.log("init docs sdk success!"),console.log("docs sdk version ",h.getVersion()),this._client=d,m={logLevel:3},a&&(m.logURL=a),this.setState({user:t}),d.setLogConfig(m),d.setDebugVerbose(!1),this._docsClient=h,console.warn("init web sdk done");case 27:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),i}(se),de=new ue(ce),he=i("257e"),me=function(e){Object(q["a"])(i,e);var t=Object(J["a"])(i);function i(){var e;return Object(M["a"])(this,i),e=t.call(this),Object(N["a"])(Object(he["a"])(e),"_base",{LOGDIRS:{win32:"c:/zegodocsviewlog/",darwin:Object({NODE_ENV:"production",BASE_URL:"/"}).HOME+"/docsviewlog/"}}),Object(N["a"])(Object(he["a"])(e),"_sign",{home:Object(A["a"])(Object(A["a"])({},e._base),{},{appSign:Object(k["e"])("")}),overseas:Object(A["a"])(Object(A["a"])({},e._base),{},{appSign:Object(k["e"])("")})}),e.bindElectronConfig(),e}return Object(E["a"])(i,[{key:"bindElectronConfig",value:function(){var e=this;Object.keys(this._sign).forEach((function(t){Object.assign(e[t],e._sign[t])}))}}]),i}(ae),fe=new me,ge=function(e){Object(q["a"])(n,e);var t=Object(J["a"])(n);function n(e){var i;return Object(M["a"])(this,n),i=t.call(this,e),i.isElectron=!0,i}return Object(E["a"])(n,[{key:"initSDK",value:function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(t){var i,n,o,s,r,a,l,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this._client){e.next=2;break}return e.abrupt("return");case 2:return i=this.state.env,n=void 0===i?"home":i,e.next=5,this.Config.getParams(n);case 5:return o=e.sent,s=o.appID,r=o.appSign,a=t&&t.userID||"test_id_".concat((new Date).getTime()),l=t&&t.userName||"test_name_".concat((new Date).getTime()),c={app_id:s,sign_key:r,user_id:a,user_name:l},e.next=13,this.originInitElectronSDK(c);case 13:u=e.sent,u?(this.setState({user:t}),this.electronSetConfig(this._client.zegoLiveRoom),console.warn("sdk初始化成功！")):console.warn("sdk初始化失败！");case 15:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"electronSetConfig",value:function(e){if(null===e||void 0===e?void 0:e.setRoomConfig){console.warn("electron setRoomConfig, should before loginRoom!"),e.setRoomConfig({audience_create_room:!0,user_state_update:!0});var t=this.state.tokenInfo.token1;t&&e.setCustomToken({third_party_token:t})}}},{key:"originInitElectronSDK",value:function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(t){var i,n,o,s,r,a,l,c=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=this.state.env,n=void 0===i?"home":i,e.next=3,this.Config.getParams(n);case 3:return o=e.sent,s=o.serverEnv,r=window.require("zegoliveroom/ZegoLiveRoom.js"),a=window.require("zegoliveroom/ZegoWhiteBoardView.js").ZegoExpressEngine,l=new r,l.setUseEnv({use_test_env:!!s}),l.setGeneralConfig({config:"device_mgr_mode=3"}),e.abrupt("return",new Promise((function(e){l.initSDK(t,function(){var i=Object(w["a"])(regeneratorRuntime.mark((function i(n){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return console.log({config:t}),console.log("ZegoLiveRoom sdk初始化",n),0!==n.error_code&&(l.unInitSDK(),e(!1)),c._client=new a(t,l),i.next=6,c.originInitElectronDocSDK(t);case 6:e(!0);case 7:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}())})));case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"originInitElectronDocSDK",value:function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(){var t,n,o,s,r,a,l,c,u,d,h,m,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("originInitElectronWBSDK"),t=this.state.env,n=void 0===t?"home":t,o=i("3c43"),s=o.platform(),e.next=6,this.Config.getParams(n);case 6:r=e.sent,a=r.appID,l=r.appSign,c=r.isTestEnv,u=r.LOGDIRS,d=u[s],h=window.require("zegodocsview/ZegoDocsView.bin"),m=window.require("zegodocsview/ZegoDocsView.js").ZegoExpressDocs,f=new m({appID:a,appSign:l,dataFolder:d,cacheFolder:d,logFolder:d,isTestEnv:c},new h),this._docsClient=f;case 16:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(se),pe=new ge(fe),ve=k["c"]?pe:de,_e=i("a925"),we={system:{exception_server_error:"Request server error",timeout_exceeded:"The request timed out and the server did not respond",internal_serve_error:" Internal Server Error",request_failed_code_502:"Request failed with status code 502",user_no_permission:"User does not have permission to modify",target_user_not_in_room:"The target user is not in the classroom",need_login:"Need to log in to the room first"},login:{login_welcome:"Welcome",login_welcome_join_goclass:"Welcome to join GOClass",login_goclass:"GoClass",login_input_classid:"Please enter class ID",login_enter_name:"Please enter your name",login_select:"Please select",login_small_class:"Small class",login_large_class:"Large class",login_teacher:"Teacher",login_student:"Student",login_join_class:"Join Class",login_access_env:"Network access region",login_mainland_china:"Mainland China",login_overseas:"Other",login_supports_pure_digits:"Only numbers, up to 9 digits",login_supports_characters_number_uppercase_letter:"Only support numbers, uppercase and lowercase letters, up to 30 digits",login_network_exception:"Network anomaly, please check the network and try again",login_class_is_full:"The class is full, cannot join",login_other_teacher_in_the_class:"There are already other teachers in the class， cannot join",login_fail_join_class:"Failed to join the class, please try again",login_interconnected:"Mainland China and other regions are not connected, please ensure that all participants are in the same environment",login_setting:"Setting",login_clear_cache:"Clear cache",login_room_not_exist:"The room doesn't exist"},wb:{wb_created_by:"Whiteboard {index} created by {name} ",wb_tip_exceed_max_number_wb:"Exceed the maximum number, please close some whiteboards",wb_tip_exceed_max_number_file:"Exceed the maximum number, please close some files",wb_tip_are_u_sure_close:"Are you sure to close [{wbname}]?",wb_cancel:"Cancel",wb_determine:"Yes",wb_select_share:"Please select which one to share",wb_shared_wb:"Shared Whiteboard",wb_shared_file:"Shared Files",wb_tip_not_allowed_share:"The teacher has not allowed you to use the sharing function",wb_tip_wait_teacher_share:"Waiting for teachers to share",wb_tool_click:"click",wb_tool_choice:" Choice select",wb_tool_drag:"Drag",wb_tool_laser:"Laser pen",wb_tool_brush:"Paint brush",wb_tool_brush_tickness:"Brush thickness",wb_tool_brush_stroke_color:"Brush color",wb_tool_text:"Text",wb_tool_font:"Font",wb_tool_font_size:"FontSize",wb_tool_text_color:"Text color",wb_tool_graphical:"Graphical",wb_tool_format:"Format",wb_tool_shape_selection:"Shape Selection",wb_tool_pen_style_thickness:"Brush thickness",wb_tool_pen_stroke_color:"Brush color",wb_tool_pen_border_thickness:"Border thickness",wb_tool_color:"Color",wb_tool_erase:"Eraser",wb_tool_clear:"Clear",wb_tool_revoke:"Revoke",wb_tool_redo:"Redo",wb_tool_save:"Save",wb_tip_save_success:"Saved successfully",wb_auth_photo:"Authority of photo",wb_tip_allow_access_photo:'Please allow the application to access your device‘s photos in the option of "Settings-GOClass-Photos" ',wb_tip_got_it:"Got it",wb_tip_go_to_set:"Go to set",wb_priview:"priview",wb_tool_upload_files:"Upload",wb_tool_upload_static:"Upload Static Files",wb_tool_upload_dynamic:"Upload Dynamic Files",wb_tool_upload_static_content:"Support PPT(X),DOC(X),XLS(X),PDF,TXT,JPG,JPEG,PNG,BMP,HEIC format",wb_tool_upload_dynamic_content:"Support PPTX,PPT format"},doc:{doc_uploading:"File uploading({n}%)",doc_converting:"The file is transcoding",doc_uploading_failed:"Failed to upload the file,please try again ",doc_converting_failed:"Failed to transcode the file,please try again ",doc_uploading_size_limit:"The file size exceeds the limit, please select again",doc_file_not_supported:"The file does not conform to the specification, please select again",doc_file_not_found:"The file does not exist",doc_formating_failed:"Format conversion failed, please select again",doc_file_empty:"The file content is empty, please select again "},room:{room_I:"I",room_select:"Please select",room_class_id:"Class ID",room_teacher:"Teacher",room_tip_wait_for_teacher:"Waiting for teacher to join",room_turn_off_camera:"Turn off camera",room_turn_off_mic:"Turn off the microphone",room_turn_on_camera:"Turn on the camera",room_turn_on_mic:"Turn on the microphone",room_sharing_auth:"Sharing Authorization",room_unauthorize_sharing:"Unauthorize Sharing",room_exit_class:"Exit Class",room_tip_are_u_sure_exit:"Are you sure to quit the current class?",room_tip_exit_class:"You can leave the class for a while, it won't end immediately. After finishing teaching, the students will be moved out of the class.",room_cancel:"Cancel ",room_trun_on:"Turn on ",room_turn_off:"Turn off ",room_leave_class:"Leave class",room_end_teaching:"End Teaching",room_tip_fail_quit_try_again:"Failed to quit class, please try again",room_tip_teacher_finished_teaching:"The teacher has finished Teaching",room_tip_determine:"ok",room_network_exception:"Network exception, rejoining...",room_rejoin_fail:"Rejoin failed, check network settings",room_retry:"retry",room_ok:"ok",room_controller_camera:"Camera",room_controller_mic:"Microphone",room_controller_speaker:"speaker",room_controller_share:"Share","room_controller_​whiteboard":"Whiteboard","room_controller_​docs":"Files","room_controller_​invitation":"invite","room_controller_​member":"members",room_file_select_file:"Select file",room_file_static_file:"Static",room_file_dynamic:"Dynamic",room_file_static_animation_displayed:"Static: PPT animation cannot be displayed",room_file_dynamic_animation_show:"Dynamic: PPT animation can be displayed",room_dialog_invite_member:"Invite members",room_dialog_classroom_link:"Class links",room_dialog_class_id:"Class ID",room_dialog_access_env:"Access environment",room_dialog_mainland_china:"Mainland China",room_dialog_overseas:"Other",room_dialog_copy_link:"Copy Invitation Link",room_dialog_:"Copy invitation information successfully",room_dialog_copy_suc:"Copy successfully",room_member_join:"Joined members({number})",room_member_turn_off_camera:"Turn off camera",room_member_teacher:"Teacher",room_member_tip_turn_off_mic:"Turn off the microphone",room_member_tip_turn_on_camera:"Turn on the camera",room_member_tip_turn_on_mic:"Turn on the microphone",room_member_tip_share_auth:"Share permission",room_member_tip_unauth_share:"Cancel share permission",room_student_tip_permission:"Your teacher has allowed you to use the sharing function",room_student_tip_revoke_share:"The teacher has cancelled your sharing permission",room_student_tip_turned_off_camera:"The teacher has turned off your camera",room_student_tip_turned_off_mic:"The teacher has turned off your microphone",room_student_tip_turned_on_camera:"The teacher has turned on your camera",room_student_tip_turned_on_mic:"The teacher has turned on your microphone",room_im_discuss:"Discuss",room_im_I:"I",room_im_say_something:"Say something~",room_im_send:"Send",room_im_join_class:" Join Class",room_im_exit_class:" Quit Class",room_im_max_characters:"Support up to 100 characters",room_im_message_send_fail:"Message sending failed",room_im_messasge_sent_frequently:"Messages are sent too frequently",room_im_message_cannot_empty:"Message cannot be empty",room_end_sign_out:"Sign out",room_end_exit_class:"Quit Class",room_end_tip_are_u_sure_quit:"Are you sure to quit the current class?",room_end_tip_end_class:"You can leave the class for a while, it won't end immediately. After finishing teaching, the students will be moved out of the class.",room_end_cancle:"Cancel",room_end_leave_class:"Leave",room_end_ending_class:"End Teaching",room_end_fail_quit_class:"Failed to quit class, please try again",room_end_tip_teacher_finished_teaching:"The teacher has finished Teaching",room_tip_channels:"Up to 3 channels of students audio and video",room_enable_setting:"Please enable",room_permissions:"permission in settings",room_permissions_obtained:"permission obtained successfully",room_login_time_limit_15:"Class experience is 15 minutes",room_login_time_out:"Class experience time has expired",room_login_time_confirm:"Confirm"}},be={system:{exception_server_error:"请求服务器错误",timeout_exceeded:"请求超时，服务器未响应",internal_serve_error:"请求服务器错误",request_failed_code_502:"请求服务器错误",user_no_permission:"用户没有权限修改",target_user_not_in_room:"目标用户不在教室",need_login:"需要先登录房间"},login:{login_welcome:"欢迎加入",login_welcome_join_goclass:"欢迎加入到GO课堂",login_goclass:"GO课堂",login_input_classid:"请输入课堂ID",login_enter_name:"请输入名称",login_select:"请选择",login_small_class:"小班课",login_large_class:"大班课",login_teacher:"老师",login_student:"学生",login_join_class:"加入课堂",login_access_env:"接入环境",login_mainland_china:"中国内地",login_overseas:"海外",login_supports_pure_digits:"仅支持纯数字，最大9位",login_supports_characters_number_uppercase_letter:"仅支持汉字，数字，大小写字母，最长30位",login_network_exception:"网络异常，请检查网络后重试",login_class_is_full:"课堂人数已满，不能加入",login_other_teacher_in_the_class:"课堂已有其他老师，不能加入",login_fail_join_class:"加入课堂失败，请重试",login_interconnected:"国内和海外不互通，请确保体验者均连接相同环境",login_setting:"设置",login_clear_cache:"清除缓存",login_room_not_exist:"房间不存在"},wb:{wb_created_by:"{name}创建的白板{index}",wb_tip_exceed_max_number_wb:"已超过最大数量，请关闭部分白板",wb_tip_exceed_max_number_file:"已超过最大数量，请关闭部分文件",wb_tip_are_u_sure_close:"确定关闭【{wbname}】吗？",wb_cancel:"取消",wb_determine:"确定",wb_select_share:"请选择要共享的内容",wb_shared_wb:"互动白板",wb_shared_file:"共享文件",wb_tip_not_allowed_share:"老师还未允许你使用共享功能",wb_tip_wait_teacher_share:"等待老师共享",wb_tool_click:"点击",wb_tool_choice:"选择",wb_tool_drag:"拖拽",wb_tool_laser:"激光笔",wb_tool_brush:"画笔",wb_tool_brush_tickness:"笔触粗细",wb_tool_brush_stroke_color:"笔触颜色",wb_tool_text:"文本",wb_tool_font:"字体",wb_tool_font_size:"字号大小",wb_tool_text_color:"文本颜色",wb_tool_graphical:"图形",wb_tool_format:"格式",wb_tool_shape_selection:"形状选择",wb_tool_pen_style_thickness:"笔触粗细",wb_tool_pen_stroke_color:"笔触颜色",wb_tool_pen_border_thickness:"笔触&边框粗细",wb_tool_color:"颜色",wb_tool_erase:"橡皮擦",wb_tool_clear:"清空",wb_tool_revoke:"撤销",wb_tool_redo:"重做",wb_tool_save:"保存",wb_tip_save_success:"保存成功",wb_auth_photo:"照片权限",wb_tip_allow_access_photo:"请在“设置-GO课堂-照片”选项中，允许应用访问您的设备照片",wb_tip_got_it:"知道了",wb_tip_go_to_set:"去设置",wb_priview:"预览",wb_tool_upload_files:"上传",wb_tool_upload_static:"上传静态文件",wb_tool_upload_dynamic:"上传动态文件",wb_tool_upload_static_content:"支持 PPT(X)、DOC(X)、XLS(X)、PDF、TXT、JPG、JPEG、PNG、BMP、HEIC 格式",wb_tool_upload_dynamic_content:"支持 PPTX、PPT 格式"},doc:{doc_uploading:"文件上传中（{n}%)",doc_converting:"文件正在转码 ",doc_uploading_failed:"文件上传失败，请重试 ",doc_converting_failed:"文件转码失败，请重试 ",doc_uploading_size_limit:"文件大小超过限制，请重新选择 ",doc_file_not_supported:"文件不符合规范，请重新选择 ",doc_file_not_found:"文件不存在 ",doc_formating_failed:"格式转换失败，请重新选择 ",doc_file_empty:"文件内容为空，请重新选择 "},room:{room_select:"请选择",room_class_id:"课堂ID",room_teacher:"老师",room_tip_wait_for_teacher:"等待老师加入",room_turn_off_camera:"关闭摄像头",room_turn_off_mic:"关闭麦克风",room_turn_on_camera:"打开摄像头",room_turn_on_mic:"打开麦克风",room_sharing_auth:"共享授权",room_unauthorize_sharing:"取消共享授权",room_exit_class:"退出课堂",room_tip_are_u_sure_exit:"确定要退出当前课堂？",room_tip_exit_class:"你可以暂时离开课堂，课堂不会立即结束。结束教学后，学生将被移出课堂。",room_cancel:"取消",room_trun_on:"打开",room_turn_off:"关闭",room_leave_class:"离开课堂",room_end_teaching:"结束教学",room_tip_fail_quit_try_again:"退出课堂失败，请重试",room_tip_teacher_finished_teaching:"老师已结束教学",room_tip_determine:"确定",room_network_exception:"网络异常，正在重新加入...",room_rejoin_fail:"重新加入失败，请检查网络设置",room_retry:"重试",room_ok:"确定",room_controller_camera:"摄像头",room_controller_mic:"麦克风",room_controller_speaker:"扬声器",room_controller_share:"共享","room_controller_​whiteboard":"白板","room_controller_​docs":"文件","room_controller_​invitation":"邀请","room_controller_​member":"成员",room_file_select_file:"选择文件",room_file_static_file:"静态",room_file_dynamic:"动态",room_file_static_animation_displayed:"静态：无法展示PPT动画",room_file_dynamic_animation_show:"动态：可展示PPT动画",room_dialog_invite_member:"邀请人员",room_dialog_classroom_link:"课堂链接",room_dialog_class_id:"课堂ID",room_dialog_access_env:"接入环境",room_dialog_mainland_china:"中国内地",room_dialog_overseas:"海外",room_dialog_copy_link:"复制邀请链接",room_dialog_:"邀请信息复制成功",room_dialog_copy_suc:"复制成功",room_member_join:"已加入成员({number})",room_member_turn_off_camera:"关闭摄像头",room_member_teacher:"老师",room_member_tip_turn_off_mic:"关闭麦克风",room_member_tip_turn_on_camera:"打开摄像头",room_member_tip_turn_on_mic:"打开麦克风",room_member_tip_share_auth:"共享授权",room_member_tip_unauth_share:"取消共享授权",room_student_tip_permission:"老师已允许你使用共享功能",room_student_tip_revoke_share:"老师已收回你的共享权限",room_student_tip_turned_off_camera:"老师已关闭你的摄像头",room_student_tip_turned_off_mic:"老师已关闭你的麦克风",room_student_tip_turned_on_camera:"老师已开启你的摄像头",room_student_tip_turned_on_mic:"老师已开启你的麦克风",room_im_discuss:"讨论",room_im_I:"我",room_im_say_something:"说点什么吧～",room_im_send:"发送",room_im_join_class:"加入课堂",room_im_exit_class:"退出课堂",room_im_max_characters:"最多支持输入100个字符",room_im_message_send_fail:"消息发送失败",room_im_messasge_sent_frequently:"消息发送过于频繁",room_im_message_cannot_empty:"消息不能为空",room_end_sign_out:"退出",room_end_exit_class:"退出课堂",room_end_tip_are_u_sure_quit:"确定要退出当前课堂？",room_end_tip_end_class:"你可以暂时离开课堂，课堂不会立即结束。结束教学后，学生将被移出课堂。",room_end_cancle:"取消",room_end_leave_class:"离开课堂",room_end_ending_class:"结束教学",room_end_fail_quit_class:"退出课堂失败，请重试",room_end_tip_teacher_finished_teaching:"老师已结束教学",room_tip_channels:"演示课堂最多开启3路学生音视频",room_enable_setting:"请在设置中开启",room_permissions:"权限",room_permissions_obtained:"权限获取成功",room_login_time_limit_15:"课堂体验时长为15分钟",room_login_time_out:"课堂体验时长已到期",room_login_time_confirm:"确定"}};n["default"].use(_e["a"]);var xe=sessionStorage.getItem("zego_locale");xe||(xe="zh"),console.warn("当前选择语言：",xe);var ke,ye=new _e["a"]({locale:xe,messages:{zh:be,en:we}}),Ce=ye,Ie=new n["default"];n["default"].prototype.$bus=Ie;var Se=1e4,Te=[10006],Le=(ke={"Network Error":Ce.t("login.login_network_exception")},Object(N["a"])(ke,"timeout of ".concat(Se,"ms exceeded"),Ce.t("system.timeout_exceeded")),Object(N["a"])(ke,"Internal Server Error",Ce.t("system.internal_serve_error")),Object(N["a"])(ke,"Request failed with status code 502",Ce.t("system.request_failed_code_502")),Object(N["a"])(ke,10001,Ce.t("login.login_other_teacher_in_the_class")),Object(N["a"])(ke,10002,Ce.t("login.login_class_is_full")),Object(N["a"])(ke,10003,Ce.t("system.user_no_permission")),Object(N["a"])(ke,10004,Ce.t("system.target_user_not_in_room")),Object(N["a"])(ke,10005,Ce.t("system.need_login")),Object(N["a"])(ke,10006,Ce.t("login.login_room_not_exist")),Object(N["a"])(ke,10007,Ce.t("room.room_tip_channels")),ke),Ae=function(e){e.ret.message=Le[e.ret.code]||e.ret.message||Ce.t("login.login_network_exception")},Ve=function(e){U["Message"].closeAll(),console.warn(e.ret.message),Object(U["Message"])({customClass:"common-toast",type:"error",message:e.ret.message}),Te.includes(e.ret.code)&&(window.location.hash="#/login")},De={testhome:oe["l"],testoverseas:oe["m"],home:oe["a"],overseas:oe["f"]},Pe=F.a.create({baseURL:De.home,timeout:Se});Pe.interceptors.response.use((function(e){var t=e.data;return 0==t.ret.code?t:(Ae(t),Ve(t),Promise.reject(t))}),(function(e){var t=e.message;return t&&(t=Le[t]||t,U["Message"].closeAll(),Object(U["Message"])({customClass:"common-toast",type:"error",message:t})),Promise.reject(e)}));var ze=function(e){Pe.defaults.baseURL=De[re["g"].goclass+e]||De.home},je=function(e,t){return Pe.post(e,t)},Re=function(){function e(){Object(M["a"])(this,e),Object(N["a"])(this,"roomId",""),Object(N["a"])(this,"uid",""),Object(N["a"])(this,"name",""),Object(N["a"])(this,"role",0),Object(N["a"])(this,"route",""),Object(N["a"])(this,"room_type",1),Object(N["a"])(this,"heartBeatId",0),Object(N["a"])(this,"attendeeListSeq",0),Object(N["a"])(this,"joinLiveListSeq",0),Object(N["a"])(this,"attendeeList",[]),Object(N["a"])(this,"joinLiveList",[]),Object(N["a"])(this,"params",{}),Object(N["a"])(this,"auth",{camera:re["f"],mic:re["f"],can_share:re["e"],share:!1}),Object(N["a"])(this,"inited",!1)}return Object(E["a"])(e,[{key:"init",value:function(e){var t=this,i=e.roomId,n=e.uid,o=e.name,s=e.role,r=e.route,a=e.room_type;this.roomId=i,this.uid=+n,this.name=o,this.role=s,this.route=r,this.params.room_id=i,this.params.uid=n,this.params.room_type=a,s==re["c"]&&(this.auth.can_share=re["f"],this.auth.share=!0),this.inited||(this.inited=!0,setTimeout((function(){t.startHeartBeat(),t.registerPushEvent(),t.getAttendeeList().then(t.getJoinLiveList.bind(t)).then(t.getControlAuth.bind(t))})))}},{key:"registerPushEvent",value:function(){var e=this;ve._client.on("IMRecvCustomCommand",(function(t,i,n){try{var o=JSON.parse(n);console.warn("后台 message",o),console.log("====edu_zpush====",o),102==o.cmd?e.onUserStateChange(o.data):103==o.cmd?(e.notifyAttendeeChange(o.data),e.getAttendeeList()):104==o.cmd?(e.getJoinLiveList(),e.role==re["b"]&&e.getAttendeeList()):105==o.cmd&&e.onEndTeaching()}catch(s){console.error("====edu_zpush====",s)}}))}},{key:"onUserStateChange",value:function(e){var t=this.uid;if(1!=e.type&&e.users){if(this.role==re["c"]){if(e.operator_uid==t&&e.users.find((function(e){return e.uid==t})))return;return this.getAttendeeList(),void this.getJoinLiveList()}if(this.role!=re["b"]||e.operator_uid!=t){var i=e.users.find((function(e){return e.uid==t}));if(this.role==re["b"]&&i){var n="";4==e.type?n=i.can_share==re["e"]?Ce.t("room.room_student_tip_revoke_share"):Ce.t("room.room_student_tip_permission"):2==e.type?n=i.camera==re["e"]?Ce.t("room.room_student_tip_turned_off_camera"):Ce.t("room.room_student_tip_turned_on_camera"):3==e.type&&(n=i.mic==re["e"]?Ce.t("room.room_student_tip_turned_off_mic"):Ce.t("room.room_student_tip_turned_on_mic")),this.auth.camera=i.camera,this.auth.mic=i.mic,this.auth.can_share=i.can_share,this.auth.share=i.can_share==re["f"],Object(U["Message"])({customClass:"common-toast",type:"info",message:n})}var o=e.users.reduce((function(e,t){return e[t.uid]=t,e}),{});Ie.$emit("userStateChange",o)}}}},{key:"onEndTeaching",value:function(){Ie.$emit("endTeaching",!0)}},{key:"startHeartBeat",value:function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(){var t,i,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.inited){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,je("heartbeat",this.params);case 4:t=e.sent,i=t.data,i.interval&&(this.attendeeListSeq=i.attendee_list_seq,this.joinLiveListSeq=i.join_live_list_seq,this.stopHeartBeat(),this.heartBeatId=setInterval(Object(w["a"])(regeneratorRuntime.mark((function e(){var t,i,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,je("heartbeat",n.params);case 3:t=e.sent,i=t.data,o=i.attendee_list_seq,s=i.join_live_list_seq,o>n.attendeeListSeq&&n.getAttendeeList(),s>n.joinLiveListSeq&&n.getJoinLiveList(),n.attendeeListSeq=o,n.joinLiveListSeq=s,e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](0),n.stopHeartBeat();case 16:case"end":return e.stop()}}),e,null,[[0,13]])}))),1e3*i.interval));case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"stopHeartBeat",value:function(){this.heartBeatId&&clearInterval(this.heartBeatId),this.heartBeatId=0}},{key:"getAttendeeList",value:function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(){var t,i,n,o,s,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.inited){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,je("get_attendee_list",this.params);case 4:return t=e.sent,i=[],n=t.data.attendee_list,n&&n.length&&(o=n.findIndex((function(e){return e.uid&&e.role==re["c"]})),-1!=o&&(i.push(n[o]),n.splice(o,1)),this.role==re["b"]&&(o=n.findIndex((function(e){return r.uid==e.uid})),-1!=o&&(i.push(n[o]),n.splice(o,1))),s=n.filter((function(e){return e.uid&&e.camera+e.mic>2})).sort((function(e,t){return e.login_time-t.login_time})),i.push.apply(i,Object($["a"])(s)),s=n.filter((function(e){return e.uid&&e.camera+e.mic<=2})).sort((function(e,t){return e.login_time-t.login_time})),i.push.apply(i,Object($["a"])(s))),this.attendeeList=i,Ie.$emit("roomAttendeesChange",i),e.abrupt("return",i);case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getJoinLiveList",value:function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(){var t,i,n,o,s,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.inited){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,je("get_join_live_list",this.params);case 4:return i=e.sent,n=(null===(t=this.attendeeList[0])||void 0===t?void 0:t.role)==re["c"]?this.attendeeList[0]:{uid:"",nick_name:"",role:re["c"],camera:re["e"],mic:re["e"],can_share:re["f"],join_live_time:0},o=[n],s=i.data.join_live_list,s&&s.length&&(r=s.findIndex((function(e){return e.uid&&e.role==re["c"]})),-1!=r&&(o[0]=s[r],o[0].joing=!0,s.splice(r,1)),a=s.filter((function(e){return e.uid&&e.role==re["b"]})).sort((function(e,t){return e.join_live_time-t.join_live_time})),o.push.apply(o,Object($["a"])(a))),this.joinLiveList=o,Ie.$emit("roomJoinLivesChange",o),e.abrupt("return",o);case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setUserInfo",value:function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(t){var i,n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.inited){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,je("set_user_info",Object(A["a"])(Object(A["a"])({},t),this.params));case 4:return i=e.sent,n=t.target_uid,o=this.attendeeList.find((function(e){return e.uid==n})),o&&Object.assign(o,t),o=this.joinLiveList.find((function(e){return e.uid==n})),o&&Object.assign(o,t),e.abrupt("return",i);case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getControlAuth",value:function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(){var t,i,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.role==re["b"]&&(t=this.uid,i=this.attendeeList.find((function(e){return e.uid==t})),!this.route&&i&&(this.auth.camera=i.camera,this.auth.mic=i.mic,this.auth.can_share=i.can_share,this.auth.share=i.can_share==re["f"]),this.joinLiveList.length>=4&&!this.joinLiveList.some((function(e){return e.uid==n.uid}))&&(this.auth.camera=re["e"],this.auth.mic=re["e"]),console.log("====roomstore init getControlAuth====",this.route,i,this.auth),Ie.$emit("userStateChange",Object(N["a"])({},this.uid,this.auth)));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"close",value:function(){var e=this.uid;this.attendeeList.some((function(t){return t.uid==e&&(t.camera=re["e"],t.mic=re["e"],!0)})),this.joinLiveList.some((function(t){return t.uid==e&&(t.camera=re["e"],t.mic=re["e"],!0)})),this.stopHeartBeat()}},{key:"notifyAttendeeChange",value:function(e){Ie.$emit("imAttendeesChange",e)}}]),e}(),Oe=new Re,Be={color:"#f64326",size:6,textSize:24},We={name:"RoomWhiteboardTools",props:["initType"],inject:["zegoWhiteboardArea"],components:{RoomWhiteboardPencil:W},data:function(){return{canvasToolList:[{imgName:"tool_click",cnName:this.$t("wb.wb_tool_click"),type:256},{imgName:"tool_choose",cnName:this.$t("wb.wb_tool_choice"),type:32},{imgName:"tool_hand",cnName:this.$t("wb.wb_tool_drag"),type:0},{imgName:"tool_laser",cnName:this.$t("wb.wb_tool_laser"),type:128},Object(A["a"])({imgName:"tool_pen",cnName:this.$t("wb.wb_tool_brush"),type:1,popperType:"pencil"},Be),Object(A["a"])({imgName:"tool_text",cnName:this.$t("wb.wb_tool_text"),type:2,popperType:"text"},Be),Object(A["a"])({imgName:"tool_figure",cnName:this.$t("wb.wb_tool_graphical"),popperType:"graph",clicked:!1,type:"graph"},Be),{imgName:"tool_eraser",cnName:this.$t("wb.wb_tool_erase"),type:64},{name:"clear",imgName:"tool_Del",cnName:this.$t("wb.wb_tool_clear")},{name:"undo",imgName:"tool_cancel",cnName:this.$t("wb.wb_tool_revoke")},{name:"redo",imgName:"tool_redo",cnName:this.$t("wb.wb_tool_redo")},{name:"snapshot",imgName:"tool_save",cnName:this.$t("wb.wb_tool_save")},{imgName:"tool_upload",cnName:this.$t("wb.wb_tool_upload_files"),type:"upload",clicked:!1,popperType:"upload"}],hoverState:!0,isNotDoType:["redo","undo","snapshot","upload"]}},mounted:function(){var e=this;Oe.role==re["b"]&&this.setToolType(this.canvasToolList.find((function(t){return t.type==e.initType}))),this.setToolType_=Object(k["b"])(this.setToolType,500,!0)},watch:{activeTextPencil:function(e,t){"upload"!==t||this.isNotDoType.includes(e)||this.resetUploadIconStatus(t),"graph"!==t||this.isNotDoType.includes(e)||this.resetGraphIconStatus()}},computed:{activeToolType:function(){return this.zegoWhiteboardArea.activeToolType},activeTextPencil:function(){return this.zegoWhiteboardArea.activeTextPencil},activeViewIsPPTH5:function(){return this.zegoWhiteboardArea.activeViewIsPPTH5},graphTypes:function(){return this.zegoWhiteboardArea.graphTypes},graphType:function(){return this.zegoWhiteboardArea.graphType},fileUploadStatus:function(){return this.zegoWhiteboardArea.fileUploadStatus}},methods:{isClickable:function(e){if(e.type===this.activeToolType)return!(!this.activeViewIsPPTH5||256!==e.type)||256!==e.type},itemHoverState:function(e){"upload"===e?this.hoverState=0===this.fileUploadStatus||16===this.fileUploadStatus:this.activeViewIsPPTH5?this.hoverState=!0:this.hoverState=256!==e},setToolType:function(e){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function i(){var n,o,s,r,a,l,c;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(n=e.type,t.hoverState){i.next=3;break}return i.abrupt("return");case 3:if(t.activeViewIsPPTH5||256!==n){i.next=5;break}return i.abrupt("return");case 5:if(64===n&&t.zegoWhiteboardArea.deleteSelectedGraphics(),t.zegoWhiteboardArea.setActivePopperType(e.popperType),o=!("redo"===e.name||"undo"===e.name||"snapshot"===e.name),s=t.canvasToolList.filter((function(e){return"graph"==e.popperType})),o&&(s[0].clicked=!1),r=t.canvasToolList.filter((function(e){return"upload"==e.popperType})),o&&(r[0].clicked=!1),"number"!==typeof n){i.next=18;break}t.zegoWhiteboardArea.setActiveToolType(n),console.warn("这里设置白板工具类型:",n),t.zegoWhiteboardArea.activeWBView.setToolType(n||null),i.next=43;break;case 18:if("graph"!==e.popperType){i.next=25;break}e.clicked=!0,console.warn("这里设置白板工具类型-图形:",t.zegoWhiteboardArea.graphType),t.zegoWhiteboardArea.activeWBView.setToolType(t.zegoWhiteboardArea.graphType),t.zegoWhiteboardArea.setActiveToolType(t.zegoWhiteboardArea.graphType),i.next=43;break;case 25:if("upload"!==e.popperType){i.next=34;break}if(a=t.zegoWhiteboardArea.checkViewFileMaxLength("file"),!a){i.next=31;break}return i.abrupt("return",t.$message(a));case 31:e.clicked=!0;case 32:i.next=43;break;case 34:if("snapshot"!==e.name){i.next=42;break}return l=t.zegoWhiteboardArea.activeWBView.getName(),i.next=38,t.zegoWhiteboardArea.activeWBView[e.name]({userData:"11"});case 38:c=i.sent,t.saveFile(c.image,"".concat(l)),i.next=43;break;case 42:t.zegoWhiteboardArea.activeWBView[e.name]();case 43:t.zegoWhiteboardArea.pencilTextTypes.includes(n)?(t.zegoWhiteboardArea.setActiveTextPencil(n),t.resetCanvasToolList(n)):t.zegoWhiteboardArea.resetActiveTextPencil();case 44:case"end":return i.stop()}}),i)})))()},saveFile:function(e,t){var i=document.createElementNS("http://www.w3.org/1999/xhtml","a");i.href=e;var n=t.endsWith("png")?t:t+".png";i.download=n;var o=document.createEvent("MouseEvents");o.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),i.dispatchEvent(o),this.$message(this.$t("wb.wb_tip_save_success"))},resetCanvasToolList:function(e){var t=this.canvasToolList.find((function(t){return t.type&&t.type==e}));"upload"!==t.type&&(this.zegoWhiteboardArea.setActiveColor(t.color),this.zegoWhiteboardArea.setActiveBrushSize(t.size),this.zegoWhiteboardArea.setActiveTextSize(t.textSize),this.zegoWhiteboardArea.setBrushColor(this.zegoWhiteboardArea.activeColor),this.zegoWhiteboardArea.setBrushSize(this.zegoWhiteboardArea.activeBrushSize),this.zegoWhiteboardArea.setTextSize(this.zegoWhiteboardArea.activeTextSize))},updateCanvasToolList:function(e,t){var i="graph"==this.zegoWhiteboardArea.activeTextPencil?"graph":+this.zegoWhiteboardArea.activeTextPencil;console.warn("updateCanvasToolList",i);var n=this.canvasToolList.find((function(e){return e.type&&e.type==i}));n&&(n[e]=t)},resetUploadIconStatus:function(){var e=this.canvasToolList.filter((function(e){return"upload"==e.popperType}));e[0].clicked=!1,this.zegoWhiteboardArea.resetActiveTextPencil()},resetGraphIconStatus:function(){var e=this.canvasToolList.filter((function(e){return"upload"==e.popperType}));e[0].clicked=!1}}},$e=We,Me=(i("802e"),Object(r["a"])($e,T,L,!1,null,null,null)),Ee=Me.exports,Ne=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.activeViewIsPPTH5?n("div",{staticClass:"ppt-dynamic"},[n("button",{staticClass:"step-item",domProps:{innerHTML:e._s(i("b7af").default)},on:{click:e.previousStep}}),n("div",{staticClass:"line"}),n("button",{staticClass:"step-item",domProps:{innerHTML:e._s(i("b6ee").default)},on:{click:e.nextStep}})]):e._e()},He=[],Fe={name:"RoomControllerPpt",inject:["zegoWhiteboardArea"],computed:{activeViewIsPPTH5:function(){return this.zegoWhiteboardArea.activeViewIsPPTH5}},created:function(){this.previousStep=Object(k["b"])(this.zegoWhiteboardArea.previousStep,300,!0),this.nextStep=Object(k["b"])(this.zegoWhiteboardArea.nextStep,300,!0)}},Ue=Fe,Ze=(i("6077"),Object(r["a"])(Ue,Ne,He,!1,null,"85faa4bc",null)),qe=Ze.exports,Je=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-drawer",{attrs:{title:e.$t("wb.wb_priview"),modal:!1,visible:e.visible,direction:"rtl",size:"100%","show-close":!1}},[i("ul",{ref:"swiper",staticClass:"swiper-ul",attrs:{id:"swiper"}},e._l(e.thumbnailsImg,(function(t,n){return i("li",{key:n,class:e.activeIndex===n&&"active",on:{click:function(t){return e.handlePageChange_(n)}}},[i("span",[e._v(e._s(n+1))]),i("el-image",{staticClass:"thumbnails-image",attrs:{src:t,fit:"contain"},on:{error:e.handleError}},[i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("i",{staticClass:"el-icon-picture-outline"})])])],1)})),0)])},Ge=[],Ke={name:"RoomControllerThumbnails",props:["thumbnailsVisible"],inject:["zegoWhiteboardArea"],data:function(){return{activeIndex:0}},computed:{visible:function(){return this.zegoWhiteboardArea.isThumbnailsVisible},currPage:function(){return this.zegoWhiteboardArea.currPage},thumbnailsImg:function(){return this.zegoWhiteboardArea.thumbnailsImg}},watch:{visible:function(e){var t=this;e&&(this.zegoWhiteboardArea.getThumbnailUrlList(),this.activeIndex=this.currPage-1,this.$nextTick((function(){t.elementScrollTo(t.activeIndex)})))},currPage:function(e){e<1||(this.activeIndex=e-1,this.elementScrollTo(this.activeIndex))}},mounted:function(){this.handlePageChange_=Object(k["b"])(this.handlePageChange,500,!0)},methods:{handlePageChange:function(e){this.activeIndex=e,this.elementScrollTo(e),this.zegoWhiteboardArea.flipPage(e+1)},elementScrollTo:function(e){var t=document.getElementById("swiper");if(t){var i=document.querySelectorAll("#swiper li")[0].clientHeight,n=i*(e-1);t.scrollTo({top:n,behavior:"smooth"})}},handleError:function(){console.warn("有略缩图加载失败！"),this.zegoWhiteboardArea.setThumbnailsStatus(!1)},open:function(){this.zegoWhiteboardArea.setThumbnailsVisible(!0)},close:function(){this.zegoWhiteboardArea.setThumbnailsVisible(!1)}}},Xe=Ke,Qe=(i("cf0d"),Object(r["a"])(Xe,Je,Ge,!1,null,null,null)),Ye=Qe.exports,et=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"room-dialog-error"},[i("el-dialog",{attrs:{visible:e.show,width:"380px",showClose:!1,"close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.show=t}}},[i("div",{staticClass:"dialog-content"},[i("div",{staticClass:"des"},[e._v(" "+e._s(e.$t("room.room_tip_teacher_finished_teaching"))+" ")]),i("div",[i("el-button",{staticClass:"end",attrs:{round:""},on:{click:e.end}},[e._v(e._s(e.$t("room.room_tip_determine")))])],1)])])],1)},tt=[],it={name:"RoomDialogEnd",data:function(){return{show:!1}},methods:{end:function(){this.show=!1,this.$route.meta.reload=!0,this.$router.replace("/login")}}},nt=it,ot=(i("7b4d"),Object(r["a"])(nt,et,tt,!1,null,null,null)),st=ot.exports,rt={name:"RoomWhiteboardArea",inject:["zegoWhiteboardArea"],components:{RoomWhiteboardNone:S,RoomWhiteboardCanvastools:Ee,RoomControllerPpt:qe,RoomControllerThumbnails:Ye,RoomDialogEnd:st},data:function(){return{isMounted:!1,noList:!1,defaultAspectAutio:16/9,roomAuth:Oe.auth,role:Oe.role}},computed:{isThumbnailsVisible:function(){return this.zegoWhiteboardArea.isThumbnailsVisible},activeToolType:function(){return this.zegoWhiteboardArea.activeToolType},activeViewIsPPTH5:function(){return this.zegoWhiteboardArea.activeViewIsPPTH5}},watch:{"zegoWhiteboardArea.WBViewList":function(){this.noList=!this.zegoWhiteboardArea.WBViewList.length&&this.isMounted},"zegoWhiteboardArea.activeWBView":function(e){this.setWBViewEnable(e)},"roomAuth.share":function(){this.setWBViewEnable(this.zegoWhiteboardArea.activeWBView)}},mounted:function(){this.init(),this.$bus.$on("endTeaching",this.endTeaching)},destroyed:function(){this.$bus.$off("endTeaching",this.endTeaching)},methods:{init:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.zegoWhiteboardArea.getViewList();case 3:e.WBViewList=t.sent,e.initCanvasWidthHieght(),e.initLayoutHeight(),0==e.WBViewList.length&&e.roomAuth.share&&e.$nextTick((function(){e.zegoWhiteboardArea.setIsAllowSendRoomExtraInfo(!0),e.zegoWhiteboardArea.createWhiteboard()}));case 7:return t.prev=7,e.noList=0==e.WBViewList.length,e.isMounted=!0,t.finish(7);case 11:case"end":return t.stop()}}),t,null,[[0,,7,11]])})))()},initCanvasWidthHieght:function(){var e=this,t=document.getElementById("whiteboardDemo");if(t){var i=t.clientWidth,n=t.clientHeight,o=i/n;if(o>16/9)t.style.width=Math.ceil(this.defaultAspectAutio*n)+"px";else{var s=Math.ceil(i/this.defaultAspectAutio)+"px";t.style.height=s}this.$nextTick((function(){e.zegoWhiteboardArea.aspectWidth=t.clientWidth,e.zegoWhiteboardArea.aspectHeight=t.clientHeight}))}var r=document.getElementById("canvasTools");r&&t&&(r.style.right=t.offsetLeft+10+"px")},initLayoutHeight:function(){var e=document.getElementsByClassName("main-area")[0].clientHeight||0,t=document.getElementById("whiteboardDemo").clientHeight||0,i=e-t,n=document.getElementsByClassName("main-bottom")[0],o=document.getElementsByClassName("main-top")[0],s=Math.ceil(40*i/108),r=e-t-s;o&&(o.style.height=s+"px"),n&&(n.style.height=r+"px")},handleEntireCanvasClick:function(){this.zegoWhiteboardArea.resetActiveTextPencil()},setWBViewEnable:function(e){if(Oe.role==re["b"]&&e){var t=this.roomAuth.share;t?e.setWhiteboardOperationMode(14):e.setWhiteboardOperationMode(8),e.setToolType(t?1:null),t&&(this.activeViewIsPPTH5||256!==this.activeToolType?e.setToolType(this.activeToolType):e.setToolType(1))}},endTeaching:function(){Oe.role==re["b"]&&(this.$refs.endDialog.show=!0)}}},at=rt,lt=(i("094f"),Object(r["a"])(at,v,_,!1,null,null,null)),ct=lt.exports,ut=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"room-video-list"},[i("ul",{staticClass:"video-preview-list"},[i("room-video-item",{attrs:{stream:e.teacherStream}}),2!==e.classScene?i("div",e._l(e.stuStreamList,(function(e){return i("room-video-item",{key:e.streamID,attrs:{stream:e}})})),1):e._e()],1)])},dt=[],ht=(i("fb6a"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{staticClass:"video-item"},[e.isTeacher?n("span",{staticClass:"role-tag"},[e._v(e._s(e.$t("room.room_teacher")))]):e._e(),e.isTeacherQuit?n("div",{staticClass:"no-stream-mask"},[n("div",{staticClass:"center-content"},[n("div",{staticClass:"icon-camera-close",domProps:{innerHTML:e._s(i("caaf").default)}}),n("div",{staticClass:"tip"},[e._v(e._s(e.$t("room.room_tip_wait_for_teacher")))])])]):e.isTeacher&&!e.isVideoOpen?n("div",{staticClass:"no-video-mask"},[n("div",{staticClass:"center-content"},[n("div",{staticClass:"icon-camera-close",domProps:{innerHTML:e._s(i("caaf").default)}})])]):e._e(),e.isTeacher||e.isVideoOpen?e._e():n("div",{staticClass:"no-video-mask"},[n("div",{staticClass:"icon-camera-close",domProps:{innerHTML:e._s(i("2654").default)}})]),e.stream.user.uid?n("room-controller-video",{attrs:{user:e.stream.user,isTeacher:e.isTeacher}}):e._e()],1)}),mt=[],ft=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"room-controller-video"},[i("ul",{staticClass:"controller-btn-list"},e._l(e.controlBtnList,(function(t){return i("li",{key:t.name,class:["btn-content",e.getItemDisabled(t)?"disabled":""]},[i("el-tooltip",{attrs:{disabled:e.getItemDisabled(t),effect:"dark",content:e.getItemContent(t),placement:"bottom","visible-arrow":!1}},[i("div",{class:["main-btn",2==e.user[t.name]?"isOpen":"isClose"],on:{click:function(i){return e.handleMainBtnClick_(t)}}},[i("div",{staticClass:"main-icon",domProps:{innerHTML:e._s(e.getItemIcon(t))}})])])],1)})),0),i("div",{staticClass:"user-name"},[i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.userName,placement:"bottom"}},[i("span",[e._v(e._s(e.userName))])])],1)])},gt=[],pt={name:"RoomControllerVideo",props:["user","isTeacher"],data:function(){return{btnList:[{name:"camera",cnName:this.$t("room.room_controller_camera"),imgSrc:{open:i("dd04").default,close:i("eec5").default}},{name:"mic",cnName:this.$t("room.room_controller_mic"),imgSrc:{open:i("ca80").default,close:i("ac61").default}},{name:"can_share",cnName:this.$t("room.room_sharing_auth"),imgSrc:{open:i("d74a").default,close:i("4866").default}}],controlBtnList:[]}},computed:{userName:function(){return this.user.userName||this.user.nick_name}},created:function(){this.roomId=Oe.roomId,this.userId=Oe.uid,this.role=Oe.role,this.isMe=this.userId==this.user.uid,this.controlBtnList=this.isTeacher?this.btnList.slice(0,2):this.btnList},mounted:function(){this.handleMainBtnClick_=Object(k["b"])(this.handleMainBtnClick,500,!0)},methods:{getItemDisabled:function(e){var t=e.name;return this.role!=re["c"]&&!(this.isMe&&"can_share"!==t)},getItemIcon:function(e){return this.user[e.name]==re["f"]?e.imgSrc.open:e.imgSrc.close},getItemContent:function(e){var t=this.user[e.name]==re["f"],i=t?this.$t("room.room_turn_off"):this.$t("room.room_trun_on");return"can_share"==e.name&&(i=t?this.$t("room.room_cancel"):""),i+e.cnName},handleMainBtnClick:function(e){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function i(){var n,o;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(n=e.name,!t.isMe||"can_share"!==n){i.next=3;break}return i.abrupt("return");case 3:if(t.role!=re["c"]&&!t.isMe){i.next=9;break}return o=t.user[n]==re["f"]?re["e"]:re["f"],i.next=7,Oe.setUserInfo(Object(N["a"])({target_uid:t.user.uid},n,o));case 7:t.user[n]=o,t.isMe&&t.$bus.$emit("userStateChange",Object(N["a"])({},t.user.uid,Object(N["a"])({},n,o)),!0);case 9:case"end":return i.stop()}}),i)})))()}}},vt=pt,_t=(i("48f2"),Object(r["a"])(vt,ft,gt,!1,null,null,null)),wt=_t.exports,bt={name:"RoomVideoItem",props:["stream"],inject:["zegoLiveRoom"],components:{RoomControllerVideo:wt},data:function(){return{interaction:!1,isMuted:!1}},computed:{isVideoOpen:function(){return this.stream.user.camera==re["f"]},isAudioOpen:function(){return this.stream.user.mic==re["f"]},isJoing:function(){return this.stream.user.joing},isTeacher:function(){return this.stream.user.role==re["c"]},isTeacherQuit:function(){return this.isTeacher&&!this.stream.user.uid},isDestroy:function(){return!this.isAudioOpen&&!this.isVideoOpen||!this.isJoing}},watch:{isDestroy:function(e){e&&(this.stream.streamID&&this.zegoLiveRoom.stopPlayingStream(this.stream.streamID),this.deleteVideoTag())},isTeacherQuit:function(e){e&&(this.zegoLiveRoom.stopPlayingStream(this.stream.streamID),this.deleteVideoTag())},isVideoOpen:function(e){if(console.warn("newVal",e),e){console.warn("this.stream.streamID",this.stream.streamID);var t=document.getElementById(this.stream.streamID);console.warn("$video",t),t&&(console.warn("isVideoOpen 修改muted",!!this.stream.user.isMe||this.isMuted),t.muted=!!this.stream.user.isMe||this.isMuted,t.play())}},"stream.streamID":function(e,t){var i=this;e||this.zegoLiveRoom.stopPlayingStream(t),this.$nextTick().then((function(){return i.pullVideo(e)}))}},mounted:function(){this.pullVideo(this.stream.streamID),this.onMuteSpeaker()},beforeDestroy:function(){var e,t=this;if("CANVAS"===(null===(e=this.$video)||void 0===e?void 0:e.nodeName))return this.isMe?this.zegoLiveRoom.stopPreview():this.zegoLiveRoom.stopPlayingStream(this.stream.streamID),void this.zegoLiveRoom.loseCanvasContext({canvas:this.$video},(function(){t.$video=null}));this.stream.streamID&&this.zegoLiveRoom.stopPlayingStream(this.stream.streamID),this.$video=null},methods:{onMuteSpeaker:function(){var e=this;this.zegoLiveRoom.onMuteSpeaker((function(t){e.isMuted=!t;var i=document.getElementById(e.stream.streamID);i&&("CANVAS"==(null===i||void 0===i?void 0:i.nodeName)?e.zegoLiveRoom.enableSpeaker({enable:t}):"VIDEO"==(null===i||void 0===i?void 0:i.nodeName)&&(console.warn("onMuteSpeaker 修改muted",!!e.stream.user.isMe||e.isMuted),i.muted=!!e.stream.user.isMe||e.isMuted))}))},pullVideo:function(e){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function i(){var n;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(e){i.next=3;break}return t.deleteVideoTag(),i.abrupt("return");case 3:if(n="video"+("push"===t.stream.type?" pull-stream":""),!t.stream.user.isMe){i.next=8;break}t.zegoLiveRoom.startPreview(e,t.$el),i.next=10;break;case 8:return i.next=10,t.zegoLiveRoom.startPlayingStream(e,{},t.$el);case 10:if(t.$video=document.getElementById(e),t.$video.setAttribute("class",n),console.warn("this.isMuted",t.isMuted),console.warn("pullVideo 修改muted",!!t.stream.user.isMe||t.isMuted),t.$video.muted=!!t.stream.user.isMe||t.isMuted,"CANVAS"!==t.$video.nodeName){i.next=17;break}return i.abrupt("return");case 17:t.autoPlay();case 18:case"end":return i.stop()}}),i)})))()},autoPlay:function(){var e=this;if(console.warn("自动播放"),X)this.tryFirefoxPlay(this.$video);else{var t=function(t){t&&(console.warn("canplayHandle 修改muted",!!e.stream.user.isMe||e.isMuted),t.muted=!!e.stream.user.isMe||e.isMuted,t.play())};if(this.interaction)this.$video.addEventListener("canplay",(function(){t(e.$video)}));else{var i=document.getElementById("app"),n=function n(){console.warn("模拟交互 自动播放"),t(e.$video),e.interaction=!0,i.removeEventListener("mousedown",n)};this.$video.click(),i.addEventListener("mousedown",n)}}},tryFirefoxPlay:function(e){var t=this;e&&(console.warn("firefox try play",e),e.play().then((function(){console.warn("firefox","播放成功"),clearTimeout(e.tryPlaytimer),console.warn("tryFirefoxPlay 修改muted",!!t.stream.user.isMe||t.isMuted),e.muted=!!t.stream.user.isMe||t.isMuted})).catch((function(i){console.warn("firefox","播放失败",i),e.tryPlaytimer=setTimeout((function(){t.tryFirefoxPlay(e)}),200)})))},deleteVideoTag:function(){var e;if(null===(e=this.$el)||void 0===e?void 0:e.removeChild){var t=this.$el.getElementsByTagName("video");if(t.length)for(var i=0;i<t.length;i++)this.$el.removeChild(t[i]);t=null}}}},xt=bt,kt=(i("1b52"),Object(r["a"])(xt,ht,mt,!1,null,null,null)),yt=kt.exports,Ct={streamID:"",user:{role:re["c"]}},It={name:"RoomVideoList",components:{RoomVideoItem:yt},data:function(){return{memberList:[],teacherStream:Ct,stuStreamList:[],classScene:k["f"].get("loginInfo").classScene||1}},inject:["zegoLiveRoom"],computed:{streamList:function(){return this.zegoLiveRoom.streamList}},watch:{streamList:function(e){var t=this.memberList.slice();this.makeTeacherStream(e,t),this.makeStuStreamList(e,t)},memberList:function(e){var t=this.streamList.slice();this.makeTeacherStream(t,e),this.makeStuStreamList(t,e)}},mounted:function(){this.$bus.$on("roomJoinLivesChange",this.onRoomJoinLivesChange),this.$bus.$on("userStateChange",this.onUserStateChange)},destroyed:function(){this.$bus.$off("roomJoinLivesChange",this.onRoomJoinLivesChange),this.$bus.$off("userStateChange",this.onUserStateChange)},methods:{onRoomJoinLivesChange:function(e){this.$set(this,"memberList",e)},onUserStateChange:function(e,t){t||(this.memberList.forEach((function(t){return Object.assign(t,e[t.uid])})),this.memberList=Object($["a"])(this.memberList))},makeTeacherStream:function(e,t){if(t.length){if(!t[0].uid||!e.length){var i=this.teacherStream;return i.user=t[0],i.isVideoOpen=!1,i.isAudioOpen=!1,i.streamID="",void this.$set(this,"teacherStream",i)}var n=t[0].uid,o=t[0].joing,s=e.find((function(e){return o&&(e.user.uid==n||e.user.userID==n)}));if(!s){var r=this.teacherStream;return r.user=t[0],r.isVideoOpen=!1,r.isAudioOpen=!1,r.streamID="",void this.$set(this,"teacherStream",r)}s.user=Object(A["a"])(Object(A["a"])(Object(A["a"])({},s.user),this.teacherStream.user),t[0]),this.$set(this,"teacherStream",s)}},makeStuStreamList:function(e,t){for(var i=[],n=function(n){var o=t[n].uid,s=e.find((function(e){return e.user.uid==o||e.user.userID==o}));s?(s.user=Object(A["a"])(Object(A["a"])({},s.user),t[n]),i.push(s)):i.push({streamID:"",user:t[n]})},o=1;o<t.length;o++)n(o);this.$set(this,"stuStreamList",i),i=null}}},St=It,Tt=(i("e208"),Object(r["a"])(St,ut,dt,!1,null,null,null)),Lt=Tt.exports,At=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.client?i("div",{staticClass:"zego-whiteboard-area"},[e._t("default"),1===e.fileUploadStatus||8===e.fileUploadStatus?i("file-upload-percent-dialog",{attrs:{percent:e.fileUploadPercent,fileUploadStatus:e.fileUploadStatus}}):e._e()],2):e._e()},Vt=[],Dt=(i("3ca3"),i("ddb0"),i("b85c")),Pt={1000001105:"课堂人数已满，不能加入",1002034:"课堂人数已满，不能加入",1102018:"token失效",1102016:"token错误"},zt={timeout:2001000004,showErrorCodeMsg:function(e,t){e&&(Pt[e]?(Z.a.Message({dangerouslyUseHTMLString:!0,message:Pt[e],customClass:"common-toast",duration:3e3}),t&&t()):console.warn("errorMsg中无对应错误提示语"))}},jt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"el-message el-message--info",staticStyle:{top:"4670px","z-index":"2094"},attrs:{role:"alert"}},[i("i",{staticClass:"el-message__icon el-icon-info"}),i("p",{staticClass:"el-message__content",staticStyle:{"line-height":"20px"}},[i("i",{staticClass:"el-icon-loading",staticStyle:{"margin-right":"6px","font-size":"20px","vertical-align":"middle"}}),1===e.fileUploadStatus?i("span",[e._v(e._s(e.$t("doc.doc_uploading",{n:e.percent})))]):8===e.fileUploadStatus?i("span",[e._v(e._s(e.$t("doc.doc_converting")))]):e._e()])])},Rt=[],Ot={name:"SceneBaseClass",props:["percent","fileUploadStatus"]},Bt=Ot,Wt=Object(r["a"])(Bt,jt,Rt,!1,null,null,null),$t=Wt.exports,Mt=null,Et={name:"ZegoWhiteboardArea",props:{parentId:String},data:function(){return{client:null,docsClient:null,liveClient:null,WBViewList:[],excelSheetsMap:[],activeExcelSheets:[],activeExcelSheetNames:[],activeExcelSheetsIdMap:{},excelSheetNamesIdMap:{},originWBViewList:[],defaultAspectAutio:16/9,aspectWidth:500,aspectHeight:500,pageCount:5,currPage:1,totalPage:1,isCreating:!1,activeWBId:null,activeWBView:null,WBNameIndex:1,fileInfo:null,activeViewIsPPTH5:null,activeViewIsPDF:null,activeViewIsPPT:null,activeViewIsExcel:null,zoom:100,activeTextPencil:null,activePopperType:"",activeToolType:1,pencilTextTypes:[1,2,4,8,16,"graph","upload"],graphTypes:[4,8,16],graphType:8,activeColor:"#f64326",activeBrushSize:6,activeTextSize:24,isRemote:!1,zgDocsView:null,selectTimerTryTimes:0,selectTimer:-1,isThumbnailsVisible:!1,thumbnailsStatus:!0,thumbnailsImg:[],filesListDialogShow:!1,isAllowSendRoomExtraInfo:!0,fileUploadPercent:0,fileUploadStatus:0,waitting:!1,uploadFileFlag:!1}},inject:["zegoLiveRoom"],provide:function(){return{zegoWhiteboardArea:this}},components:{FileUploadPercentDialog:$t},computed:{userName:function(){return this.zegoLiveRoom.userName},roomState:function(){return this.zegoLiveRoom.roomState},defaultSelectWBInfo:function(){return this.zegoLiveRoom.roomExtraInfo},roomID:function(){return this.zegoLiveRoom.roomId}},watch:{roomState:function(e){switch(e){case"CONNECTED":this.reUpdateWBList(),this.activeWBView.serviceHandle.reload();break;default:break}},defaultSelectWBInfo:function(e){console.warn("defaultSelectWBInfo RoomExtraInfo",e.data),this.isAllowSendRoomExtraInfo=!1,this.handleRemoteWhiteboardChange(e)},activeWBView:function(e,t){!t&&e&&this.initWBPencilSetting()},activeViewIsPPTH5:function(e,t){e!==t&&t&&256==this.activeToolType&&(console.warn("这里执行了setToolType，值为1"),this.activeWBView.setToolType(1),this.setActiveToolType(1),this.resetActiveTextPencil(),this.setActivePopperType(""))}},destroyed:function(){clearTimeout(this.selectTimer)},mounted:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.initClient();case 2:return t.next=4,e.initWhiteboardArea();case 4:window.addEventListener("online",(function(){e.reUpdateWBList(),e.activeWBView.serviceHandle.reload()}));case 5:case"end":return t.stop()}}),t)})))()},methods:{handleRemoteWhiteboardChange:function(e){var t=this;if(e){var i=e.type,n=e.data;"1001"===i&&n!==this.activeWBId&&n&&(console.warn("handleRemoteWhiteboardChange",{res:e}),this.originWBViewList.length?this.checkRemoteView(n):(console.warn("handleRemoteWhiteboardChange 列表长度不为0",this.originWBViewList.length,this.WBViewList.length),!Mt&&(Mt=setInterval((function(){t.originWBViewList.length&&(t.checkRemoteView(n),clearInterval(Mt),Mt=null)}),10))))}},initClient:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ve.init("whiteboard");case 2:return e.client=t.sent,t.next=5,ve.init("docs");case 5:return e.docsClient=t.sent,t.next=8,ve.init("live");case 8:e.liveClient=t.sent,e.docsClient.setConfig("disableH5ImageDrag","true"),e.docsClient.setConfig("pptStepMode",re["g"].pptStepMode);case 11:case"end":return t.stop()}}),t)})))()},initWhiteboardArea:function(){var e=arguments,t=this;return Object(w["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:t.client.on("error",(function(e){switch(console.warn("error",e),e.code){case 3030005:t.showToast("操作失败，当前图元大小超过限制");break;default:break}})),t.client.on("viewAdd",function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(i){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.warn("viewAdd",i),e.next=3,t.addView(i);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.client.on("viewRemoved",function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(i){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.warn("remove",i),e.next=3,t.removeView(i);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.client.on("viewScroll",(function(e){var i=e.id,n=e.page,o=e.step;console.warn("viewScroll",i,n,o),t.updateCurrPage(n)})),t.docsClient.on("onLoadFile",function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(i){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("docsClient.onLoadFile---",{res:i}),e.prev=1,e.next=4,t.createFileWBView(i);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](1),console.error("createFileWBView",e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()),t.docsClient.on("onStepChange",(function(e){console.log("======onStepChange",e.page,e.step,e.notify)})),t.docsClient.on("onUpload",function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(i){var n,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.uploadFileFlag=!0,console.log("docsClient.onLoadFile---",{res:i}),o={1:"上传中",2:"已上传",4:"排队中",8:"转换中",16:"转换成功",32:"转换失败",64:"取消上传"},t.fileUploadStatus=i.status,1===i.status&&100!==i.uploadPercent?(console.log("文件".concat(o[i.status],"，进度").concat(i.uploadPercent,"% :"),i),t.fileUploadPercent=i.uploadPercent):100==i.uploadPercent?t.fileUploadPercent=100:16===i.status?(t.fileUploadPercent=0,t.fileUploadStatus=0,t.createDocView(i.fileID)):void 0===t.fileUploadStatus?t.fileUploadStatus=0:console.log("文件".concat(o[i.status],":"),i),console.warn(t.fileUploadStatus),s=(null===(n=i.error)||void 0===n?void 0:n.code)||i.code,t.translateUploadFileCode(s);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),window.addEventListener("keydown",(function(i){var n=i||window.event||e.callee.caller.arguments[0];if(n)switch(n.keyCode){case 8:t.deleteSelectedGraphics();break;case 46:t.deleteSelectedGraphics();break;default:break}}));case 8:case"end":return i.stop()}}),i)})))()},createDocView:function(e){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function i(){var n;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(n=t.checkViewFileMaxLength("file"),!n){i.next=3;break}return i.abrupt("return",t.$message(n));case 3:if(!t.waitting){i.next=5;break}return i.abrupt("return");case 5:return t.waitting=!0,t.activeViewIsPPTH5&&t.stopPlay(),t.setIsAllowSendRoomExtraInfo(!0),i.next=10,t.createFileView(e);case 10:t.waitting=!1;case 11:case"end":return i.stop()}}),i)})))()},addView:function(e){this.originWBViewList.unshift(e),this.getViewList(!1)},removeView:function(e){this.activeWBId===e&&this.setThumbnailsVisible(!1);for(var t=this.excelSheetsMap,i=[],n=0,o=Object.keys(t);n<o.length;n++){var s=o[n],r=t[s].map((function(e){return e.whiteboardID}));r.includes(e)&&(i=r)}i.length?this.originWBViewList=this.originWBViewList.filter((function(e){return!i.includes(e.whiteboardID)})):this.originWBViewList=this.originWBViewList.filter((function(t){return t.whiteboardID!==e})),this.getViewList(!1)},getViewList:function(){var e=arguments,t=this;return Object(w["a"])(regeneratorRuntime.mark((function i(){var n,o,s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(n=!(e.length>0&&void 0!==e[0])||e[0],o=[],!n){i.next=9;break}return i.next=5,t.client.getViewList();case 5:o=i.sent,t.originWBViewList=o,i.next=10;break;case 9:o=t.originWBViewList;case 10:return console.warn(o),s={},o=o.map((function(e){var i=e.getFileInfo&&e.getFileInfo();if(i&&4===i.fileType){var n=i.fileID;s[n]||(s[n]=[]),s[n].push(e);var o=t.getLastMatchedViewByFileID(n);return e.whiteboardID===o.whiteboardID?t.addAttrToView(e):null}return t.addAttrToView(e)})).filter((function(e){return e})),t.excelSheetsMap=s,console.warn("excelSheetsMap",s),t.WBViewList=o,i.abrupt("return",o);case 17:case"end":return i.stop()}}),i)})))()},getLastMatchedViewByFileID:function(e){for(var t,i=this.originWBViewList.length-1;i>=0;i--){var n;if((null===(n=this.originWBViewList[i].getFileInfo())||void 0===n?void 0:n.fileID)===e){t=this.originWBViewList[i];break}}return t},addAttrToView:function(e){return Object.assign(e,{name:this.getViewName(e)})},getViewName:function(e){return e.getName()},updateCurrPage:function(e){var t;this.currPage=e||(null===(t=this.activeWBView)||void 0===t?void 0:t.getCurrentPage())||1},setIsAllowSendRoomExtraInfo:function(e){this.isAllowSendRoomExtraInfo=e},notifyAllViewChanged:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.isAllowSendRoomExtraInfo){t.next=2;break}return t.abrupt("return");case 2:e.liveClient.express("setRoomExtraInfo","1001",e.activeWBId);case 3:case"end":return t.stop()}}),t)})))()},createWhiteboard:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){var i,n,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=e.checkViewFileMaxLength("view"),!i){t.next=3;break}return t.abrupt("return",e.showToast(i));case 3:return n={roomID:e.roomID,pageCount:e.pageCount,aspectWidth:e.aspectWidth*e.pageCount,aspectHeight:e.aspectHeight,name:"".concat(e.userName,"创建的白板").concat(e.WBNameIndex++)},t.prev=4,t.next=7,e.client.createView(n);case 7:return o=t.sent,t.next=10,e.client.attachView(o,e.parentId);case 10:e.originWBViewList.find((function(e){return e.whiteboardID===o.whiteboardID}))||e.originWBViewList.unshift(Object.assign(o,{name:e.getViewName(o)})),e.getViewList(!1),e.updateActiveView(o),t.next=20;break;case 15:t.prev=15,t.t0=t["catch"](4),console.log(t.t0),s=t.t0.code,s===zt.timeout?e.showToast("请求超时"):e.showToast("共享失败");case 20:case"end":return t.stop()}}),t,null,[[4,15]])})))()},checkViewFileMaxLength:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"view",i=[],n=[],o=Object(Dt["a"])(this.WBViewList);try{for(o.s();!(e=o.n()).done;){var s=e.value;s.getFileInfo()?n.push(s):i.push(s)}}catch(r){o.e(r)}finally{o.f()}return"view"===t&&i.length>=10?this.$t("wb.wb_tip_exceed_max_number_wb"):"file"===t&&n.length>=10?this.$t("wb.wb_tip_exceed_max_number_file"):void 0},updateActiveView:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;setTimeout((function(){t.$set(t,"activeWBId",e.whiteboardID),t.$set(t,"activeWBView",e),console.warn("更新activeWBId",t.activeWBId),t.isThumbnailsVisible=!1;var n=e&&(null===e||void 0===e?void 0:e.getFileInfo());t.activeViewIsPPTH5=!(!n||512!==n.fileType),t.activeViewIsPDF=!(!n||8!==n.fileType),t.activeViewIsPPT=!(!n||1!==n.fileType),t.activeViewIsExcel=!(!n||4!==n.fileType),t.activeViewIsExcel&&(t.activeExcelSheets=t.excelSheetsMap[n.fileID],t.activeExcelSheetNames=t.excelSheetNamesIdMap[n.fileID]),n||(t.zgDocsView=null);var o=e.getScaleFactor().scaleFactor;t.$set(t,"zoom",100*o),t.activeToolType=e.getToolType()||0,0===t.activeToolType&&(console.warn("这里执行了setToolType，值为null"),e.setToolType(null)),t.updateCurrPage(void 0),t.totalPage=(null===e||void 0===e?void 0:e.getPageCount())||1,console.log("flag",i),1===i&&t.notifyAllViewChanged()}),10)},checkRemoteView:function(e){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(console.warn("checkRemoteView 查询中",e),!t.originWBViewList.find((function(t){return t.whiteboardID===e}))){i.next=6;break}console.warn("查到目标白板，进入selectRemoteView"),t.selectRemoteView(e,!0),i.next=10;break;case 6:if(t.selectTimerTryTimes=t.selectTimerTryTimes+1,!(t.selectTimerTryTimes>=20)){i.next=9;break}return i.abrupt("return",clearTimeout(t.selectTimer));case 9:t.selectTimer=setTimeout((function(){clearTimeout(t.selectTimer),t.checkRemoteView(e)}),50);case 10:case"end":return i.stop()}}),i)})))()},selectRemoteView:function(e){var t=arguments,i=this;return Object(w["a"])(regeneratorRuntime.mark((function n(){var o,s,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(o=t.length>1&&void 0!==t[1]&&t[1],console.warn("进入selectRemoteView",e),!i.isCreating&&e){n.next=4;break}return n.abrupt("return");case 4:if(console.warn("selectRemoteView",{originWBViewList:i.originWBViewList}),s=i.originWBViewList.find((function(t){return e==t.whiteboardID})),s){n.next=9;break}return i.showToast("远端白板不存在，请尝试刷新重试"),n.abrupt("return");case 9:console.warn("selectRemoteView 查询到目标白板",s,s.whiteboardID),i.$set(i,"activeWBView",s),i.$set(i,"activeWBId",s.whiteboardID),r=i.activeWBView&&i.activeWBView.getFileInfo(),i.$nextTick((function(){r?(4===r.fileType&&(i.isCreating=e),console.warn("加载文件白板"),i.loadFileView(e,r,o)):i.loadNormalWhiteboard()}));case 14:case"end":return n.stop()}}),n)})))()},loadFileView:function(e,t){var i=arguments,n=this;return Object(w["a"])(regeneratorRuntime.mark((function o(){var s,r,a,l,c;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(s=i.length>2&&void 0!==i[2]&&i[2],console.warn("根据白板id，loadFileView",e),r=4===t.fileType,!r||s){o.next=8;break}if(a=n.activeExcelSheetsIdMap[t.fileID],!a||a===e||n.isCreating){o.next=8;break}return n.selectRemoteView(a),o.abrupt("return");case 8:return n.isRemote=!0,l=n.docsClient.createView(n.parentId,e,t.fileName),o.prev=10,o.next=13,l.loadFile(t.fileID,t.authKey);case 13:c=o.sent,n.zgDocsView=l,n.testPPT(t.fileID),console.warn({zgDocsView:n.zgDocsView}),n.$nextTick((function(){n.splitExcelSheetSuffixHandle(c),n.updateExcelSheetNamesIdMap(c,t.fileID),n.updateActiveView(n.activeWBView,0)})),o.next=24;break;case 20:o.prev=20,o.t0=o["catch"](10),console.error(o.t0),n.showToast("".concat(o.t0&&o.t0.message||"网络错误","，请刷新页面后重试"));case 24:n.isCreating=!1;case 25:case"end":return o.stop()}}),o,null,[[10,20]])})))()},loadNormalWhiteboard:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isCreating=!1,t.next=3,e.client.attachView(e.activeWBView,e.parentId);case 3:e.zgDocsView=null,e.updateActiveView(e.activeWBView);case 5:case"end":return t.stop()}}),t)})))()},testPPT:function(e){var t=this,i=["81XpTUhfhUAfjmgV","xaPB31CucBgvb_5I","B9woySjyMIDvJ8yz","MzmXyyPuU2OunOU8","WD7d2diBgFrQwi0P","i48rKR3HKnhbe6nu"];i.includes(e)&&(this.zgDocsView.addDOMEventListener("click",(function(){t.zgDocsView.previousStep()})),this.zgDocsView.addDOMEventListener("mouseup",(function(e){2==e.button&&t.zgDocsView.nextStep()})),console.log("testPPT",e))},createFileView:function(e,t){var i=this;return Object(w["a"])(regeneratorRuntime.mark((function n(){var o,s,r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(o=i.originWBViewList,s=o.find((function(t){var i=t.getFileInfo()||{};return e===i.fileID})),console.warn("matchedView",s),!s){n.next=5;break}return n.abrupt("return",i.selectRemoteView(s.whiteboardID));case 5:return i.isRemote=!1,r=i.docsClient.createView(i.parentId,"",t),n.prev=7,n.next=10,r.loadFile(e,"");case 10:a=n.sent,i.splitExcelSheetSuffixHandle(a),i.updateExcelSheetNamesIdMap(a,e),i.zgDocsView=r,i.testPPT(e),n.next=21;break;case 17:n.prev=17,n.t0=n["catch"](7),console.error(n.t0),i.showToast("".concat(n.t0&&n.t0.message||"网络错误","，请刷新页面后重试"));case 21:case"end":return n.stop()}}),n,null,[[7,17]])})))()},createFileWBView:function(e){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function i(){var n,o,s,r,a,l;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(console.warn("执行 createFileWBView，创建文件白板"),o=4===e.fileType&&!t.originWBViewList.find((function(t){return e.name===t.getName()})),!o){i.next=6;break}return i.next=5,t.createExcelSheetView(e);case 5:return i.abrupt("return");case 6:if(s=t.activeWBView,t.isRemote){i.next=23;break}return console.warn("本地维护的白板列表无此白板，开始根据文件信息创建对应白板"),i.prev=9,i.next=12,t.client.createView({roomID:t.roomID,name:e.fileName||"file-".concat(e.fileID),aspectWidth:e.width,aspectHeight:e.height,pageCount:e.pageCount,fileInfo:{fileID:e.fileID,fileName:4===e.fileType?e.fileName:e.fileName||e.fileID,authKey:e.authKey,fileType:e.fileType}});case 12:s=i.sent,t.originWBViewList.unshift(Object.assign(s,{name:t.getViewName(s)})),i.next=21;break;case 16:i.prev=16,i.t0=i["catch"](9),console.log("createFileWBView error",{error:i.t0}),r=i.t0.code,r===zt.timeout?t.showToast("请求超时"):t.showToast("共享失败");case 21:i.next=24;break;case 23:console.warn("服务器有此白板");case 24:return a=(null===(n=s)||void 0===n?void 0:n.getFileInfo())||{},l=a.fileID,4===a.fileType&&(t.activeExcelSheetsIdMap[l]=s.whiteboardID),i.next=29,t.client.attachView(s,e.viewID);case 29:return i.next=31,t.getViewList(!1);case 31:t.updateActiveView(s);case 32:case"end":return i.stop()}}),i,null,[[9,16]])})))()},createExcelSheetView:function(e){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function i(){var n,o,s,r,a,l,c,u;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(console.warn("createExcelSheetView"),s=e.sheets,r=t.activeWBView,t.isRemote){i.next=18;break}return a=s.map((function(i){return Object(w["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.client.createView({roomID:t.roomID,name:e.name,aspectWidth:t.aspectWidth,aspectHeight:t.aspectHeight,pageCount:e.pageCount,fileInfo:{fileID:e.fileID,fileName:i,authKey:e.authKey,fileType:e.fileType}});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))})),i.prev=5,i.next=8,Promise.all(a.map((function(e){return e()})));case 8:l=i.sent,r=l[0],t.originWBViewList=[].concat(Object($["a"])(l),Object($["a"])(t.originWBViewList)),i.next=18;break;case 13:i.prev=13,i.t0=i["catch"](5),console.log(i.t0),c=i.t0.code,c===zt.timeout?t.showToast("请求超时"):t.showToast("共享失败");case 18:return u=null===(n=r)||void 0===n||null===(o=n.getFileInfo())||void 0===o?void 0:o.fileID,t.activeExcelSheetsIdMap[u]=r.whiteboardID,i.next=22,t.client.attachView(r,e.viewID);case 22:return i.next=24,t.getViewList(!1);case 24:t.updateActiveView(r);case 25:case"end":return i.stop()}}),i,null,[[5,13]])})))()},splitExcelSheetSuffixHandle:function(e){4===e.fileType&&e.file_list&&e.file_list.forEach((function(e){e.file_name=e.file_name.replace(/.pdf/,"")}))},updateExcelSheetNamesIdMap:function(e,t){console.warn("updateExcelSheetNamesIdMap res",e),4!==e.fileType||this.excelSheetNamesIdMap[t]||(this.excelSheetNamesIdMap[t]=e.file_list.map((function(e){return e.file_name})),console.warn("this.excelSheetNamesIdMap",this.excelSheetNamesIdMap))},destroyView:function(e){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function i(){var n,o,s,r,a,l,c,u,d,h;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(n=e.getFileInfo()||{},o=t.activeWBView.getFileInfo()||{},s=1===o.fileType||8===o.fileType||512===o.fileType,r=n.fileName===o.fileName,s&&r&&(t.isThumbnailsVisible=!1),!n||4!==n.fileType){i.next=37;break}t.WBViewList=t.WBViewList.filter((function(t){return t.whiteboardID&&t.whiteboardID!==e.whiteboardID})),a=Object(Dt["a"])(t.originWBViewList),i.prev=8,a.s();case 10:if((l=a.n()).done){i.next=26;break}if(c=l.value,!c.getFileInfo()||c.getFileInfo().fileID!==n.fileID){i.next=24;break}return i.prev=13,i.next=16,t.client.destroyView(c);case 16:c.delete=!0,i.next=24;break;case 19:i.prev=19,i.t0=i["catch"](13),console.log(i.t0),u=i.t0.code,u===zt.timeout?t.showToast("请求超时"):t.showToast("关闭失败");case 24:i.next=10;break;case 26:i.next=31;break;case 28:i.prev=28,i.t1=i["catch"](8),a.e(i.t1);case 31:return i.prev=31,a.f(),i.finish(31);case 34:t.originWBViewList=t.originWBViewList.filter((function(e){return!e.delete})),i.next=49;break;case 37:return i.prev=37,i.next=40,t.client.destroyView(e);case 40:t.WBViewList=t.WBViewList.filter((function(t){return t.whiteboardID&&t.whiteboardID!==e.whiteboardID})),t.originWBViewList=t.originWBViewList.filter((function(t){return t.whiteboardID!==e.whiteboardID})),i.next=49;break;case 44:i.prev=44,i.t2=i["catch"](37),console.log(i.t2),d=i.t2.code,d===zt.timeout?t.showToast("请求超时"):t.showToast("关闭失败");case 49:e.whiteboardID!==t.activeWBId&&n.fileID!==o.fileID||!t.WBViewList.length||(h=t.WBViewList[0].whiteboardID,t.selectRemoteView(h));case 50:case"end":return i.stop()}}),i,null,[[8,28,31,34],[13,19],[37,44]])})))()},initWBPencilSetting:function(){var e=this;setTimeout((function(){e.activeWBView.setBrushColor(e.activeColor),e.setBrushSize(e.activeBrushSize),e.setTextSize(e.activeTextSize)}),10)},resetActiveTextPencil:function(){this.activeTextPencil=""},setActiveToolType:function(e){this.activeToolType=e},deleteSelectedGraphics:function(){this.activeWBView.deleteSelectedGraphics()},setActiveTextPencil:function(e){this.activeTextPencil=e},setActivePopperType:function(e){this.activePopperType=e},setActiveColor:function(e){this.activeColor=e},setActiveBrushSize:function(e){this.activeBrushSize=e},setActiveTextSize:function(e){this.activeTextSize=e},setBackgroundColor:function(e){this.activeWBView&&this.activeWBView.setBackgroundColor(e)},setBrushColor:function(e){this.activeWBView&&this.activeWBView.setBrushColor(e),this.activeColor=e},setBrushSize:function(e){this.activeWBView&&this.activeWBView.setBrushSize(e),this.activeBrushSize=e},setTextSize:function(e){this.activeWBView&&this.activeWBView.setTextSize(e),this.activeTextSize=e},setTextStyle:function(e,t){switch(e){case"bold":this.activeWBView&&this.activeWBView.setFontBold(t);break;case"italic":this.activeWBView&&this.activeWBView.setFontItalic(t);break}this.activeTextStyle=e},selectViewZoom:function(e){this.zoom=e;var t=+e/100;this.activeWBView&&(this.activeWBView.setScaleFactor(t),0===this.activeToolType&&(console.warn("这里执行了setToolType，值为null"),this.activeWBView.setToolType(null)))},setZoom:function(e){this.zoom=100*e},previousStep:function(){this.zgDocsView&&this.zgDocsView.previousStep()},nextStep:function(){this.zgDocsView&&this.zgDocsView.nextStep()},flipPage:function(e){if(!(!this.activeWBView||e<1||e>this.totalPage)){var t=(e-1)/this.totalPage,i=this.activeWBView.getCurrentScrollPercent(),n=i.direction;console.warn("percent:",t),1===n?this.activeWBView.scroll(t,0):this.activeWBView.scroll(0,t),this.thumbnailsStatus||this.getThumbnailUrlList()}},previousPage:function(){this.flipPage(this.currPage-1)},nextPage:function(){this.flipPage(this.currPage+1)},setThumbnailsVisible:function(e){this.isThumbnailsVisible=e},getThumbnailUrlList:function(){this.zgDocsView&&(this.thumbnailsImg=this.zgDocsView.getThumbnailUrlList())},setThumbnailsStatus:function(e){this.thumbnailsStatus=e},setFilesListDialogShow:function(e){this.filesListDialogShow=e},reUpdateWBList:function(){var e=arguments,t=this;return Object(w["a"])(regeneratorRuntime.mark((function i(){var n;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n=!(e.length>0&&void 0!==e[0])||e[0],console.warn("进入 reUpdateWBList"),t.isThumbnailsVisible=!1,i.next=5,t.getViewList(n);case 5:if(t.WBViewList.length){i.next=9;break}return i.next=8,t.createWhiteboard();case 8:return i.abrupt("return");case 9:console.warn("重连网络白板列表:",t.originWBViewList),t.originWBViewList.find((function(e){return e.whiteboardID===t.activeWBId}))||t.checkRemoteView(t.WBViewList[0].whiteboardID);case 11:case"end":return i.stop()}}),i)})))()},selectExcelSheetView:function(e){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function i(){var n,o,s,r,a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(!t.isCreating&&e){i.next=2;break}return i.abrupt("return");case 2:if(n=t.originWBViewList.find((function(t){return e===t.whiteboardID})),n){i.next=6;break}return t.showToast("远端白板不存在，请尝试刷新重试"),i.abrupt("return");case 6:return t.$set(t,"activeWBView",n),o=t.activeWBView&&t.activeWBView.getFileInfo(),s=4===o.fileType,t.isRemote=!0,r=t.docsClient.createView(t.parentId,e,s?o.fileName:""),i.prev=11,i.next=14,r.loadFile(o.fileID,o.authKey);case 14:a=i.sent,t.splitExcelSheetSuffixHandle(a),t.updateExcelSheetNamesIdMap(a,o.fileID),t.zgDocsView=r,t.testPPT(o.fileID),console.warn(e,t.activeWBView,o),i.next=26;break;case 22:i.prev=22,i.t0=i["catch"](11),console.error(i.t0),t.showToast("".concat(i.t0&&i.t0.message||"网络错误","，请刷新页面后重试"));case 26:case"end":return i.stop()}}),i,null,[[11,22]])})))()},stopPlay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.zgDocsView&&this.zgDocsView.stopPlay(e)},setGraphType:function(e){this.graphType=e},uploadFile:function(e,t){try{this.docsClient.uploadFile(e,t)}catch(i){console.log(i)}},checkWBCreateTime:function(e){console.warn("checkWBCreateTime",e);var t={},i=e.reduce((function(e,i){var n,o,s,r;console.warn(11111,(null===(n=i.getFileInfo())||void 0===n?void 0:n.fileID)||i.getID(),i.getCreateTime()),!t[(null===(o=i.getFileInfo())||void 0===o?void 0:o.fileID)||i.getID()]&&(t[(null===(s=i.getFileInfo())||void 0===s?void 0:s.fileID)||i.getID()]=e.push(i));var a=t[(null===(r=i.getFileInfo())||void 0===r?void 0:r.fileID)||i.getID()];return i.getCreateTime()<e[a-1].getCreateTime()&&(console.warn(i.getID(),i.getCreateTime()),e[a-1]=i),e}),[]);return console.log(i),i},removeByFileID:function(e,t){console.warn("removeByValue - arr, value",e,t);for(var i=e.length-1;i>=0;--i){var n;(null===(n=e[i].getFileInfo())||void 0===n?void 0:n.fileID)==t&&e.splice(i,1)}console.warn("addview 处理之后的arr",e)},translateUploadFileCode:function(e){if(console.warn("文件上传错误码：",e),e)switch(e){case 2010001:this.$message(this.$t("doc.doc_file_not_found"));break;case 2010002:this.$message(this.$t("doc.doc_uploading_failed"));break;case 2020003:this.$message(this.$t("doc.doc_file_not_supported"));break;case 2020004:this.$message(this.$t("doc.doc_converting_failed"));break;case 2020001:this.$message(this.$t("doc.doc_file_not_supported"));break;case 2020002:this.$message(this.$t("doc.doc_uploading_size_limit"));break;case 2020006:this.$message(this.$t("doc.doc_file_empty"));break;default:this.$message(this.$t("doc.doc_uploading_failed"));break}}}},Nt=Et,Ht=(i("5e3d"),Object(r["a"])(Nt,At,Vt,!1,null,null,null)),Ft=Ht.exports,Ut=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"top-bar"},[e.noList?n("div",{class:["no-canvas-bar",2===e.classScene&&2===e.role?"large-class":""]},[e._v(" "+e._s(e.$t("room.room_class_id"))+": "+e._s(e.roomID)+" ")]):n("div",{staticClass:"room-controller-whiteboard"},[n("div",{staticClass:"whiteboard-bar-classid"},[n("span",[e._v(e._s(e.$t("room.room_class_id"))+"："+e._s(e.roomID))])]),1===e.role||2!==e.classScene?n("div",{staticClass:"controller"},[e.roomAuth.share?n("el-select",{attrs:{value:e.activeSelfWBID,placeholder:e.$t("room.room_select"),"popper-class":"whiteboard-name-select-list"},on:{change:e.handleWBSelect}},e._l(e.computedViewList,(function(t){return n("el-option",{key:t.selfWBID,attrs:{value:t.selfWBID,label:t.name},nativeOn:{click:function(t){return e.wbItemClick(t)}}},[n("div",{staticClass:"wb-name-label"},[e._v(e._s(t.name))]),n("div",{staticClass:"delete-btn",domProps:{innerHTML:e._s(i("7244").default)},on:{click:function(i){return i.stopPropagation(),e.handleWBDelete(t)}}})])})),1):e._e(),e.roomAuth.share&&e.activeViewIsExcel?n("div",{staticClass:"excel-sheets"},[n("el-select",{attrs:{value:e.activeWBId,placeholder:e.$t("room.room_select"),"popper-class":"whiteboard-name-select-list"},on:{change:e.handleExcelSheetSelect}},e._l(e.computedExcelSheets,(function(t){return n("el-option",{key:t.whiteboardID,attrs:{value:t.whiteboardID,label:t.fileName}},[n("div",{staticClass:"label"},[e._v(e._s(t.fileName)+" ")])])})),1)],1):e._e(),e.roomAuth.share&&!e.activeViewIsExcel?n("div",{staticClass:"page-bar"},[n("div",{class:["page-bar-arrow","arrow-prev"],domProps:{innerHTML:e._s(i("561a").default)},on:{click:function(t){return e.handlePageChange_(-1)}}}),n("div",{staticClass:"pagebar-center"},[e._v(e._s(e.currPage+" / "+e.totalPage))]),n("div",{class:["page-bar-arrow","arrow-next",e.currPage===e.totalPage&&"disabled"],domProps:{innerHTML:e._s(i("211d").default)},on:{click:function(t){return e.handlePageChange_(1)}}},[e._v(" next ")])]):e._e(),e.computedViewList&&e.computedViewList.length>0?n("div",{staticClass:"zoom-bar"},[n("div",{class:["zoom-bar-operation","zoom-add",0===e.zoomIndex&&"disabled",256===e.activeToolType&&e.activeViewIsPPTH5&&"disabled"],domProps:{innerHTML:e._s(i("071a").default)},on:{click:function(t){return e.handleZoomChange_(-1)}}}),n("div",{staticClass:"zoombar-center"},[n("el-select",{attrs:{placeholder:e.$t("room.room_select"),"popper-class":"whiteboard-zoom-select-list",disabled:e.activeViewIsPPTH5&&256===e.activeToolType},on:{change:e.handleWBZoom},model:{value:e.zoom,callback:function(t){e.zoom=t},expression:"zoom"}},e._l(e.zoomList,(function(e){return n("el-option",{key:e,attrs:{value:e,label:e+"%"}})})),1)],1),n("div",{class:["zoom-bar-operation","zoom-cut",e.zoomIndex===e.zoomList.length-1&&"disabled",256===e.activeToolType&&e.activeViewIsPPTH5&&"disabled"],domProps:{innerHTML:e._s(i("7b06").default)},on:{click:function(t){return e.handleZoomChange_(1)}}})]):e._e(),e.roomAuth.share&&(e.activeViewIsPDF||e.activeViewIsPPTH5||e.activeViewIsPPT)?n("div",{class:["thumb-button",e.thumbnailsVisible&&"active"],on:{click:function(t){return e.handleThumbnailsShow(e.thumbnailsVisible)}}},[n("span",{staticClass:"button-icon",domProps:{innerHTML:e._s(i("debb").default)}}),n("span",[e._v(e._s(e.$t("wb.wb_priview")))])]):e._e()],1):2===e.role&&2===e.classScene?n("div",{staticClass:"controller"},[e.computedViewList&&e.computedViewList.length>0?n("div",{staticClass:"zoom-bar"},[n("div",{class:["zoom-bar-operation","zoom-add",0===e.zoomIndex&&"disabled",256===e.activeToolType&&e.activeViewIsPPTH5&&"disabled"],domProps:{innerHTML:e._s(i("071a").default)},on:{click:function(t){return e.handleZoomChange_(-1)}}}),n("div",{staticClass:"zoombar-center"},[n("el-select",{attrs:{placeholder:e.$t("room.room_select"),"popper-class":"whiteboard-zoom-select-list",disabled:e.activeViewIsPPTH5&&256===e.activeToolType},on:{change:e.handleWBZoom},model:{value:e.zoom,callback:function(t){e.zoom=t},expression:"zoom"}},e._l(e.zoomList,(function(e){return n("el-option",{key:e,attrs:{value:e,label:e+"%"}})})),1)],1),n("div",{class:["zoom-bar-operation","zoom-cut",e.zoomIndex===e.zoomList.length-1&&"disabled",256===e.activeToolType&&e.activeViewIsPPTH5&&"disabled"],domProps:{innerHTML:e._s(i("7b06").default)},on:{click:function(t){return e.handleZoomChange_(1)}}})]):e._e()]):e._e()])])},Zt=[],qt=(i("1276"),[100,125,150,175,200,225,250,275,300]),Jt={name:"RoomControllerWhiteboard",components:{},data:function(){return{zoomList:qt,zoomIndex:0,selectExcelId:null,roomAuth:Oe.auth,noList:!1,classScene:k["f"].get("loginInfo").classScene||1,role:k["f"].get("loginInfo").role||1}},inject:["zegoLiveRoom","zegoWhiteboardArea"],computed:{roomID:function(){return this.zegoLiveRoom.roomId},activeViewIsExcel:function(){return this.zegoWhiteboardArea.activeViewIsExcel},activeViewIsPDF:function(){return this.zegoWhiteboardArea.activeViewIsPDF},activeViewIsPPTH5:function(){return this.zegoWhiteboardArea.activeViewIsPPTH5},activeViewIsPPT:function(){return this.zegoWhiteboardArea.activeViewIsPPT},activeWBId:function(){return this.zegoWhiteboardArea.activeWBId},currPage:function(){return this.zegoWhiteboardArea.currPage},totalPage:function(){return this.zegoWhiteboardArea.totalPage},thumbnailsVisible:function(){return this.zegoWhiteboardArea.isThumbnailsVisible},activeSelfWBID:function(){var e=this,t=this.zegoWhiteboardArea.originWBViewList.find((function(t){return t.whiteboardID===e.zegoWhiteboardArea.activeWBId}))||{},i=t.getFileInfo&&t.getFileInfo()||{};return i.fileID||t.whiteboardID},computedViewList:function(){var e=this;return this.zegoWhiteboardArea.WBViewList.map((function(t){var i=t.getFileInfo()||{},n=Object.assign(t,{name:i.fileType?e.hideTitle(t.name):e.hideWBTitle(t.name),selfWBID:i.fileID||t.whiteboardID});return n}))},computedExcelSheets:function(){var e=this;console.warn("this.zegoWhiteboardArea.activeExcelSheetNames",this.zegoWhiteboardArea.activeExcelSheetNames);var t=this.zegoWhiteboardArea.activeExcelSheetNames.map((function(t){var i=e.zegoWhiteboardArea.activeExcelSheets.find((function(e){var i=e.getFileInfo();return i.fileName===t}))||{};return Object.assign(i,{fileName:t})}));return t},zoom:{get:function(){return+this.zegoWhiteboardArea.zoom||100},set:function(e){this.zegoWhiteboardArea.zoom=e}},computedWBZoom:function(){var e=this,t=this.zoomList.findIndex((function(t){return t===e.zoom}));return t},activeToolType:function(){return this.zegoWhiteboardArea.activeToolType}},watch:{"zegoWhiteboardArea.WBViewList":function(){this.noList=!this.zegoWhiteboardArea.WBViewList.length},activeWBId:function(e){var t=this;if(e){var i=this.zegoWhiteboardArea.activeWBView.getScaleFactor().scaleFactor;this.zoomIndex=this.zoomList.findIndex((function(e){return e===t.zoom})),this.zegoWhiteboardArea.setZoom(i)}}},mounted:function(){this.handlePageChange_=Object(k["b"])(this.handlePageChange,500,!0),this.handleZoomChange_=Object(k["b"])(this.handleZoomChange,500,!0)},methods:{handleWBSelect:function(e){this.activeViewIsPPTH5&&this.zegoWhiteboardArea.stopPlay(),this.zegoWhiteboardArea.setIsAllowSendRoomExtraInfo(!0);var t=this.computedViewList.find((function(t){return t.selfWBID===e}));console.warn("handleWBSelect:",t.whiteboardID),this.zegoWhiteboardArea.selectRemoteView(t.whiteboardID),console.warn("当前激活工具",this.zegoWhiteboardArea.activeToolType)},handleWBDelete:function(e){var t=this;this.$confirm(this.$t("wb.wb_tip_are_u_sure_close",{wbname:e.getName()}),"",{confirmButtonText:this.$t("wb.wb_determine"),cancelButtonText:this.$t("wb.wb_cancel"),showClose:!1,customClass:"delete-wb-view-dialog",type:"warning"}).then(Object(w["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:t.zegoWhiteboardArea.setIsAllowSendRoomExtraInfo(!0),t.zegoWhiteboardArea.destroyView(e);case 2:case"end":return i.stop()}}),i)})))).catch((function(){console.log("取消了")}))},hideTitle:function(e){var t=0,i=e.length,n=e.substring(0,3);return t=i-8,i>10?n+"..."+e.substring(t,i):e},hideWBTitle:function(e){var t,i=sessionStorage.getItem("zego_locale"),n=e.split("创建的白板");return i||(i="zh"),t="zh"===i?e.replace(/^(.{3}).*?(创建的白板\d+)$/,"$1...$2"):this.$t("wb.wb_created_by",{name:n[0],index:n[1]}).substring(0,17)+"...",t},handlePageChange:function(e){-1===e&&this.previousPage(),1===e&&this.nextPage()},previousPage:function(){this.zegoWhiteboardArea.previousPage()},nextPage:function(){this.zegoWhiteboardArea.nextPage()},setScaleFactor:function(e){this.zegoWhiteboardArea.activeWBView&&(this.zegoWhiteboardArea.activeWBView.setScaleFactor(e),0===this.zegoWhiteboardArea.activeToolType&&this.zegoWhiteboardArea.activeWBView.setToolType(null))},handleWBZoom:function(){var e=this,t=this.zoom/100;this.zegoWhiteboardArea.setZoom(t),this.setScaleFactor(t),this.zoomIndex=this.zoomList.findIndex((function(t){return t===e.zoom}))},handleZoomChange:function(e){var t;256===this.activeToolType&&this.activeViewIsPPTH5||(1===e&&this.zoomIndex<=this.zoomList.length-1?this.zoomIndex===this.zoomList.length-1?this.zoomIndex=this.zoomList.length-1:this.zoomIndex++:-1===e&&this.zoomIndex>=0&&0!==this.zoomIndex&&this.zoomIndex--,this.zoom=this.zoomList[this.zoomIndex],t=this.zoom/100,this.zegoWhiteboardArea.setZoom(t),t&&this.setScaleFactor(t))},handleExcelSheetSelect:function(e){this.zegoWhiteboardArea.setIsAllowSendRoomExtraInfo(!0),this.zegoWhiteboardArea.selectRemoteView(e,!0)},handleThumbnailsShow:function(e){this.zegoWhiteboardArea.setThumbnailsVisible(!e)},wbItemClick:function(){this.zegoWhiteboardArea.setThumbnailsVisible(!1)}}},Gt=Jt,Kt=(i("23f3"),Object(r["a"])(Gt,Ut,Zt,!1,null,null,null)),Xt=Kt.exports,Qt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"room-controller-feature"},[n("div",{ref:"analogTrigger"}),n("ul",{staticClass:"control-btn-list"},e._l(e.controlBtnList,(function(t,o){return n("li",{key:t.name,staticClass:"control-btn-item",on:{click:function(t){return e.getUserMediaAuth(o)}}},["share"===t.name?n("el-popover",{attrs:{placement:"top",width:"154",trigger:"click","popper-class":"control-btn-share-popper",disabled:!e.roomAuth.share}},[n("div",{staticClass:"share-list-popper"},[n("div",{staticClass:"share-item",on:{click:e.createWhiteboard}},[n("div",{staticClass:"si-icon",domProps:{innerHTML:e._s(i("57a5").default)}}),n("div",{staticClass:"si-name"},[e._v(e._s(e.$t("room.room_controller_​whiteboard")))])]),n("div",{staticClass:"share-item",on:{click:e.handleFileListDialog}},[n("div",{staticClass:"si-icon",domProps:{innerHTML:e._s(i("8c9c").default)}}),n("div",{staticClass:"si-name"},[e._v(e._s(e.$t("room.room_controller_​docs")))])])]),n("el-button",{attrs:{slot:"reference"},slot:"reference"},[n("div",{staticClass:"main-btn"},[n("div",{staticClass:"main-icon",domProps:{innerHTML:e._s(t.imgSrc.default)}}),n("div",{staticClass:"btn-name"},[e._v(e._s(t.cnName))])])])],1):n("div",{class:["main-btn",t.isOpen||2===e.roomAuth[t.name]?"active":"",t.canSpread&&"can-spread"],on:{click:function(i){return e.handleMainBtnClick_(t)}}},[n("div",{staticClass:"main-icon",domProps:{innerHTML:e._s(e.getItemIcon(t))}}),n("div",{staticClass:"btn-name"},[e._v(e._s(t.cnName))]),n("div",{staticClass:"no-auth-tip"},[e._v("请打开"+e._s(t.cnName)+"权限")]),"member"===t.name?n("div",{staticClass:"memberNum"},[e._v(e._s(e.roomUserList.length))]):e._e()]),t.canSpread?n("el-popover",{attrs:{placement:"top",width:"154",trigger:"click","popper-class":"device-select-list-popper",offset:34}},[n("div",{staticClass:"device-select-list-content"},[n("div",{staticClass:"device-main-name"},[e._v(e._s(t.cnName))]),n("el-select",{attrs:{placeholder:"请选择","popper-class":"device-select-list-dropdown"},on:{change:function(i){return e.handleChangeDevice(i,t.name)}},model:{value:e.activeDeviceIds[t.name],callback:function(i){e.$set(e.activeDeviceIds,t.name,i)},expression:"activeDeviceIds[item.name]"}},e._l(e.deviceInfo[t.name],(function(e){return n("el-option",{key:e.deviceID,attrs:{label:e.deviceName,value:e.deviceID}})})),1)],1),n("el-button",{staticClass:"el-sub-btn",attrs:{slot:"reference"},slot:"reference"},[n("div",{staticClass:"sub-btn"},[n("div",{staticClass:"arrow-btn",domProps:{innerHTML:e._s(i("311a").default)}})])])],1):e._e()],1)})),0),n("div",{staticClass:"quit-button"},[n("button",{staticClass:"quit-button-item",on:{click:function(t){return e.handleMainBtnClick_({name:"quit"})}}},[n("span",{staticClass:"button-icon",domProps:{innerHTML:e._s(i("d057").default)}}),n("span",[e._v(e._s(e.$t("room.room_end_sign_out")))])])]),e.memberListDialogShow?n("room-dialog-members",e._b({attrs:{userList:e.roomUserList},on:{handleClose:function(t){e.memberListDialogShow=!1}}},"room-dialog-members",e.$attrs,!1)):e._e(),e.shareDialogShow?n("room-dialog-share",{on:{handleClose:function(t){e.shareDialogShow=!1}}}):e._e(),e.filesListDialogShow?n("room-dialog-files",{on:{handleClose:function(t){return e.zegoWhiteboardArea.setFilesListDialogShow(!1)}}}):e._e(),e.quitDialogShow?n("room-dialog-quit",{on:{handleClose:function(t){e.quitDialogShow=!1}}}):e._e()],1)},Yt=[],ei=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"room-dialog-members"},[i("el-dialog",{attrs:{title:e.$t("room.room_member_join",{number:e.userList.length}),visible:e.dialogVisible,width:"460px",height:"314px","custom-class":"dialog"},on:{"update:visible":function(t){e.dialogVisible=t},close:function(t){return e.$emit("handleClose")}}},[i("div",{staticClass:"dialog-content"},[i("ul",{staticClass:"member-list"},e._l(e.userList,(function(t){return i("li",{key:t.uid,staticClass:"member-item"},[i("span",[e._v(e._s(t.nick_name+(1==t.role?"("+e.$t("room.room_member_teacher")+")":"")))]),1===e.classScene?i("div",[1==e.role&&2==t.role?i("room-controller-device",{attrs:{user:t}}):e._e()],1):e._e()])})),0)])])],1)},ti=[],ii=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"room-controller-device"},[i("ul",{staticClass:"control-btn-list"},e._l(e.controlBtnList,(function(t){return i("li",{key:t.name,staticClass:"control-btn-item"},[i("el-tooltip",{attrs:{effect:"dark",content:e.getItemContent(t),placement:"bottom"}},[i("div",{class:["main-btn",2==e.user[t.name]?"isOpen":"isClose"],on:{click:function(i){return e.handleMainBtnClick_(t)}}},[i("div",{staticClass:"main-icon",domProps:{innerHTML:e._s(e.getItemIcon(t))}})])])],1)})),0)])},ni=[],oi={name:"RoomControllerDevice",props:["user"],data:function(){return{controlBtnList:[{name:"camera",cnName:this.$t("room.room_controller_camera"),imgSrc:{open:i("0d24").default,close:i("0ddb").default}},{name:"mic",cnName:this.$t("room.room_controller_mic"),imgSrc:{open:i("d173").default,close:i("d96b").default}},{name:"can_share",cnName:this.$t("room.room_sharing_auth"),imgSrc:{open:i("5371").default,close:i("fe89").default}}]}},mounted:function(){this.roomId=Oe.roomId,this.userId=Oe.uid,this.role=Oe.role,this.handleMainBtnClick_=Object(k["b"])(this.handleMainBtnClick,500,!0)},methods:{getItemIcon:function(e){return this.user[e.name]==re["f"]?e.imgSrc.open:e.imgSrc.close},getItemContent:function(e){var t=this.user[e.name]==re["f"],i=t?this.$t("room.room_turn_off"):this.$t("room.room_trun_on");return"can_share"==e.name&&(i=t?this.$t("room.room_cancel"):""),i+e.cnName},handleMainBtnClick:function(e){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function i(){var n,o,s,r,a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(n=e.name,o=t.user[n]==re["f"],"can_share"===n||o||!(Oe.joinLiveList.length>=4)){i.next=7;break}if(s=t.userId,r=Oe.joinLiveList.find((function(e){return e.uid==s})),r){i.next=7;break}return i.abrupt("return",t.showToast(t.$t("room_max_student")));case 7:if(t.role!=re["c"]){i.next=12;break}return a=o?re["e"]:re["f"],i.next=11,Oe.setUserInfo(Object(N["a"])({target_uid:t.user.uid},n,a));case 11:t.user[n]=a;case 12:case"end":return i.stop()}}),i)})))()}}},si=oi,ri=(i("1bd6"),Object(r["a"])(si,ii,ni,!1,null,null,null)),ai=ri.exports,li={name:"RoomDialogMembers",props:["userList"],components:{RoomControllerDevice:ai},data:function(){return{dialogVisible:!0,role:0,classScene:k["f"].get("loginInfo").classScene||1}},mounted:function(){this.role=Oe.role}},ci=li,ui=(i("1d66"),Object(r["a"])(ci,ei,ti,!1,null,null,null)),di=ui.exports,hi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"room-dialog-share"},[i("el-dialog",{attrs:{title:e.$t("room.room_dialog_invite_member"),visible:e.dialogVisible,width:"380px"},on:{"update:visible":function(t){e.dialogVisible=t},close:function(t){return e.$emit("handleClose")}}},[i("div",{staticClass:"dialog-content"},[i("div",{staticClass:"classLink"},[i("span",{staticClass:"link"},[e._v(e._s(e.$t("room.room_dialog_classroom_link")))]),i("span",{staticClass:"linkContent"},[e._v(e._s(e.shareUrl))])]),i("div",{staticClass:"classID"},[i("span",{staticClass:"linkid"},[e._v(e._s(e.$t("room.room_dialog_class_id")))]),i("span",{staticClass:"linkContent"},[e._v(e._s(e.roomId))])]),i("div",{staticClass:"classLink"},[i("span",{staticClass:"link"},[e._v(e._s(e.$t("room.room_dialog_access_env")))]),i("span",{staticClass:"linkContent"},[e._v(e._s(e.envName))])]),i("el-button",{attrs:{type:"primary",round:""},on:{click:e.copyShareUrl}},[e._v(e._s(e.copyLink))])],1)])],1)},mi=[],fi=i("f904"),gi=i.n(fi),pi={name:"RoomDialogShare",data:function(){return{dialogVisible:!0,roomId:"",shareUrl:"",copyLink:this.$t("room.room_dialog_copy_link"),envName:""}},mounted:function(){this.initInfo()},methods:{initInfo:function(){var e=k["f"].get("loginInfo")||{},t=e.roomId,i=e.env;t&&(this.roomId=t,this.envName="home"===i?this.$t("room.room_dialog_mainland_china"):this.$t("room.room_dialog_overseas"),this.shareUrl="".concat(location.protocol,"//").concat(location.host,"/#/login?roomId=").concat(t,"&env=").concat(i))},copyShareUrl:function(){gi()(this.shareUrl),this.copyLink=this.$t("room.room_dialog_copy_suc")}}},vi=pi,_i=(i("e801"),Object(r["a"])(vi,hi,mi,!1,null,null,null)),wi=_i.exports,bi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"file-list-dialog"},[i("el-dialog",{attrs:{title:e.$t("room.room_file_select_file"),visible:e.filesListDialogShow,width:"460px",height:"314px"},on:{"update:visible":function(t){e.filesListDialogShow=t},close:e.closeDialog}},[i("div",{staticClass:"dialog-content"},[i("ul",{staticClass:"file-list"},e._l(e.fileList,(function(t){return i("li",{key:t.name+t.id,staticClass:"file-item",on:{click:function(i){return e.createDocView(t.id)}}},[i("div",{class:["state",t.isDynamic&&"dynamic"]},[e._v(" "+e._s(t.isDynamic?e.$t("room.room_file_dynamic"):e.$t("room.room_file_static_file"))+" ")]),e._v(" "+e._s(t.name)+" ")])})),0),i("div",{staticClass:"tips"},[i("div",{staticStyle:{width:"400px","border-top":"1px solid #f4f5f8"}},[i("span",{staticClass:"static"},[e._v(e._s(e.$t("room.room_file_static_animation_displayed")))]),i("span",{staticClass:"dynamic"},[e._v(e._s(e.$t("room.room_file_dynamic_animation_show")))])])])])])],1)},xi=[],ki={name:"RoomDialogFiles",inject:["zegoWhiteboardArea"],data:function(){return{fileList:[]}},computed:{filesListDialogShow:{get:function(){return this.zegoWhiteboardArea.filesListDialogShow},set:function(e){this.zegoWhiteboardArea.filesListDialogShow=e}},activeViewIsPPTH5:function(){return this.zegoWhiteboardArea.activeViewIsPPTH5}},mounted:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){var i,n,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=(null===(i=k["f"].get("loginInfo"))||void 0===i?void 0:i.env)||"home",t.next=3,e.zegoWhiteboardArea.client.context.Config.getParams(n);case 3:o=t.sent,s=o.fileList,e.$set(e,"fileList",s);case 6:case"end":return t.stop()}}),t)})))()},methods:{createDocView:function(e){this.zegoWhiteboardArea.createDocView(e),this.closeDialog()},closeDialog:function(){this.zegoWhiteboardArea.setFilesListDialogShow(!1)}}},yi=ki,Ci=(i("4cd8"),Object(r["a"])(yi,bi,xi,!1,null,"0f04fede",null)),Ii=Ci.exports,Si=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"room-dialog-quit"},[i("el-dialog",{attrs:{title:e.$t("room.room_im_exit_class"),visible:e.dialogVisible,width:1==e.role?"380px":"250px",showClose:!1},on:{"update:visible":function(t){e.dialogVisible=t},close:function(t){return e.$emit("handleClose")}}},[i("div",{staticClass:"dialog-content"},[1==e.role?i("div",[i("div",[e._v(" "+e._s(e.$t("room.room_end_tip_end_class"))+" ")]),i("el-button",{staticClass:"cancle",attrs:{round:""},on:{click:function(t){return e.$emit("handleClose")}}},[e._v(e._s(e.$t("room.room_end_cancle")))]),i("el-button",{staticClass:"quit",attrs:{round:""},on:{click:e.quitClass}},[e._v(e._s(e.$t("room.room_end_leave_class")))]),i("el-button",{staticClass:"end",attrs:{round:""},on:{click:e.endClass}},[e._v(e._s(e.$t("room.room_end_ending_class")))])],1):i("div",[e._v(" "+e._s(e.$t("room.room_end_tip_are_u_sure_quit"))+" ")]),2==e.role?i("div",[i("el-button",{staticClass:"cancle",staticStyle:{width:"70px"},attrs:{round:""},on:{click:function(t){return e.$emit("handleClose")}}},[e._v(e._s(e.$t("room.room_end_cancle")))]),i("el-button",{staticClass:"end",staticStyle:{width:"70px"},attrs:{round:""},on:{click:e.quitClass}},[e._v(e._s(e.$t("room.room_ok")))])],1):e._e()])])],1)},Ti=[],Li={name:"RoomDialogQuit",data:function(){return{dialogVisible:!0,role:0}},mounted:function(){this.role=Oe.role,this.registerUnloadEvent()},methods:{quitClass:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,je("leave_room",Oe.params);case 2:ve._client.logoutRoom(Oe.roomId),e.$route.meta.reload=!0,e.$router.replace("/login");case 5:case"end":return t.stop()}}),t)})))()},endClass:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,je("end_teaching",Oe.params);case 2:ve._client.logoutRoom(Oe.roomId),e.$route.meta.reload=!0,e.$router.replace("/login");case 5:case"end":return t.stop()}}),t)})))()},registerUnloadEvent:function(){1==this.role&&(window.onbeforeunload=function(){je("end_teaching",Oe.params),ve._client.logoutRoom(Oe.roomId)})}}},Ai=Li,Vi=(i("956a"),Object(r["a"])(Ai,Si,Ti,!1,null,null,null)),Di=Vi.exports,Pi={name:"RoomControllerFeature",components:{RoomDialogMembers:di,RoomDialogShare:wi,RoomDialogFiles:Ii,RoomDialogQuit:Di},data:function(){return{controlBtnList:[],smallClassControlBtnList:[{name:"camera",cnName:this.$t("room.room_controller_camera"),imgSrc:{default:i("0d41").default,open:i("0d41").default,close:i("865f").default,warn:i("e7d7").default},canSpread:!0,noAuth:!0},{name:"mic",cnName:this.$t("room.room_controller_mic"),imgSrc:{default:i("f8b2").default,open:i("f8b2").default,close:i("ed55").default,warn:i("641f").default},canSpread:!0,noAuth:!0},{name:"speaker",cnName:this.$t("room.room_controller_speaker"),imgSrc:{default:i("7943").default,open:i("7943").default,close:i("4c3a").default},canSpread:!1,isOpen:!0},{name:"share",cnName:this.$t("room.room_controller_share"),imgSrc:{default:i("c69a").default}},{name:"invite",cnName:this.$t("room.room_controller_​invitation"),imgSrc:{default:i("697f").default}},{name:"member",cnName:this.$t("room.room_controller_​member"),imgSrc:{default:i("cc66").default}}],largeClassControlBtnList:[{name:"speaker",cnName:this.$t("room.room_controller_speaker"),imgSrc:{default:i("7943").default,open:i("7943").default,close:i("4c3a").default},canSpread:!1,isOpen:!0},{name:"invite",cnName:this.$t("room.room_controller_​invitation"),imgSrc:{default:i("697f").default}},{name:"member",cnName:this.$t("room.room_controller_​member"),imgSrc:{default:i("cc66").default}}],deviceInfo:{camera:[],mic:[],speaker:[]},activeDeviceIds:{camera:"",mic:"",speaker:""},memberListDialogShow:!1,shareDialogShow:!1,quitDialogShow:!1,roomUserList:[],roomAuth:Oe.auth,classScene:k["f"].get("loginInfo").classScene||1,role:k["f"].get("loginInfo").role||1}},inject:["zegoLiveRoom","zegoWhiteboardArea"],computed:{filesListDialogShow:function(){return this.zegoWhiteboardArea.filesListDialogShow},activeViewIsPPTH5:function(){return this.zegoWhiteboardArea.activeViewIsPPTH5}},mounted:function(){2===this.role&&2===this.classScene?this.controlBtnList=this.largeClassControlBtnList:(this.controlBtnList=this.smallClassControlBtnList,this.initDevices(),this.tryJionLive(),this.$bus.$on("userStateChange",this.tryJionLive)),this.$bus.$on("roomAttendeesChange",this.onRoomAttendeesChange),this.handleMainBtnClick_=Object(k["b"])(this.handleMainBtnClick,500,!0)},destroyed:function(){this.$bus.$off("roomAttendeesChange",this.onRoomAttendeesChange),this.$bus.$off("userStateChange",this.tryJionLive)},methods:{onRoomAttendeesChange:function(e){this.roomUserList=e},tryJionLive:function(e,t){var i=this;return Object(w["a"])(regeneratorRuntime.mark((function n(){var o,s,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(Oe.role!=re["c"]){n.next=17;break}if(o=e&&e[Oe.uid]||{camera:re["f"],mic:re["f"]},Object.assign(i.roomAuth,o),o.camera!=re["f"]){n.next=7;break}i.getUserMediaAuth(0,!1,Object(w["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.toggleDeviceOpen("video",i.controlBtnList[0],t);case 2:case"end":return e.stop()}}),e)})))),n.next=9;break;case 7:return n.next=9,i.toggleDeviceOpen("video",i.controlBtnList[0],t);case 9:if(o.mic!=re["f"]){n.next=13;break}i.getUserMediaAuth(1,!1,Object(w["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.toggleDeviceOpen("audio",i.controlBtnList[1],t);case 2:case"end":return e.stop()}}),e)})))),n.next=15;break;case 13:return n.next=15,i.toggleDeviceOpen("audio",i.controlBtnList[1],t);case 15:n.next=27;break;case 17:if(s=e&&e[Oe.uid],s){n.next=20;break}return n.abrupt("return");case 20:console.log("====edu_zpush_room====",s),Object.assign(i.roomAuth,s),r=Oe.joinLiveList.length,r<=4&&s.camera==re["f"]&&i.getUserMediaAuth(0,!1,(function(){i.toggleDeviceOpen("video",i.controlBtnList[0],t)})),r<=4&&s.mic==re["f"]&&i.getUserMediaAuth(1,!1,(function(){i.toggleDeviceOpen("audio",i.controlBtnList[1],t)})),s.camera==re["e"]&&i.getUserMediaAuth(0,!1,(function(){i.toggleDeviceOpen("video",i.controlBtnList[0],t)})),s.mic==re["e"]&&i.getUserMediaAuth(1,!1,(function(){i.toggleDeviceOpen("audio",i.controlBtnList[1],t)}));case 27:case"end":return n.stop()}}),n)})))()},initDevices:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){var i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.zegoLiveRoom.getDevices();case 2:i=t.sent,console.warn({devices:i}),n={camera:i.cameras,mic:i.microphones,speaker:i.speakers},e.$set(e,"deviceInfo",n),e.activeDeviceIds.camera=i.cameras[0].deviceID,e.activeDeviceIds.mic=i.microphones[0].deviceID,e.activeDeviceIds.speaker=i.speakers[0].deviceID,e.zegoLiveRoom.setActiveDevice(e.activeDeviceIds);case 10:case"end":return t.stop()}}),t)})))()},getUserMediaAuth:function(e){var t=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;if(e>1)3!=e||this.roomAuth.share||this.showToast(this.$t("wb.wb_tip_not_allowed_share"));else{var o={video:0==e,audio:1==e};G(o,(function(i){t.controlBtnList[e].noAuth=!1,console.warn("图标权限----",t.controlBtnList[e]),0===e?i.getVideoTracks().forEach((function(e){return e.stop()})):1===e&&i.getAudioTracks().forEach((function(e){return e.stop()})),console.warn(t.controlBtnList[e].cnName+t.$t("room.room_permissions_obtained")),n&&n()}),(function(n){0===e?t.roomAuth.camera=re["e"]:1===e&&(t.roomAuth.mic=re["e"]),console.warn("摄像头麦克风权限获取错误",n),i&&t.showToast(t.$t("room.room_enable_setting")+t.controlBtnList[e].cnName+t.$t("room.room_permissions"))}))}},handleMainBtnClick:function(e){if(!e.noAuth)switch(e.name){case"camera":this.toggleDeviceOpen("video",e,!1,!0);break;case"mic":this.toggleDeviceOpen("audio",e,!1,!0);break;case"speaker":if(e){this.zegoLiveRoom.muteSpeaker(!e.isOpen);var t=this.controlBtnList.findIndex((function(t){return t.name===e.name}));e=Object(A["a"])(Object(A["a"])({},e),{},{isOpen:!e.isOpen}),-1!==t&&this.$set(this.controlBtnList,t,e)}break;case"member":this.memberListDialogShow=!0;break;case"invite":this.shareDialogShow=!0;break;case"quit":this.quitDialogShow=!0;break;default:break}},toggleDeviceOpen:function(e,t,i,n){var o=this;return Object(w["a"])(regeneratorRuntime.mark((function s(){var r,a,l,c,u;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(!(Oe.role==re["b"]&&Oe.joinLiveList.length>=4&&o.roomAuth[t.name]==re["e"])){s.next=6;break}if(r=Oe.uid,a=Oe.joinLiveList.find((function(e){return e.uid==r})),a){s.next=6;break}return Oe.setUserInfo({target_uid:Oe.uid,camera:re["e"],mic:re["e"]}),s.abrupt("return",o.showToast(o.$t("room.room_tip_channels")));case 6:if(i){s.next=13;break}return l="video"==e?"camera":"mic",c=o.roomAuth[l],u=Object(N["a"])({target_uid:Oe.uid},l,n?c==re["f"]?re["e"]:re["f"]:c),s.next=12,Oe.setUserInfo(u);case 12:o.roomAuth[l]=u[l];case 13:o.zegoLiveRoom.handleDeviceStateChange(e,o.roomAuth.camera==re["f"],o.roomAuth.mic==re["f"]),Oe.getJoinLiveList();case 15:case"end":return s.stop()}}),s)})))()},getItemIcon:function(e){return e.canSpread||"speaker"===e.name?e.noAuth?e.imgSrc.warn:e.isOpen||this.roomAuth[e.name]==re["f"]?e.imgSrc.open:e.imgSrc.close:e.imgSrc.default},handleChangeDevice:function(e,t){this.zegoLiveRoom.selectDevice(e,t),"camera"===t&&(this.activeDeviceIds.camera=e),"mic"===t&&(this.activeDeviceIds.mic=e),this.handleAnalogTriggerClick()},createWhiteboard:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.zegoWhiteboardArea){t.next=5;break}return e.activeViewIsPPTH5&&e.zegoWhiteboardArea.stopPlay(),e.zegoWhiteboardArea.setIsAllowSendRoomExtraInfo(!0),t.next=5,e.zegoWhiteboardArea.createWhiteboard();case 5:e.handleAnalogTriggerClick();case 6:case"end":return t.stop()}}),t)})))()},handleFileListDialog:function(){this.zegoWhiteboardArea.setFilesListDialogShow(!0)},handleAnalogTriggerClick:function(){var e=this.$refs.analogTrigger;e&&e.click()},changeActiveDevice:function(){this.zegoLiveRoom.setActiveDevice(this.activeDeviceIds)}}},zi=Pi,ji=(i("e9aa"),Object(r["a"])(zi,Qt,Yt,!1,null,"16c340b0",null)),Ri=ji.exports,Oi={name:"PageLayoutRoom",components:{RoomWhiteboardArea:ct,RoomControllerFeature:Ri,RoomControllerWhiteboard:Xt,RoomVideoList:Lt,ZegoWhiteboardArea:Ft},mounted:function(){var e=k["f"].get("loginInfo"),t=e.roomId,i=e.userId,n=e.userName,o=e.role,s=e.classScene;Oe.init({roomId:t,uid:i,name:n,role:o,route:this.$route.meta.from,room_type:s})}},Bi=Oi,Wi=(i("c220"),Object(r["a"])(Bi,g,p,!1,null,null,null)),$i=Wi.exports,Mi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"page-view-room"},[i("div",{staticClass:"page-left"},[i("zego-whiteboard-area",{attrs:{parentId:"whiteboardDemo"}},[i("div",{staticClass:"main-area"},[i("div",{staticClass:"main-top"},[i("room-controller-whiteboard")],1),i("div",{staticClass:"main-mid"},[i("room-whiteboard-area")],1),i("div",{staticClass:"main-bottom"},[i("room-controller-feature")],1)])])],1),i("div",{staticClass:"page-right"},[i("room-video-list"),i("room-chatting-list")],1)])},Ei=[],Ni=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"message-box"},[n("div",{staticClass:"title"},[e._v(e._s(e.$t("room.room_im_discuss")))]),n("div",{ref:"messageList",staticClass:"message-list"},e._l(e.messages,(function(t){return n("div",{key:t.messageID||t.messageTimestamp,class:[t.userID==e.user.uid?"isMe":"",1===t.messageCategory?"item":"state-item"]},[1==t.messageCategory&&t.userID!=e.user.uid?n("div",{staticClass:"name"},[e._v(" "+e._s(t.nick_name)+" ")]):e._e(),1!==t.messageCategory?n("div",{staticClass:"text"},[e._v(" "+e._s(t.userID==e.user.uid?e.$t("room.room_im_I"):t.nick_name)+" "+e._s(t.messageContent[0])+" ")]):e._e(),1===t.messageCategory?n("div",{staticClass:"text-box"},e._l(t.messageContent,(function(t,o){return n("div",{key:o,staticClass:"text-item"},[n("div",{directives:[{name:"show",rawName:"v-show",value:1===t.messageState,expression:"item.messageState === 1"}],staticClass:"loading-box"},[n("i",{staticClass:"fade-item fade-item1"}),n("i",{staticClass:"fade-item fade-item2"}),n("i",{staticClass:"fade-item fade-item3"}),n("i",{staticClass:"fade-item fade-item4"}),n("i",{staticClass:"fade-item fade-item5"}),n("i",{staticClass:"fade-item fade-item6"}),n("i",{staticClass:"fade-item fade-item7"}),n("i",{staticClass:"fade-item fade-item8"}),n("i",{staticClass:"fade-item fade-item9"}),n("i",{staticClass:"fade-item fade-item10"}),n("i",{staticClass:"fade-item fade-item11"}),n("i",{staticClass:"fade-item fade-item12"})]),n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.$t("room.room_im_message_send_fail"),placement:"top"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:2===t.messageState,expression:"item.messageState === 2"}],staticClass:"icon icon-fail",domProps:{innerHTML:e._s(i("e688").default)}})]),n("p",{staticClass:"text"},[e._v(e._s(t.content))])],1)})),0):e._e()])})),0),n("div",{staticClass:"send"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.textareaValue,expression:"textareaValue"}],staticClass:"send-textarea",attrs:{maxlength:"100",placeholder:e.$t("room.room_im_say_something")},domProps:{value:e.textareaValue},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.enterToSend(t)},input:function(t){t.target.composing||(e.textareaValue=t.target.value)}}}),n("div",{staticClass:"send-tool-box"},[n("div",{staticClass:"input-warn"},[n("div",{directives:[{name:"show",rawName:"v-show",value:100===e.textareaValue.length,expression:"textareaValue.length === 100"}],staticClass:"input-warn-tip"},[n("div",{staticClass:"icon",domProps:{innerHTML:e._s(i("9597").default)}}),e._v(" "+e._s(e.$t("room.room_im_max_characters"))+" ")])]),n("button",{staticClass:"btn",attrs:{disabled:e.isDisabled},on:{click:e.send}},[e._v(e._s(e.$t("room.room_im_send")))])])])])},Hi=[],Fi={name:"RoomChattingList",inject:["zegoLiveRoom"],components:{},data:function(){return{user:{},textareaValue:"",sendTime:0,clientHeight:0}},computed:{messages:function(){return this.zegoLiveRoom.messages},isDisabled:function(){return!this.textareaValue}},mounted:function(){this.user=Oe.params,this.$bus.$on("imAttendeesChange",this.onIMAttendeesChange),this.clientHeight=this.$refs.messageList.clientHeight},updated:function(){this.$refs.messageList.scrollTop=this.$refs.messageList.scrollHeight},destroyed:function(){},methods:{onIMAttendeesChange:function(e){var t={userID:e.uid,messageCategory:2,messageContent:1===e.delta?[this.$t("room.room_im_join_class")]:[this.$t("room.room_im_exit_class")],messageState:1,nick_name:e.nick_name};this.zegoLiveRoom.setRoomMessage(1,t)},enterToSend:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.sendTime&&(new Date).getTime()-e.sendTime<300)){t.next=3;break}return e.showToast(e.$t("room.room_im_messasge_sent_frequently")),t.abrupt("return");case 3:i=e.textareaValue.replace(/[\r\n]/g,""),e.textareaValue="",i?e.sendMessage(i):(e.textareaValue="",e.showToast(e.$t("room.room_im_message_cannot_empty")));case 6:case"end":return t.stop()}}),t)})))()},send:function(){if(this.sendTime&&(new Date).getTime()-this.sendTime<300)this.showToast(this.$t("room.room_im_messasge_sent_frequently"));else{var e=this.textareaValue;this.textareaValue="",this.sendMessage(e)}},sendMessage:function(e){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,t.zegoLiveRoom.sendBarrageMessage(e);case 3:i.next=8;break;case 5:i.prev=5,i.t0=i["catch"](0),t.showToast(t.$t("room.room_im_message_send_fail"));case 8:t.sendTime=(new Date).getTime(),t.$nextTick((function(){t.$refs.messageList.scrollTop=t.$refs.messageList.scrollHeight-t.clientHeight}));case 10:case"end":return i.stop()}}),i,null,[[0,5]])})))()}}},Ui=Fi,Zi=(i("46bb"),Object(r["a"])(Ui,Ni,Hi,!1,null,"3d428d56",null)),qi=Zi.exports,Ji={name:"PageLayoutRoom",components:{RoomWhiteboardArea:ct,RoomControllerFeature:Ri,RoomControllerWhiteboard:Xt,RoomVideoList:Lt,ZegoWhiteboardArea:Ft,RoomChattingList:qi},mounted:function(){var e=k["f"].get("loginInfo"),t=e.roomId,i=e.userId,n=e.userName,o=e.role,s=e.classScene;Oe.init({roomId:t,uid:i,name:n,role:o,route:this.$route.meta.from,room_type:s})}},Gi=Ji,Ki=(i("95e8"),Object(r["a"])(Gi,Mi,Ei,!1,null,null,null)),Xi=Ki.exports,Qi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.client&&e.isLogin?i("div",{staticClass:"zego-live-room"},[e._t("default"),e.loading?i("room-dialog-loading"):e._e(),i("room-dialog-error",{ref:"errorDialog"}),i("room-dialog-message",{ref:"timeOutDialog",attrs:{msg:e.timeOutMessage}})],2):e._e()},Yi=[],en=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"room-dialog-loading"},[e._m(0),i("p",[e._v(e._s(e.$t("room.room_network_exception")))])])},tn=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"loading-box"},[i("i",{staticClass:"fade-item fade-item1"}),i("i",{staticClass:"fade-item fade-item2"}),i("i",{staticClass:"fade-item fade-item3"}),i("i",{staticClass:"fade-item fade-item4"}),i("i",{staticClass:"fade-item fade-item5"}),i("i",{staticClass:"fade-item fade-item6"}),i("i",{staticClass:"fade-item fade-item7"}),i("i",{staticClass:"fade-item fade-item8"}),i("i",{staticClass:"fade-item fade-item9"}),i("i",{staticClass:"fade-item fade-item10"}),i("i",{staticClass:"fade-item fade-item11"}),i("i",{staticClass:"fade-item fade-item12"})])}],nn={name:"RoomDialogLoading"},on=nn,sn=(i("27fe"),Object(r["a"])(on,en,tn,!1,null,null,null)),rn=sn.exports,an=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"room-dialog-error"},[i("el-dialog",{attrs:{visible:e.show,width:"380px",showClose:!1,distinguishCancelAndClose:!0},on:{"update:visible":function(t){e.show=t}}},[i("div",{staticClass:"dialog-content"},[i("div",{staticClass:"des"},[e._v(" "+e._s(e.$t("room.room_rejoin_fail"))+" ")]),i("div",[i("el-button",{staticClass:"cancle",attrs:{round:""},on:{click:e.retry}},[e._v(e._s(e.$t("room.room_retry")))]),i("el-button",{staticClass:"end",attrs:{round:""},on:{click:e.gotoLogin}},[e._v(e._s(e.$t("room.room_ok")))])],1)])])],1)},ln=[],cn={name:"RoomDialogError",data:function(){return{show:!1}},methods:{retry:function(){window.location.reload()},gotoLogin:function(){this.$route.meta.reload=!0,this.$router.replace("/login")}}},un=cn,dn=(i("e426"),Object(r["a"])(un,an,ln,!1,null,null,null)),hn=dn.exports,mn=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"base-dialog-message"},[i("el-dialog",{attrs:{visible:e.show,width:"380px",showClose:!1,"close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.show=t}}},[i("div",{staticClass:"dialog-content"},[i("div",{staticClass:"des"},[e._v(" "+e._s(e.msg)+" ")]),i("div",[i("el-button",{staticClass:"end",attrs:{round:""},on:{click:e.end}},[e._v(e._s(e.$t("room.room_tip_determine")))])],1)])])],1)},fn=[],gn={name:"RoomDialogMessage",props:["msg"],data:function(){return{show:!1}},methods:{end:function(){this.show=!1,this.$route.meta.reload=!0,this.$router.replace("/login")}}},pn=gn,vn=(i("b4ba"),Object(r["a"])(pn,mn,fn,!1,null,null,null)),_n=vn.exports,wn={name:"ZegoLiveRoom",components:{RoomDialogLoading:rn,RoomDialogError:hn,RoomDialogMessage:_n},data:function(){return{roomId:"",userName:"",env:"",client:null,streamList:[],userList:[],user:{},isPushStreamList:!1,isLogin:!1,publishStreamId:"",publishingFlag:"",devices:null,activeDevice:{},roomState:"",loading:!1,loadingTimer:null,loadingInterval:30,confirm:!1,roomExtraInfo:null,messages:[],sendLoadingTimer:null,sendLoadingInterval:5,timeOutMessage:""}},provide:function(){return{zegoLiveRoom:this}},created:function(){var e,t=this.$route.query.env||(null===(e=k["f"].get("loginInfo"))||void 0===e?void 0:e.env);ze(t)},mounted:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.$loading(),t.prev=1,t.next=4,e.loginRoomBiz();case 4:return t.next=6,e.initClient();case 6:return t.next=8,e.initLiveRoom();case 8:return t.next=10,e.loginRoom();case 10:return t.prev=10,e.$nextTick((function(){i.close()})),t.finish(10);case 13:case"end":return t.stop()}}),t,null,[[1,,10,13]])})))()},methods:{loginRoomBiz:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){var i,n,o,s,r,a,l,c,u,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=k["f"].get("loginInfo"),n=i.roomId,o=i.userId,s=i.userName,r=i.role,a=i.env,l=i.classScene,e.roomId=n,e.userName=s,e.env=a,!e.$route.meta.from){t.next=9;break}return c={userID:o,messageCategory:2,messageContent:[e.$t("room.room_im_join_class")],messageState:1,nick_name:s},e.setRoomMessage(1,c),e.$message(e.$t("room.room_login_time_limit_15")),t.abrupt("return");case 9:return u={uid:o,room_id:n,nick_name:s,role:r||2,room_type:l},t.prev=10,t.next=13,je("login_room",u);case 13:t.next=22;break;case 15:if(t.prev=15,t.t0=t["catch"](10),d=t.t0&&t.t0.ret&&t.t0.ret.code,10001!=d&&10002!=d){t.next=22;break}return e.$route.meta.reload=!0,e.$router.replace("/login"),t.abrupt("return",Promise.reject());case 22:case"end":return t.stop()}}),t,null,[[10,15]])})))()},initClient:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ve.init("live",e.env);case 2:e.client=t.sent;case 3:case"end":return t.stop()}}),t)})))()},loginRoom:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){var i,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.client.express("loginRoom",e.roomId);case 2:if(i=t.sent,!i.error){t.next=8;break}if(!i.code){t.next=7;break}return zt.showErrorCodeMsg(i.code,(function(){var t=setTimeout((function(){clearTimeout(t),e.$route.meta.reload=!0,e.$router.replace("/login")}),3e3)})),t.abrupt("return");case 7:i.msg&&e.showToast(i.msg);case 8:e.isLogin=!0,n=ve.getState("user"),o=n.user,e.$set(e,"user",o),e.userList.push(o);case 12:case"end":return t.stop()}}),t)})))()},initLiveRoom:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.client.on("roomStreamUpdate",(function(t,i,n){console.warn("this.streamList",e.streamList);var o=[];n=n.filter((function(e){return!!e.streamID})),"ADD"===i&&(console.warn("roomStreamUpdate ADD streamList",n),n.map((function(e){return e.isVideoOpen=e.isVideoOpen||!1})),o=[].concat(Object($["a"])(e.streamList),Object($["a"])(n))),"DELETE"===i&&(console.warn("roomStreamUpdate DELETE streamList",n),o=e.streamList.filter((function(e){return e.streamID!==n[0].streamID}))),console.warn("tempStreamList",o),e.$set(e,"streamList",o.filter((function(e){return!!e.streamID}))),Oe.getJoinLiveList()})),e.client.on("roomUserUpdate",(function(t,i,n){if(console.warn("this.client.on('roomUserUpdate'",{roomID:t,updateType:i,userList:n}),"ADD"===i&&n&&n.length&&(console.warn(n,"ADD userList"),console.warn(e.userList,"this.userList"),n.forEach((function(t){var i=e.userList.findIndex((function(e){return e.userID===t.userID}));-1===i&&e.userList.push(t)}))),"DELETE"===i&&n&&n.length){console.warn(n,"DELETE userList");var o=e.userList.findIndex((function(e){return e.userID===n[0].userID}));-1!==o&&e.userList.splice(o,1)}Oe.getAttendeeList(),Oe.getJoinLiveList()})),e.client.on("remoteCameraStatusUpdate",(function(t,i){console.warn("remoteCameraStatusUpdate",t,i);var n=e.streamList.findIndex((function(e){return t.endsWith(e.streamID)}));-1!==n&&e.$set(e.streamList[n],"isVideoOpen","OPEN"===i)})),e.client.on("publisherStateUpdate",(function(t){console.warn("publisherStateUpdate",t),console.warn("publishStreamId",e.publishStreamId),t.state})),e.client.on("roomStateUpdate",(function(t,i,n,o){switch(console.warn("roomStateUpdate:",i),console.warn("errorCode:",n),console.warn("extendedData:",o),e.roomState=i,i){case"CONNECTING":break;case"CONNECTED":e.initLoadingTimerHandle();break;case"DISCONNECTED":1002050===n?(e.timeOutMessage=e.$t("room.room_login_time_out"),e.$refs.timeOutDialog.show=!0):e.disconnectedHandle();break;default:break}})),e.client.on("roomExtraInfoUpdate",(function(t,i){var n={type:i[0].key,data:i[0].value};console.warn("监听到的roomExtraInfo",n),e.$set(e,"roomExtraInfo",n)})),e.client.on("IMRecvBarrageMessage",(function(t,i){console.warn("this.client.on('IMRecvBarrageMessage'",{roomID:t,chatData:i});var n={userID:i[0].fromUser.userID,messageCategory:1,messageID:i[0].messageID,messageContent:[{messageState:3,content:i[0].message}],nick_name:i[0].fromUser.userName};e.setRoomMessage(1,n)})),window.addEventListener("offline",(function(){e.offlineHandle()})),window.addEventListener("online",(function(){window.location.reload()}));case 9:case"end":return t.stop()}}),t)})))()},getDevices:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.client.express("enumDevices");case 2:return i=t.sent,e.$set(e,"devices",i),t.abrupt("return",i);case 5:case"end":return t.stop()}}),t)})))()},selectDevice:function(e,t){var i=this;return Object(w["a"])(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:o=i.client.localStream,n.t0=t,n.next="camera"===n.t0?4:"mic"===n.t0?9:"speak"===n.t0?14:16;break;case 4:if(n.t1=o,!n.t1){n.next=8;break}return n.next=8,i.client.express("useVideoDevice",e);case 8:return n.abrupt("break",16);case 9:if(n.t2=o,!n.t2){n.next=13;break}return n.next=13,i.client.express("useAudioDevice",e);case 13:return n.abrupt("break",16);case 14:return i.$set(i.activeDevice,"speaker",e),n.abrupt("break",16);case 16:case"end":return n.stop()}}),n)})))()},setActiveDevice:function(e){this.$set(this,"activeDevice",e)},createPushStream:function(){var e=arguments,t=this;return Object(w["a"])(regeneratorRuntime.mark((function i(){var n,o,s,r,a,l;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n=e.length>0&&void 0!==e[0]?e[0]:{},console.warn("createPushStream, 开始推流！"),o=t.activeDevice,s=o.camera,r=o.microphone,a={camera:{videoQuality:4,width:640,height:360,bitRate:600,frameRate:15,video:!0,audio:!0}},s&&(a.camera.videoInput=s),r&&(a.camera.audioInput=r),i.next=8,t.client.express("createStream",a);case 8:return console.warn("创建流 更新流列表 start"),l=t.user.userID,t.isPushStreamList=!0,t.publishStreamId="".concat(t.client.isElectron?"ec":"web","_").concat(l),t.isPushStreamList&&(t.streamList.push({streamID:t.publishStreamId,type:"push",stream:t.client.localStream,isVideoOpen:!0,isAudioOpen:!0,user:t.user}),t.isPushStreamList=!1),console.warn("创建流 更新流列表 end"),i.next=16,t.client.express("startPublishingStream",t.publishStreamId,n);case 16:case"end":return i.stop()}}),i)})))()},handleDeviceStateChange:function(e,t,i){var n=this;return Object(w["a"])(regeneratorRuntime.mark((function o(){var s,r;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(s=!t,r=!i,console.warn({localStream:n.client.localStream}),console.warn("flag, isVideoOpen, isAudioOpen",e,t,i),!t&&!i){o.next=20;break}if(n.client.localStream){o.next=16;break}if(!n.client.isCreatingStream){o.next=7;break}return o.abrupt("return");case 7:return n.publishingFlag=e,o.next=10,n.createPushStream({isVideoOpen:t,isAudioOpen:i});case 10:return o.next=12,n.client.express("mutePublishStreamVideo",s);case 12:return o.next=14,n.client.express("mutePublishStreamAudio",r);case 14:o.next=18;break;case 16:("video"===e||t&&i)&&(n.client.express("mutePublishStreamVideo",s),n.handleSelfVideoToggle(t)),("audio"===e||t&&i)&&(n.client.express("mutePublishStreamAudio",r),n.handleSelfAudioToggle(i));case 18:o.next=21;break;case 20:n.handleDestroyStream();case 21:case"end":return o.stop()}}),o)})))()},handleSelfVideoToggle:function(e){var t=this.streamList.findIndex((function(e){return!0===e.user.isMe}));-1!==t&&this.$set(this.streamList[t],"isVideoOpen",e)},handleSelfAudioToggle:function(e){var t=this.streamList.findIndex((function(e){return!0===e.user.isMe}));-1!==t&&this.$set(this.streamList[t],"isAudioOpen",e)},handleDestroyStream:function(){var e=this;this.client.express("stopPublishingStream",this.publishStreamId);var t=this.streamList.findIndex((function(t){return t.streamID===e.publishStreamId}));-1!==t&&this.streamList.splice(t,1)},startPreview:function(e,t){this.client.express("startPreview",e,t)},startPlayingStream:function(e,t,i){var n=this;return Object(w["a"])(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,n.client.express("startPlayingStream",e,t,i);case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}}),o)})))()},stopPlayingStream:function(e){this.client.express("stopPlayingStream",e)},onMuteSpeaker:function(e){this.$on("muteSpeaker",e)},muteSpeaker:function(e){this.$emit("muteSpeaker",e)},offlineHandle:function(){var e=this;this.loading||this.confirm||(this.loading=!0,this.loadingTimer=setInterval((function(){0===e.loadingInterval?e.disconnectedHandle():(e.loadingInterval--,console.log(e.loadingInterval))}),1e3))},disconnectedHandle:function(){this.streamList=[],this.localStream=null,this.initLoadingTimerHandle(),this.$refs.errorDialog&&(this.$refs.errorDialog.show=!0),this.handleDestroyStream(),Oe.close()},initLoadingTimerHandle:function(){this.loadingTimer&&clearInterval(this.loadingTimer),this.loadingTimer=null,this.loadingInterval=30,this.loading&&(this.loading=!1,this.$refs.errorDialog.show=!1)},setRoomMessage:function(e,t,i,n){var o,s,r=this.messages[this.messages.length-1],a=null===(o=this.messages[this.messages.length-1])||void 0===o?void 0:o.userID,l=null===(s=this.messages[this.messages.length-1])||void 0===s?void 0:s.messageCategory;1===e?r&&t.userID==a&&2!==l?this.messages[this.messages.length-1].messageContent.push({messageID:(new Date).getTime(),messageState:1,content:t.messageContent[0].content}):this.messages.push(t):2===e&&this.messages[this.messages.length-1].messageContent.find((function(e){e.messageID===i&&(0===n.errorCode?(e.messageState=3,e.messageID=n.messageID):e.messageState=2)}))},sendBarrageMessage:function(e){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function i(){var n,o,s,r,a,l;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n={userID:t.user.userID,messageCategory:1,messageTimestamp:(new Date).getTime(),messageContent:[{messageState:1,content:e,messageID:(new Date).getTime()}],nick_name:t.user.userName},o=n.messageContent[0].messageID,t.setRoomMessage(1,n),i.prev=3,i.next=6,t.client.express("sendBarrageMessage",e);case 6:s=i.sent,r=0,a=5,l=null,l=setInterval((function(){r++,console.warn("倒计时：",r),s&&(console.warn("发送成功"),clearInterval(l),0===s.errorCode&&t.setRoomMessage(2,n,o,s),0!==s.errorCode&&t.setRoomMessage(2,n,o,s)),r===a&&(clearInterval(l),t.setRoomMessage(2,n,o,s))}),1e3),i.next=15;break;case 11:i.prev=11,i.t0=i["catch"](3),console.warn("------error----",i.t0),t.setRoomMessage(2,n,o,{errorCode:i.t0});case 15:case"end":return i.stop()}}),i,null,[[3,11]])})))()}},destroyed:function(){this.$off(["muteSpeaker","roomExtraInfoUpdate"])}},bn=wn,xn=(i("b6ce"),Object(r["a"])(bn,Qi,Yi,!1,null,null,null)),kn=xn.exports,yn={name:"SceneBaseClass",components:{ZegoLiveRoom:kn,PageLayoutRoom:$i,LargeClassLayoutRoom:Xi},data:function(){return{isInit:!1,classScene:1}},mounted:function(){this.initProps()},destroyed:function(){this.isInit=!1},methods:{initProps:function(){var e=k["f"].get("loginInfo");this.classScene=(null===e||void 0===e?void 0:e.classScene)||1,e?this.isInit=!0:this.$router.replace({path:"login",query:this.$route.query})}}},Cn=yn,In=(i("05ed"),Object(r["a"])(Cn,m,f,!1,null,null,null)),Sn=In.exports,Tn={name:"room",components:{SceneBaseClass:Sn},beforeRouteEnter:function(e,t,i){e.meta.from=t.name,i()}},Ln=Tn,An=(i("b3b2"),Object(r["a"])(Ln,d,h,!1,null,"702399ab",null)),Vn=An.exports,Dn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-login"},[n("div",{staticClass:"login-content"},[e._m(0),n("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.rules,"hide-required-asterisk":!1}},[n("div",{staticClass:"login-form-container"},[n("div",{staticClass:"welcome"},[n("span",[e._v(e._s(e.$t("login.login_welcome")))]),n("span",{staticClass:"forClass"},[e._v(e._s(e.$t("login.login_goclass")))])]),n("el-form-item",{staticClass:"el-form-item__content roomid",attrs:{prop:"roomId"}},[n("el-input",{staticClass:"el-input el-input-ID",attrs:{placeholder:e.$t("login.login_input_classid")},model:{value:e.loginForm.roomId,callback:function(t){e.$set(e.loginForm,"roomId",t)},expression:"loginForm.roomId"}})],1),n("el-form-item",{staticClass:"el-form-item__content username",attrs:{prop:"userName"}},[n("el-input",{staticClass:"el-input",attrs:{placeholder:e.$t("login.login_enter_name")},model:{value:e.loginForm.userName,callback:function(t){e.$set(e.loginForm,"userName",t)},expression:"loginForm.userName"}})],1),n("el-form-item",{staticClass:"el-form-item__content login-select"},[n("el-select",{attrs:{placeholder:e.$t("login.login_select"),"popper-class":"login-select-list"},on:{change:e.setRoomType},model:{value:e.loginForm.classScene,callback:function(t){e.$set(e.loginForm,"classScene",t)},expression:"loginForm.classScene"}},e._l(e.classOptions,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),n("el-form-item",{staticClass:"el-form-item__content login-select"},[n("el-select",{attrs:{placeholder:e.$t("login.login_select"),"popper-class":"login-select-list"},model:{value:e.loginForm.role,callback:function(t){e.$set(e.loginForm,"role",t)},expression:"loginForm.role"}},e._l(e.roleOptions,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),n("el-button",{staticClass:"join-class",attrs:{type:"primary","native-type":"submit",disabled:!e.joinBtnClickable},on:{click:e.handleJoinClassroom}},[e._v(e._s(e.$t("login.login_join_class")))]),n("div",{staticClass:"env"},[n("el-divider",[e._v(e._s(e.$t("login.login_access_env")))]),n("el-radio-group",{model:{value:e.loginForm.env,callback:function(t){e.$set(e.loginForm,"env",t)},expression:"loginForm.env"}},[n("el-radio",{staticClass:"left",attrs:{label:"home"}},[e._v(e._s(e.$t("login.login_mainland_china")))]),n("el-radio",{attrs:{label:"overseas"}},[e._v(e._s(e.$t("login.login_overseas")))])],1),n("p",{staticClass:"env-tip"},[e._v(e._s(e.$t("login.login_interconnected")))])],1)],1)])],1),n("el-select",{staticClass:"zego-locale",attrs:{placeholder:e.$t("login.login_select"),"popper-class":"zego-locale-list","popper-append-to-body":!1},on:{change:e.changeLocale},model:{value:e.zego_locale,callback:function(t){e.zego_locale=t},expression:"zego_locale"}},[n("template",{slot:"prefix"},[n("div",{staticClass:"prefix-icon",domProps:{innerHTML:e._s(i("0b67").default)}})]),n("el-option",{attrs:{label:"简体中文",value:"zh"}},[n("span",[e._v("简体中文")]),n("span",{staticClass:"option-icon",domProps:{innerHTML:e._s(i("d840").default)}})]),n("el-option",{attrs:{label:"English",value:"en"}},[n("span",[e._v("English")]),n("span",{staticClass:"option-icon",domProps:{innerHTML:e._s(i("d840").default)}})])],2),e.isDev?n("el-button",{staticClass:"envbtn",attrs:{type:"text"},on:{click:function(t){e.showEnv=!0}}},[e._v("设置")]):e._e(),n("el-dialog",{attrs:{title:"设置环境",width:"360px",visible:e.showEnv},on:{"update:visible":function(t){e.showEnv=t}}},[n("el-form",{attrs:{model:e.envForm,"label-width":"100px","label-position":"right"}},[n("el-form-item",{attrs:{label:"房间服务环境"}},[n("el-select",{attrs:{placeholder:"请选择 白板 环境"},model:{value:e.envForm.wb,callback:function(t){e.$set(e.envForm,"wb",t)},expression:"envForm.wb"}},[n("el-option",{attrs:{label:"alpha",value:"alpha"}}),n("el-option",{attrs:{label:"test",value:"test"}}),n("el-option",{attrs:{label:"正式",value:""}})],1)],1),n("el-form-item",{attrs:{label:"文件服务环境"}},[n("el-select",{attrs:{placeholder:"请选择 文件 环境"},model:{value:e.envForm.docs,callback:function(t){e.$set(e.envForm,"docs",t)},expression:"envForm.docs"}},[n("el-option",{attrs:{label:"测试",value:"test"}}),n("el-option",{attrs:{label:"正式",value:""}})],1)],1),n("el-form-item",{attrs:{label:"业务后台环境"}},[n("el-select",{attrs:{placeholder:"请选择 Go课堂 环境"},model:{value:e.envForm.goclass,callback:function(t){e.$set(e.envForm,"goclass",t)},expression:"envForm.goclass"}},[n("el-option",{attrs:{label:"测试",value:"test"}}),n("el-option",{attrs:{label:"正式",value:""}})],1)],1),n("el-form-item",{attrs:{label:"PPT切页"}},[n("el-select",{attrs:{placeholder:"请选择 切页模式"},model:{value:e.envForm.pptStepMode,callback:function(t){e.$set(e.envForm,"pptStepMode",t)},expression:"envForm.pptStepMode"}},[n("el-option",{attrs:{label:"正常",value:"1"}}),n("el-option",{attrs:{label:"不切页",value:"2"}})],1)],1)],1),n("el-button",{attrs:{type:"primary"},on:{click:e.setAllEnv}},[e._v("确定")])],1)],1)},Pn=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"img-sertion"},[n("img",{staticClass:"logo",attrs:{src:i("ba69"),alt:""}}),n("img",{staticClass:"login-bg",attrs:{src:i("57c5"),alt:""}})])}],zn={name:"Login",data:function(){return{showEnv:!1,envForm:re["g"],loginForm:{roomId:"",userName:"",env:"",classScene:1,role:1},rules:{roomId:[{required:!0,pattern:/^[\d]{1,9}$/,message:this.$t("login.login_supports_pure_digits"),trigger:"change"}],userName:[{required:!0,message:this.$t("login.login_supports_characters_number_uppercase_letter"),pattern:/^[\d\w\u4e00-\u9fa5]{1,30}$/,trigger:"change"}]},classOptions:[{value:1,label:this.$t("login.login_small_class")},{value:2,label:this.$t("login.login_large_class")}],roleOptions:[{value:1,label:this.$t("login.login_teacher")},{value:2,label:this.$t("login.login_student")}],zego_locale:"zh",isDev:!1}},computed:{joinBtnClickable:function(){var e=this.loginForm,t=e.roomId,i=e.userName;return t&&i}},beforeRouteEnter:function(e,t,i){i((function(){t.name&&window.location.reload()}))},watch:{loginForm:{handler:function(e){Object(k["d"])(e)},deep:!0}},mounted:function(){ve.setState({isInit:!1}),this.initParams(),this.isDev="goclass.zego.im"!==window.location.hostname},methods:{initParams:function(){var e=k["f"].get("loginInfo");this.loginForm.roomId=this.$route.query.roomId||(null===e||void 0===e?void 0:e.roomId)||"",this.loginForm.env=this.$route.query.env||(null===e||void 0===e?void 0:e.env)||"home",this.loginForm.userName=(null===e||void 0===e?void 0:e.userName)||"",this.loginForm.role=(null===e||void 0===e?void 0:e.role)||1,this.loginForm.classScene=k["f"].get("zego_room_type")||1;var t=sessionStorage.getItem("zego_locale")||"zh";console.warn(t),this.zego_locale=t},handleJoinClassroom:function(e){var t=this;e.preventDefault(),this.$refs.loginForm.validate(function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(i){var n,o,s,r,a,l,c,u,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i){e.next=2;break}return e.abrupt("return");case 2:return n=t.$loading(),o=t.loginForm,s=o.roomId,r=o.userName,a=o.env,l=o.role,c=o.classScene,u=Object(k["d"])(t.loginForm),d={uid:u.userId,room_id:s,nick_name:r,role:l,room_type:c},ze(a),e.prev=7,e.next=10,je("login_room",d);case 10:return e.next=12,ve.init("live",u.env,u.user);case 12:t.$router.push({path:"classroom",query:{roomId:s,env:a}});case 13:return e.prev=13,t.$nextTick((function(){n.close()})),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[7,,13,16]])})));return function(t){return e.apply(this,arguments)}}())},setAllEnv:function(){sessionStorage.setItem("zegoenv",JSON.stringify(this.envForm)),this.showEnv=!1,window.location.reload()},setRoomType:function(){sessionStorage.setItem("zego_room_type",JSON.stringify(this.loginForm.classScene)),window.location.reload()},changeLocale:function(){sessionStorage.setItem("zego_locale",this.zego_locale),window.location.reload()}}},jn=zn,Rn=(i("206d"),Object(r["a"])(jn,Dn,Pn,!1,null,null,null)),On=Rn.exports;n["default"].use(u["a"]);var Bn=[{path:"/",name:"Login",component:On},{path:"/login",name:"Login",component:On},{path:"/classroom",name:"Room",component:Vn}],Wn=new u["a"]({routes:Bn}),$n=Wn,Mn={install:function(e,t){console.log({options:t}),e.prototype.$message=U["Message"],e.prototype.showToast=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;U["Message"].closeAll(),this.$message({dangerouslyUseHTMLString:!0,message:e,customClass:"common-toast",duration:t})}}},En=Mn;i("b941");n["default"].config.productionTip=!1,n["default"].use(Z.a),n["default"].use(En),new n["default"]({router:$n,i18n:Ce,render:function(e){return e(c)}}).$mount("#app")},"57a5":function(e,t,i){"use strict";i.r(t),t["default"]='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n  \n  <path class="hover-stroke" fill="none" stroke="#585c62" stroke-miterlimit="10" stroke-width="2.4px" d="M8.21,5.5H23.79A2.69,2.69,0,0,1,26.5,8.17V18.83a2.69,2.69,0,0,1-2.71,2.67H8.21A2.69,2.69,0,0,1,5.5,18.83V8.17A2.69,2.69,0,0,1,8.21,5.5Z"/>\n  <line class="hover-stroke" fill="none" stroke="#585c62" stroke-miterlimit="10" stroke-width="2.4px" x1="5" y1="26.5" x2="27" y2="26.5"/>\n  <path class="hover-stroke" fill="none" stroke="#585c62" stroke-miterlimit="10" stroke-width="2.4px" d="M10.66,13.93c4.9-3.89,4.27,2.36,11-2.61"/>\n</svg>\n'},"57c5":function(e,t,i){e.exports=i.p+"img/login-page-bg.0e5d8811.png"},5857:function(e,t,i){},"5b9c":function(e,t,i){"use strict";i.r(t),t["default"]='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><defs><style>.cls-1{fill:#fff;opacity:0;}.cls-2{fill:none;stroke:#999;stroke-linecap:round;stroke-linejoin:round;stroke-width:1.2px;}</style></defs><title>dynamic_file</title><g id="图层_2" data-name="图层 2"><g id="图层_1-2" data-name="图层 1"><rect class="cls-1" width="16" height="16" transform="translate(16) rotate(90)"/><polygon class="cls-2" points="6.72 0.7 4.85 4.03 1.11 4.78 3.69 7.59 3.25 11.39 6.72 9.8 10.2 11.39 9.76 7.59 12.34 4.78 8.6 4.03 6.72 0.7 6.72 0.7 6.72 0.7"/><line class="cls-2" x1="6.03" y1="13.91" x2="7.42" y2="15.3"/><line class="cls-2" x1="13.51" y1="8.01" x2="14.89" y2="9.4"/><line class="cls-2" x1="12.08" y1="13.91" x2="13.35" y2="15.18"/></g></g></svg>'},"5c0b":function(e,t,i){"use strict";var n=i("9c0c"),o=i.n(n);o.a},"5e3d":function(e,t,i){"use strict";var n=i("6e17"),o=i.n(n);o.a},"5e96":function(e,t,i){"use strict";i.r(t),t["default"]='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">\n<g id="图层_2" data-name="图层 2">\n  <g id="图层_1-2" data-name="图层 1">\n    <path class="hover-fill" fill="#b1b4bb" fill-rule="evenodd" width="20" height="20" transform="translate(20) rotate(90)"/>\n    <path class="hover-fill" fill="#b1b4bb" fill-rule="evenodd" d="M14.8,18.34a1,1,0,0,0,1.42,0l2.12-2.12a1,1,0,0,0,0-1.42L11.27,7.73,7.73,11.27ZM7.73,5.61,5.61,7.73a1,1,0,0,0,0,1.42L7,10.56,10.56,7,9.15,5.61A1,1,0,0,0,7.73,5.61Z"/>\n    <rect class="hover-fill" fill="#b1b4bb" fill-rule="evenodd" x="9.61" y="3.04" width="2.6" height="1.6" rx="0.8" transform="translate(0.48 8.84) rotate(-45)"/>\n    <rect class="hover-fill" fill="#b1b4bb" fill-rule="evenodd" x="6.37" y="1.87" width="2.6" height="1.6" rx="0.8" transform="translate(5 10.34) rotate(-90)"/>\n    <rect class="hover-fill" fill="#b1b4bb" fill-rule="evenodd" x="3.25" y="3.75" width="2.6" height="1.6" rx="0.8" transform="translate(4.55 10.98) rotate(-135)"/>\n    <rect class="hover-fill" fill="#b1b4bb" fill-rule="evenodd" x="1.37" y="6.87" width="2.6" height="1.6" rx="0.8" transform="translate(5.34 15.34) rotate(180)"/>\n    <rect class="hover-fill" fill="#b1b4bb" fill-rule="evenodd" x="2.54" y="10.11" width="2.6" height="1.6" rx="0.8" transform="translate(14.28 15.91) rotate(135)"/>\n  </g>\n</g>\n</svg>'},"5f6d":function(e,t,i){"use strict";var n=i("42b4"),o=i.n(n);o.a},"5fae":function(e,t,i){},6077:function(e,t,i){"use strict";var n=i("6d4b"),o=i.n(n);o.a},"61b3":function(e,t,i){"use strict";i.r(t),t["default"]='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 12">\n<path class="font-fill" fill="#585c62" d="M7.76,9.52H6l1.5-7H9.26A.63.63,0,0,0,9.85,2a.38.38,0,0,0-.38-.49h-5A.64.64,0,0,0,3.85,2a.39.39,0,0,0,.39.49H6l-1.5,7H2.74a.63.63,0,0,0-.59.49.38.38,0,0,0,.38.49h5A.64.64,0,0,0,8.15,10,.39.39,0,0,0,7.76,9.52Z"/></svg>'},"641f":function(e,t,i){"use strict";i.r(t),t["default"]='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n  <path class="hover-fill" fill="#b1b4bc" d="M19.08,4.57A5.29,5.29,0,0,0,16,3.6,5.4,5.4,0,0,0,10.6,9v5a5.4,5.4,0,0,0,10.8,0V9A5.38,5.38,0,0,0,19.08,4.57ZM19,14a3,3,0,0,1-6,0V9a3,3,0,0,1,6,0Z"/>\n  <path class="hover-fill" fill="#b1b4bc" d="M16,24.45a9.71,9.71,0,0,1-9.7-9.7,1.2,1.2,0,0,1,2.4,0,7.3,7.3,0,0,0,14.6,0,1.2,1.2,0,0,1,2.4,0A9.71,9.71,0,0,1,16,24.45Z"/>\n  <path class="hover-fill" fill="#b1b4bc" d="M20.5,28.7h-9a1.2,1.2,0,1,1,0-2.4h9a1.2,1.2,0,0,1,0,2.4Z"/>\n  <path class="cls-3" fill="#ffbc00" d="M24,2a6,6,0,0,0-4.92,2.57A6,6,0,0,0,19,11.31a6,6,0,0,0,2.4,2.1,5.91,5.91,0,0,0,2.19.57A2.75,2.75,0,0,0,24,14a6.16,6.16,0,0,0,1.3-.14A6,6,0,0,0,24,2ZM23,5a1,1,0,0,1,2,0V8a1,1,0,0,1-2,0Zm0,6a1,1,0,1,1,1,1A1,1,0,0,1,23,11Z"/>\n</svg>\n'},"686e":function(e,t,i){"use strict";i.r(t),t["default"]='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">\n  \n  <path class="graph-fill" fill="#b0b3ba" d="M14.2,6.8v6.4H5.8V6.8h8.4M17,4H3V16H17V4Z"/>\n</svg>\n'},"697f":function(e,t,i){"use strict";i.r(t),t["default"]='<svg version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t viewBox="0 0 32 32" style="enable-background:new 0 0 32 32;" xml:space="preserve">\n<path class="hover-stroke" fill="none" stroke="#585C62" stroke-width="2.4" d="M14,4.5L14,4.5c2.5,0,4.5,2,4.5,4.5l0,0c0,2.5-2,4.5-4.5,4.5l0,0c-2.5,0-4.5-2-4.5-4.5l0,0\n\tC9.5,6.5,11.5,4.5,14,4.5z"/>\n<path class="hover-stroke" fill="none" stroke="#585C62" stroke-width="2.4" stroke-miterlimit="10" d="M6.5,29v-7.5c0-2.2,1.8-4,4-4h8"/>\n<line class="hover-stroke" fill="none" stroke="#585C62" stroke-width="2.4" stroke-miterlimit="10" x1="22.5" y1="18" x2="22.5" y2="27"/>\n<line class="hover-stroke" fill="none" stroke="#585C62" stroke-width="2.4" stroke-miterlimit="10" x1="27" y1="22.5" x2="18" y2="22.5"/>\n</svg>\n'},"6d4b":function(e,t,i){},"6e17":function(e,t,i){},"703f":function(e,t,i){},7244:function(e,t,i){"use strict";i.r(t),t["default"]='<svg version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t viewBox="0 0 12 12" style="enable-background:new 0 0 12 12;" xml:space="preserve">\n<path class="hover-fill" fill-rule="evenodd" clip-rule="evenodd" fill="#B1B4BD" d="M6,0C2.7,0,0,2.7,0,6s2.7,6,6,6s6-2.7,6-6S9.3,0,6,0z M9.4,8.1L8,9.6l-2-2l-2,2L2.6,8.1l2-2l-2-2L4,2.8l2,2l2-2\n\tl1.4,1.4l-2,2L9.4,8.1z"/>\n</svg>\n'},7489:function(e,t,i){"use strict";i.r(t),t["default"]='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">\n  \n  <polygon class="hover-fill" fill="#b1b4bb" fill-rule="evenodd" points="17 5 3 5 4 3 17 3 17 5"/>\n  <polygon class="hover-fill" fill="#b1b4bb" fill-rule="evenodd" points="9 5 6 17 10 17 12 5 9 5"/>\n</svg>\n'},7606:function(e,t,i){"use strict";i.r(t),t["default"]='<svg version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t viewBox="0 0 12 12" style="enable-background:new 0 0 12 12;" xml:space="preserve">\n<polyline class="stroke" fill="none" stroke="#fff" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" points="3,6 5,8 9,4 "/>\n</svg>\n'},7615:function(e,t,i){e.exports=i.p+"img/default_waiting_share.70973c0e.png"},"769d":function(e,t,i){},"76ee":function(e,t,i){"use strict";i.r(t),t["default"]='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">\n  \n  <polygon class="hover-fill" fill="#b1b4bb" fill-rule="evenodd" points="11.9 3 11.9 11 17.9 7 11.9 3"/>\n  <path class="hover-stroke" fill-rule="evenodd" fill="none" stroke="#b1b4bb" stroke-miterlimit="10" stroke-width="2.8px" d="M12.4,7H7.65A4.25,4.25,0,0,0,3.4,11.25h0A4.25,4.25,0,0,0,7.65,15.5H8.9"/>\n</svg>\n'},7943:function(e,t,i){"use strict";i.r(t),t["default"]='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n  \n  <path class="hover-stroke" fill="none" stroke="#003eff" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2.4px" d="M21.55,12a5.59,5.59,0,0,1,0,7.93"/>\n  <path class="hover-stroke" fill="none" stroke="#003eff" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2.4px" d="M24.73,8a11.19,11.19,0,0,1,0,15.85"/>\n  <path class="hover-fill" fill="#003eff" d="M16.41,3,9.06,9.3H5.5a2.21,2.21,0,0,0-2.2,2.2v9a2.21,2.21,0,0,0,2.2,2.2H9.06L16.41,29H17.7V3ZM15.3,24.89,9.94,20.3H5.7V11.7H9.94L15.3,7.11Z"/>\n</svg>\n'},"7a2b":function(e,t,i){},"7b06":function(e,t,i){"use strict";i.r(t),t["default"]='<svg version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t viewBox="0 0 20 20" style="enable-background:new 0 0 20 20;" xml:space="preserve">\n\t<line class="hover-stroke" fill="none" stroke="#585C60" x1="10" y1="6" x2="10" y2="14"/>\n\t<line class="hover-stroke" fill="none" stroke="#585C60" x1="6" y1="10" x2="14" y2="10"/>\n</svg>\n'},"7b4d":function(e,t,i){"use strict";var n=i("ef65"),o=i.n(n);o.a},"802e":function(e,t,i){"use strict";var n=i("ff0b"),o=i.n(n);o.a},"865f":function(e,t,i){"use strict";i.r(t),t["default"]='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="32">\n  <path class="hover-fill" fill="#585c62" d="M16.4,18.26,11,12.9c0,.14,0,.26,0,.4a5,5,0,0,0,5,5C16.14,18.3,16.26,18.27,16.4,18.26Z"/>\n  <path class="hover-fill" fill="#585c62" d="M15.53,8.35,21,13.77A3.75,3.75,0,0,0,21,13.3a5,5,0,0,0-5-5A3.75,3.75,0,0,0,15.53,8.35Z"/>\n  <path class="hover-fill" fill="#585c62" d="M16,6.08a7.22,7.22,0,0,1,6.83,9.56l1.83,1.83A9.6,9.6,0,0,0,11.83,4.64l1.83,1.83A7.22,7.22,0,0,1,16,6.08Z"/>\n  <path class="hover-fill" fill="#585c62" d="M20.12,22l-1-1-.86-.85a7.12,7.12,0,0,1-2.28.37A7.22,7.22,0,0,1,8.78,13.3,7.12,7.12,0,0,1,9.15,11L7.32,9.18a9.47,9.47,0,0,0-.94,4.12,9.61,9.61,0,0,0,4.79,8.31L6,25.44V29H26V26.54a3.15,3.15,0,0,1-2.26-.94ZM17,26.6H8.47l4.32-3.2h6.42l4.32,3.2Z"/>\n  <path class="hover-fill" fill="#585c62" d="M26.85,22.49l-3.28-3.27-1.71-1.71L20.25,15.9l-1.79-1.8L15.2,10.84,13.4,9.05,11.79,7.44,10.08,5.73,6.85,2.49a1.21,1.21,0,0,0-1.7,0,1.2,1.2,0,0,0,0,1.7L8.39,7.43,10.1,9.14l1.62,1.61,1.8,1.81,3.22,3.22,1.81,1.8,1.61,1.62,1.71,1.71,3.28,3.28a1.21,1.21,0,0,0,1.7,0A1.2,1.2,0,0,0,26.85,22.49Z"/>\n</svg>\n'},"8a1f":function(e,t,i){},"8b3c":function(e,t,i){"use strict";i.r(t),t["default"]='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">\n  \n  <path class="hover-fill" fill="#b1b4bb" d="M3,3.55,7,16.4a.86.86,0,0,0,1.62.05l1.81-4.82a2,2,0,0,1,1.17-1.17l4.82-1.81a.85.85,0,0,0,0-1.61L3.55,3A.42.42,0,0,0,3,3.55Z"/>\n</svg>\n'},"8c9c":function(e,t,i){"use strict";i.r(t),t["default"]='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n  \n  <path class="hover-stroke" fill="none" stroke="#585c62" stroke-miterlimit="10" stroke-width="2.4px" d="M8.5,5.5h4.76a.6.6,0,0,1,.6.6V8.9a.6.6,0,0,0,.6.6h9a3,3,0,0,1,3,3v11a3,3,0,0,1-3,3H8.5a3,3,0,0,1-3-3V8.5A3,3,0,0,1,8.5,5.5Z"/>\n  <line class="hover-stroke" fill="none" stroke="#585c62" stroke-miterlimit="10" stroke-width="2.4px" x1="6.79" y1="15.5" x2="25.74" y2="15.5"/>\n  <line class="hover-stroke" fill="none" stroke="#585c62" stroke-miterlimit="10" stroke-width="2.4px" x1="10.85" y1="20.5" x2="15.59" y2="20.5"/>\n</svg>\n'},"8fea":function(e,t,i){"use strict";i.r(t),t["default"]='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">\n  \n  <polygon class="hover-fill" fill="#b1b4bb" fill-rule="evenodd" points="8 3 8 11 2 7 8 3"/>\n  <path class="hover-stroke" fill-rule="evenodd" fill="none" stroke="#b1b4bb" stroke-miterlimit="10" stroke-width="2.8px" d="M7.5,7h4.75a4.25,4.25,0,0,1,4.25,4.25h0a4.25,4.25,0,0,1-4.25,4.25H11"/>\n</svg>\n'},9088:function(e,t,i){"use strict";i.r(t),t["default"]='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">\n  \n  <path class="graph-fill" fill="#b0b3ba" d="M10,5.8A4.2,4.2,0,1,1,5.8,10,4.2,4.2,0,0,1,10,5.8M10,3a7,7,0,1,0,7,7,7,7,0,0,0-7-7Z"/>\n</svg>\n'},9183:function(e,t,i){},"931c":function(e,t,i){},"956a":function(e,t,i){"use strict";var n=i("348a"),o=i.n(n);o.a},9597:function(e,t,i){"use strict";i.r(t),t["default"]='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 12"><defs>\n<style>.input-error-cls-1{fill:#f64326;}.input-error-cls-2{fill:#f2f2f2;}</style></defs>\n<title>input_error</title><g id="图层_2" data-name="图层 2"><g id="图层_1-2" data-name="图层 1">\n<circle class="input-error-cls-1" cx="6" cy="6" r="6"/>\n<rect class="input-error-cls-2" x="5" y="2" width="2" height="5" rx="1"/>\n<rect class="input-error-cls-2" x="5" y="8" width="2" height="2" rx="1"/></g></g></svg>'},"95e8":function(e,t,i){"use strict";var n=i("52d9"),o=i.n(n);o.a},"97f2":function(e,t,i){"use strict";i.d(t,"d",(function(){return n})),i.d(t,"i",(function(){return o})),i.d(t,"b",(function(){return s})),i.d(t,"g",(function(){return r})),i.d(t,"e",(function(){return a})),i.d(t,"j",(function(){return l})),i.d(t,"c",(function(){return c})),i.d(t,"h",(function(){return u})),i.d(t,"l",(function(){return d})),i.d(t,"m",(function(){return h})),i.d(t,"a",(function(){return m})),i.d(t,"f",(function(){return f})),i.d(t,"k",(function(){return g}));var n=3606078772,o=1068511430,s=3561855324,r=881993674,a="wss://webliveroom3606078772-api.zego.im/ws",l="wss://webliveroom1068511430-api.zegocloud.com/ws",c="wss://webliveroom3561855324-api.zego.im/ws",u="wss://webliveroom881993674-api.zegocloud.com/ws",d="https://backend-alpha.talkline.cn/edu_room/",h="https://goclass-server-alpha.zego.im/edu_room/",m="https://goclass-server-sh.zego.im/edu_room/",f="https://goclass-server-hk.zegocloud.com/edu_room/",g="https://doc.zego.im/data/getSdkToken"},"9c0c":function(e,t,i){},"9d4e":function(e,t,i){"use strict";i.r(t),t["default"]='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 12">\n<path class="font-fill" fill="#585c62" d="M9.22,7.87a2.61,2.61,0,0,1-.19,1,2.84,2.84,0,0,1-.55.84,2.75,2.75,0,0,1-.82.57,2.54,2.54,0,0,1-1,.2H3.58a.81.81,0,0,1-.8-.82V2.32a.81.81,0,0,1,.8-.82H6.05a2.54,2.54,0,0,1,1,.2,2.58,2.58,0,0,1,.81.57,2.5,2.5,0,0,1,.55.84,2.69,2.69,0,0,1,.2,1A2.51,2.51,0,0,1,8.47,5a2.91,2.91,0,0,1-.37.75,2.65,2.65,0,0,1,.82.94A2.57,2.57,0,0,1,9.22,7.87ZM7.13,4.12A1,1,0,0,0,7,3.7a1,1,0,0,0-.23-.36,1.16,1.16,0,0,0-.34-.24A1.06,1.06,0,0,0,6.05,3H4.36V5.23H6.05a1.25,1.25,0,0,0,.42-.08,1.16,1.16,0,0,0,.34-.24A1,1,0,0,0,7,4.56,1.08,1.08,0,0,0,7.13,4.12Zm.62,3.74a1.2,1.2,0,0,0-.08-.42,1.13,1.13,0,0,0-.24-.36,1,1,0,0,0-.34-.24,1,1,0,0,0-.42-.09H4.36V9H6.67a1,1,0,0,0,.42-.08,1,1,0,0,0,.34-.24,1.21,1.21,0,0,0,.24-.35A1.27,1.27,0,0,0,7.75,7.86Z"/></svg>'},"9e7a":function(e,t,i){},ac61:function(e,t,i){"use strict";i.r(t),t["default"]='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18">\n<rect class="cls-1" fill="none" width="18" height="18"/>\n<path class="hover-fill" fill="#fff" d="M9,2A3,3,0,0,0,6.6,3.2l1,1A1.55,1.55,0,0,1,9,3.4,1.6,1.6,0,0,1,10.6,5V7.2L12,8.55A3.31,3.31,0,0,0,12,8V5A3,3,0,0,0,9,2ZM6,8a3,3,0,0,0,3,3A3.31,3.31,0,0,0,9.55,11L6,7.4Z"/>\n<path class="hover-fill" fill="#fff" d="M10.58,12l1.05,1A5.46,5.46,0,0,1,3.55,8.25a.7.7,0,0,1,1.4,0A4.06,4.06,0,0,0,9,12.3,4.17,4.17,0,0,0,10.58,12Z"/>\n<path class="hover-fill" fill="#fff" d="M14.45,8.25a5.3,5.3,0,0,1-.51,2.29L12.86,9.46a3.74,3.74,0,0,0,.19-1.21.7.7,0,1,1,1.4,0Z"/>\n<path class="hover-fill" fill="#fff" d="M11.5,14.8h-5a.7.7,0,0,0,0,1.4h5a.7.7,0,0,0,0-1.4Z"/>\n<path class="hover-fill" fill="#fff" d="M15,14.7a.74.74,0,0,1-.5-.2L3,3A.71.71,0,0,1,4,2L15.5,13.5a.72.72,0,0,1,0,1A.74.74,0,0,1,15,14.7Z"/>\n</svg>'},b38e:function(e,t,i){"use strict";i.r(t),t["default"]='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 12"><defs><style>.cls-1{fill:#fff;opacity:0;}.cls-2{fill:none;stroke:#333;stroke-linecap:round;stroke-linejoin:round;stroke-width:1.6px;}</style></defs><g id="图层_2" data-name="图层 2"><g id="图层_1-2" data-name="图层 1"><rect class="cls-1" width="12" height="12"/><polyline class="cls-2" points="3 6 5 8 9 4"/></g></g></svg>\n'},b3b2:function(e,t,i){"use strict";var n=i("ea45"),o=i.n(n);o.a},b4ba:function(e,t,i){"use strict";var n=i("931c"),o=i.n(n);o.a},b6ce:function(e,t,i){"use strict";var n=i("7a2b"),o=i.n(n);o.a},b6ee:function(e,t,i){"use strict";i.r(t),t["default"]='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><rect class="cls-1" fill="none" width="20" height="20"/>\n<polyline class="hover-stroke" fill="none" stroke="#b1b4bb" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round" points="7 4 13 10 7 16"/></svg>'},b7af:function(e,t,i){"use strict";i.r(t),t["default"]='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><rect class="cls-1" fill="none" width="20" height="20"/><polyline class="hover-stroke" fill="none" stroke="#b1b4bb" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round" points="13 4 7 10 13 16"/></svg>'},b941:function(e,t,i){},ba0f:function(e,t,i){},ba69:function(e,t,i){e.exports=i.p+"img/logo.53ff6d25.png"},bb18:function(e,t,i){"use strict";i.r(t),t["default"]='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">\n<defs><style>.cls-1{fill:#fff;opacity:0;}</style></defs>\n<rect class="cls-1" width="20" height="20" transform="translate(20) rotate(90)"/>\n<path class="hover-fill" fill-rule="evenodd" fill="#b1b4bb" d="M14,4.5V7a4.07,4.07,0,0,0-.5,0A5.5,5.5,0,0,0,8,12.5,5.33,5.33,0,0,0,8.21,14H3.5A1.5,1.5,0,0,1,2,12.5v-8A1.5,1.5,0,0,1,3.5,3h9A1.5,1.5,0,0,1,14,4.5Z"/>\n<circle class="hover-fill"  fill="#b1b4bb" cx="13.5" cy="12.5" r="4.5"/></svg>'},c220:function(e,t,i){"use strict";var n=i("257e1"),o=i.n(n);o.a},c3c0:function(e,t,i){"use strict";i.r(t),t["default"]='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">\n<defs><style>.cls-1{fill:#fff;opacity:0;}.cls-2{fill:#b0b3ba;}</style></defs>\n<rect class="cls-1" width="20" height="20" transform="translate(20) rotate(90)"/>\n<path class="hover-fill" fill="#b1b4bb" fill-rule="evenodd" d="M16.53,5.53,14.47,3.47A1.61,1.61,0,0,0,13.34,3H10V6A1,1,0,0,1,9,7H6A1,1,0,0,1,5,6V3H4.6A1.6,1.6,0,0,0,3,4.6V15.4A1.6,1.6,0,0,0,4.6,17H15.4A1.6,1.6,0,0,0,17,15.4V6.66A1.61,1.61,0,0,0,16.53,5.53ZM15,14.3a.7.7,0,0,1-.7.7H5.7a.7.7,0,0,1-.7-.7V10.7a.7.7,0,0,1,.7-.7h8.6a.7.7,0,0,1,.7.7Z"/>\n<path class="hover-fill" fill="#b1b4bb" fill-rule="evenodd" d="M6,3H9A0,0,0,0,1,9,3V5.4a.6.6,0,0,1-.6.6H6.6A.6.6,0,0,1,6,5.4V3A0,0,0,0,1,6,3Z"/>\n</svg>'},c69a:function(e,t,i){"use strict";i.r(t),t["default"]='<svg version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t viewBox="0 0 32 32" style="enable-background:new 0 0 32 32;" xml:space="preserve">\n<path class="hover-stroke" fill="none" stroke="#585C62" stroke-width="2.4" stroke-miterlimit="10" d="M21,15h1.5c1.7,0,3,1.3,3,3v6.5c0,1.7-1.3,3-3,3h-13c-1.7,0-3-1.3-3-3V18c0-1.7,1.3-3,3-3H11"/>\n<line class="hover-stroke" fill="none" stroke="#585C62" stroke-width="2.4" stroke-miterlimit="10" x1="16" y1="17" x2="16" y2="7"/>\n<polyline class="hover-stroke" fill="none" stroke="#585C62" stroke-width="2.4" stroke-miterlimit="10" points="11,10.5 16,5.5 21,10.5 "/>\n</svg>\n'},c9d9:function(e,t,i){"use strict";i.d(t,"a",(function(){return u})),i.d(t,"g",(function(){return o})),i.d(t,"c",(function(){return r})),i.d(t,"b",(function(){return a})),i.d(t,"e",(function(){return l})),i.d(t,"f",(function(){return c})),i.d(t,"d",(function(){return d}));var n=i("97f2"),o=sessionStorage.getItem("zegoenv");o=o?JSON.parse(o):{wb:"",docs:"",goclass:"",pptStepMode:"1",deferredRenderingTime:0};var s=sessionStorage.getItem("zego_room_type")||1,r=1,a=2,l=1,c=2,u={home:1==s?n["d"]:n["b"],overseas:1==s?n["i"]:n["g"]},d={},h={home:1==s?n["e"]:n["c"],overseas:1==s?n["j"]:n["h"]},m={home:"wss://webliveroom-".concat(o.wb,".zego.im/ws"),overseas:"wss://webliveroom-hk-test.zegocloud.com/ws"};d=o.wb?m:h,console.log("zegoenv",s,u,o)},ca80:function(e,t,i){"use strict";i.r(t),t["default"]='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18">\n<rect class="cls-1" fill="none" width="18" height="18"/>\n<path class="hover-fill" fill="#fff" d="M9,3.4A1.6,1.6,0,0,1,10.6,5V8A1.6,1.6,0,0,1,7.4,8V5A1.6,1.6,0,0,1,9,3.4M9,2A3,3,0,0,0,6,5V8a3,3,0,0,0,6,0V5A3,3,0,0,0,9,2Z"/>\n<path class="hover-stroke" fill="none" stroke="#fff" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round" d="M13.75,8.25A4.75,4.75,0,0,1,9,13H9A4.75,4.75,0,0,1,4.25,8.25"/>\n<line class="hover-stroke" fill="none" stroke="#fff" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round" x1="6.5" y1="15.5" x2="11.5" y2="15.5"/></svg>'},caaf:function(e,t,i){"use strict";i.r(t),t["default"]='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50"><defs><style>.cls-1{fill:#ffc3cc;opacity:0;}.cls-2{fill:#c6c6c6;}</style></defs><title>seating_teacher</title><g id="图层_2" data-name="图层 2"><g id="图层_1-2" data-name="图层 1"><rect class="cls-1" width="50" height="50"/><circle class="cls-2" cx="25" cy="12" r="10"/><rect class="cls-2" x="1" y="45" width="48" height="3"/><path class="cls-2" d="M24.44,32.06l4.44-7.68a20.79,20.79,0,0,0-4-.38,21.09,21.09,0,0,0-4.8.56Z"/><path class="cls-2" d="M32.53,25.53l-8.09,14-8-13.77A21,21,0,0,0,3.91,45h42A21,21,0,0,0,32.58,25.45Z"/></g></g></svg>'},cc66:function(e,t,i){"use strict";i.r(t),t["default"]='<svg version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t viewBox="0 0 32 32" style="enable-background:new 0 0 32 32;" xml:space="preserve">\n<path class="hover-stroke" fill="none" stroke="#585C62" stroke-width="2.4" stroke-miterlimit="10" d="M11,4.5L11,4.5c2.5,0,4.5,2,4.5,4.5l0,0c0,2.5-2,4.5-4.5,4.5l0,0c-2.5,0-4.5-2-4.5-4.5l0,0\n\tC6.5,6.5,8.5,4.5,11,4.5z"/>\n<path class="hover-stroke" fill="none" stroke="#585C62" stroke-width="2.4" stroke-miterlimit="10" d="M17,13.5L17,13.5c2.5,0,4.5-2,4.5-4.5l0,0c0-2.5-2-4.5-4.5-4.5l0,0"/>\n<path class="hover-stroke" fill="none" stroke="#585C62" stroke-width="2.4" stroke-miterlimit="10" d="M3.5,29v-7.5c0-2.2,1.8-4,4-4h8"/>\n<path class="hover-stroke" fill="none" stroke="#585C62" stroke-width="2.4" stroke-miterlimit="10" d="M17,13.5h5.5c1.7,0,3,1.3,3,3l0,0"/>\n</svg>\n'},cdf6:function(e,t,i){},cf0d:function(e,t,i){"use strict";var n=i("0c69"),o=i.n(n);o.a},cfda:function(e,t,i){"use strict";var n=i("ba0f"),o=i.n(n);o.a},d057:function(e,t,i){"use strict";i.r(t),t["default"]='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">\n    <polyline class="hover-stroke" fill="none" stroke="#b1b4bd" stroke-width="2" fill-rule="evenodd" points="9.5 16 3 16 3 4 9.5 4"/>\n    <line class="hover-stroke" fill="none" stroke-width="2" stroke="#b1b4bd" x1="7" y1="10" x2="16" y2="10"/>\n    <polyline class="hover-stroke" fill="none" stroke="#b1b4bd" stroke-width="2" fill-rule="evenodd" points="12.5 6 16.5 10 12.5 14"/>\n    \x3c!-- <rect fill="none" width="20" height="20"/> --\x3e\n</svg>'},d0b1:function(e,t,i){"use strict";i.r(t),t["default"]='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">\n  \n  <line class="graph-stroke" fill="none" stroke="#b0b3ba" stroke-miterlimit="10" stroke-width="2.8px" x1="17" y1="3" x2="3" y2="17"/>\n</svg>\n'},d173:function(e,t,i){"use strict";i.r(t),t["default"]='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18">\n<rect class="cls-1" width="18" height="18"/>\n<path class="hover-fill" fill="#0044ff" d="M9,3.4A1.6,1.6,0,0,1,10.6,5V8A1.6,1.6,0,0,1,7.4,8V5A1.6,1.6,0,0,1,9,3.4M9,2A3,3,0,0,0,6,5V8a3,3,0,0,0,6,0V5A3,3,0,0,0,9,2Z"/>\n<path class="hover-stroke" fill="none" stroke="#0044ff" d="M13.75,8.25A4.75,4.75,0,0,1,9,13H9A4.75,4.75,0,0,1,4.25,8.25"/>\n<line class="hover-stroke" fill="none" stroke="#0044ff" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round" x1="6.5" y1="15.5" x2="11.5" y2="15.5"/>\n</svg>'},d74a:function(e,t,i){"use strict";i.r(t),t["default"]='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18">\n<rect class="cls-1" fill="none" width="18" height="18"/>\n<path class="hover-stroke" fill="none" stroke="#fff" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round" d="M12.15,7.3h1a2.05,2.05,0,0,1,2.1,2v4a2.05,2.05,0,0,1-2.1,2H4.8a2.05,2.05,0,0,1-2.1-2v-4a2.05,2.05,0,0,1,2.1-2h1"/>\n<line class="hover-stroke" fill="none" stroke="#fff" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round" x1="9" y1="9" x2="9" y2="2"/>\n<polyline class="hover-stroke" fill="none" stroke="#fff" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round" points="5.88 5.13 9 2 12.13 5.13"/></svg>'},d840:function(e,t,i){"use strict";i.r(t),t["default"]='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 10"><defs><style>.cls-1{fill:#fff;opacity:0;}.cls-2{fill:#2953ff;}</style></defs><title>language_check</title><g id="图层_2" data-name="图层 2"><g id="图层_1-2" data-name="图层 1"><rect class="cls-1" width="10" height="10"/><path class="cls-2" d="M3.66,8.37h0a.71.71,0,0,1-.49-.21L.5,5.5a.71.71,0,0,1,1-1L3.67,6.68,8.5,1.84a.7.7,0,1,1,1,1L4.16,8.16A.71.71,0,0,1,3.66,8.37Z"/></g></g></svg>'},d96b:function(e,t,i){"use strict";i.r(t),t["default"]='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18">\n<rect class="cls-1" width="18" height="18"/>\n<path class="hover-fill" fill="#737680" d="M9,2A3,3,0,0,0,6.6,3.2l1,1A1.55,1.55,0,0,1,9,3.4,1.6,1.6,0,0,1,10.6,5V7.2L12,8.55A3.31,3.31,0,0,0,12,8V5A3,3,0,0,0,9,2ZM6,8a3,3,0,0,0,3,3A3.31,3.31,0,0,0,9.55,11L6,7.4Z"/>\n<path class="hover-fill" fill="#737680" d="M10.58,12l1.05,1A5.46,5.46,0,0,1,3.55,8.25a.7.7,0,0,1,1.4,0A4.06,4.06,0,0,0,9,12.3,4.17,4.17,0,0,0,10.58,12Z"/>\n<path class="hover-fill" fill="#737680" d="M14.45,8.25a5.3,5.3,0,0,1-.51,2.29L12.86,9.46a3.74,3.74,0,0,0,.19-1.21.7.7,0,1,1,1.4,0Z"/>\n<path class="hover-fill" fill="#737680" d="M11.5,14.8h-5a.7.7,0,0,0,0,1.4h5a.7.7,0,0,0,0-1.4Z"/>\n<path class="hover-fill" fill="#737680" d="M15,14.7a.74.74,0,0,1-.5-.2L3,3A.71.71,0,0,1,4,2L15.5,13.5a.72.72,0,0,1,0,1A.74.74,0,0,1,15,14.7Z"/>\n</svg>'},db4e:function(e,t,i){var n={"./arrow_left.svg":"561a","./arrow_right.svg":"211d","./arrow_up.svg":"311a","./but_del.svg":"7244","./camera_close.svg":"865f","./camera_open.svg":"0d41","./camera_warning.svg":"e7d7","./discuss_fail.svg":"e688","./dynamic_file.svg":"5b9c","./input_error.svg":"9597","./invite.svg":"697f","./member.svg":"cc66","./microphone_close.svg":"ed55","./microphone_open.svg":"f8b2","./microphone_warning.svg":"641f","./mumber_camer.svg":"0d24","./mumber_camer_close.svg":"0ddb","./mumber_micophone.svg":"d173","./mumber_micophone_close.svg":"d96b","./mumber_share.svg":"5371","./mumber_share_close.svg":"fe89","./n_step.svg":"b6ee","./p_step.svg":"b7af","./preview.svg":"debb","./seating_camer.svg":"dd04","./seating_camer_close.svg":"eec5","./seating_micophone.svg":"ca80","./seating_micophone_close.svg":"ac61","./seating_share.svg":"d74a","./seating_share_close.svg":"4866","./seating_student.svg":"2654","./seating_teacher.svg":"caaf","./share-drawing.svg":"57a5","./share-file.svg":"8c9c","./share.svg":"c69a","./sign_out.svg":"d057","./sound_close.svg":"4c3a","./sound_open.svg":"7943","./static_file.svg":"120d","./text_bold.svg":"9d4e","./text_italic.svg":"61b3","./tool_Del.svg":"3461","./tool_cancel.svg":"8fea","./tool_checkmark.svg":"7606","./tool_choose.svg":"8b3c","./tool_click.svg":"de33","./tool_click_1.svg":"ff88","./tool_click_White.svg":"b38e","./tool_eraser.svg":"1041","./tool_figure.svg":"bb18","./tool_hand.svg":"3c2e","./tool_laser.svg":"5e96","./tool_line.svg":"d0b1","./tool_pen.svg":"4682","./tool_redo.svg":"76ee","./tool_round.svg":"9088","./tool_save.svg":"c3c0","./tool_square.svg":"686e","./tool_text.svg":"7489","./tool_upload.svg":"f2ca","./top_add.svg":"7b06","./top_down.svg":"071a"};function o(e){var t=s(e);return i(t)}function s(e){if(!i.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=s,e.exports=o,o.id="db4e"},dd04:function(e,t,i){"use strict";i.r(t),t["default"]='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18">\n<rect class="cls-1" fill="none" width="18" height="18"/>\n<path class="hover-fill" fill="#fff" d="M9,2.4A4.6,4.6,0,1,1,4.4,7,4.6,4.6,0,0,1,9,2.4M9,1a6,6,0,1,0,6,6A6,6,0,0,0,9,1Z"/>\n<path class="hover-fill" fill="#fff" d="M9,5.4A1.6,1.6,0,1,1,7.4,7,1.6,1.6,0,0,1,9,5.4M9,4a3,3,0,1,0,3,3A3,3,0,0,0,9,4Z"/>\n<path class="hover-fill" fill="#fff" d="M11.58,13.4l1.8,1.2H4.62l1.8-1.2h5.16M12,12H6L3,14v2H15V14l-3-2Z"/></svg>'},de33:function(e,t,i){"use strict";i.r(t),t["default"]='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">\n<defs><style>.cls-1{fill:#fff;opacity:0;}</style></defs>\n<rect class="cls-1" width="20" height="20" transform="translate(20) rotate(90)"/>\n<path class="hover-fill" fill="#b0b3ba" d="M10.5,10V6.24A1.23,1.23,0,0,0,9.26,5h0A1.24,1.24,0,0,0,8,6.24v7.49L6.61,12.32a1.24,1.24,0,0,0-1.75,1.75L8.77,18a5.5,5.5,0,0,0,3.73,2H13a4.47,4.47,0,0,0,4.47-4.47v-3a1.81,1.81,0,0,0-1.56-1.79Z"/>\n<rect class="hover-fill" fill="#b0b3ba" x="8.47" y="1" width="1.6" height="3" rx="0.8"/>\n<rect class="hover-fill" fill="#b0b3ba" x="5.28" y="2.32" width="1.6" height="3" rx="0.8" transform="translate(-0.92 5.42) rotate(-45)"/>\n<rect class="hover-fill" fill="#b0b3ba" x="3.97" y="5.5" width="1.6" height="3" rx="0.8" transform="translate(-2.23 11.77) rotate(-90)"/>\n<rect class="hover-fill" fill="#b0b3ba" x="12.97" y="5.5" width="1.6" height="3" rx="0.8" transform="translate(20.77 -6.77) rotate(90)"/>\n<rect class="hover-fill" fill="#b0b3ba" x="11.65" y="2.32" width="1.6" height="3" rx="0.8" transform="translate(6.35 -7.68) rotate(45)"/>\n</svg>'},debb:function(e,t,i){"use strict";i.r(t),t["default"]='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20">\n    <path class="hover-fill" fill="#b1b4bd" d="M16,2.3H4C2.5,2.3,1.3,3.5,1.3,5v10c0,1.5,1.2,2.7,2.7,2.7h12c1.5,0,2.7-1.2,2.7-2.7V5\n        C18.7,3.5,17.5,2.3,16,2.3z M2.7,15V5c0-0.7,0.6-1.3,1.3-1.3h6.3v12.6H4C3.3,16.3,2.7,15.7,2.7,15z M17.3,15\n        c0,0.7-0.6,1.3-1.3,1.3h-4.3V3.7H16c0.7,0,1.3,0.6,1.3,1.3V15z"/>\n    <path class="hover-fill" fill="#b1b4bd" d="M15.6,5.9h-2c-0.4,0-0.7,0.3-0.7,0.7s0.3,0.7,0.7,0.7h2c0.4,0,0.7-0.3,0.7-0.7S16,5.9,15.6,5.9z"/>\n    <path class="hover-fill" fill="#b1b4bd" d="M15.6,8.7h-2c-0.4,0-0.7,0.3-0.7,0.7s0.3,0.7,0.7,0.7h2c0.4,0,0.7-0.3,0.7-0.7S16,8.7,15.6,8.7z"/>\n    <path class="hover-fill" fill="#b1b4bd" d="M15.6,11.5h-2c-0.4,0-0.7,0.3-0.7,0.7s0.3,0.7,0.7,0.7h2c0.4,0,0.7-0.3,0.7-0.7S16,11.5,15.6,11.5z"/>\n</svg>'},e208:function(e,t,i){"use strict";var n=i("48ea"),o=i.n(n);o.a},e426:function(e,t,i){"use strict";var n=i("9e7a"),o=i.n(n);o.a},e688:function(e,t,i){"use strict";i.r(t),t["default"]='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">\n<defs>\n<style>.discuss-fial-cls-1{fill:#f64326;}.discuss-fial-cls-2{fill:#f2f2f2;}</style>\n</defs><title>discuss_fail</title>\n<g id="图层_2" data-name="图层 2"><g id="图层_1-2" data-name="图层 1">\n<circle class="discuss-fial-cls-1" cx="8" cy="8" r="8"/>\n<rect class="discuss-fial-cls-2" x="7" y="4" width="2" height="5" rx="1"/>\n<rect class="discuss-fial-cls-2" x="7" y="10" width="2" height="2" rx="1"/></g></g></svg>'},e7d7:function(e,t,i){"use strict";i.r(t),t["default"]='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n  <path class="hover-fill" fill="#b1b4bc" d="M21,13.19a5,5,0,0,0-2.94-4.45A5,5,0,1,0,21,13.3.41.41,0,0,0,21,13.19ZM16,15.9a2.6,2.6,0,1,1,2.6-2.6A2.61,2.61,0,0,1,16,15.9Z"/>\n  <path class="hover-fill" fill="#b1b4bc" d="M24.53,8.85A1.06,1.06,0,0,1,24,9a1,1,0,0,1-1-1V6.71a9.56,9.56,0,0,0-3.69-2.45A9.8,9.8,0,0,0,16,3.68a9.62,9.62,0,1,0,9.61,10.1c0-.16,0-.32,0-.48A9.51,9.51,0,0,0,24.53,8.85ZM24,10a1,1,0,1,1-1,1A1,1,0,0,1,24,10ZM16,20.52A7.22,7.22,0,0,1,16,6.08a7.2,7.2,0,0,1,7.22,7.22c0,.22,0,.43,0,.64A7.22,7.22,0,0,1,16,20.52Z"/>\n  <path class="hover-fill" fill="#b1b4bc" d="M20.84,21.62,20,21H12l-.84.62L6,25.44V29H26V25.44Zm-12.37,5,4.32-3.2h6.42l4.32,3.2Z"/>\n  <path class="cls-3" fill="#ffbc00" d="M24,2a6,6,0,0,0-4.69,2.26A6,6,0,0,0,18,8a6.07,6.07,0,0,0,3,5.19,5.69,5.69,0,0,0,2.2.75A5.42,5.42,0,0,0,24,14a6.08,6.08,0,0,0,1.61-.22A6,6,0,0,0,24,2ZM23,5a1,1,0,0,1,2,0V8a1,1,0,0,1-.47.85A1.06,1.06,0,0,1,24,9a1,1,0,0,1-1-1Zm1,7a1,1,0,1,1,1-1A1,1,0,0,1,24,12Z"/>\n</svg>\n'},e801:function(e,t,i){"use strict";var n=i("769d"),o=i.n(n);o.a},e9aa:function(e,t,i){"use strict";var n=i("5857"),o=i.n(n);o.a},ea45:function(e,t,i){},ed55:function(e,t,i){"use strict";i.r(t),t["default"]='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n  <path class="hover-fill" fill="#585c62" d="M16,19.4a5.57,5.57,0,0,0,1.36-.18l-2.43-2.43a3,3,0,0,1-1.72-1.72L10.6,12.46V14A5.4,5.4,0,0,0,16,19.4Z"/>\n  <path class="hover-fill" fill="#585c62" d="M16,6a3,3,0,0,1,3,3v2.81l2.39,2.39c0-.07,0-.13,0-.2V9a5.4,5.4,0,0,0-9.12-3.91L14,6.8A3,3,0,0,1,16,6Z"/>\n  <path class="hover-fill" fill="#585c62" d="M21.11,23l-1.75-1.76a7.2,7.2,0,0,1-3.36.83,7.3,7.3,0,0,1-7.3-7.3,1.2,1.2,0,0,0-2.4,0A9.68,9.68,0,0,0,21.11,23Z"/>\n  <path class="hover-fill" fill="#585c62" d="M25.7,14.75a1.2,1.2,0,0,0-2.4,0A7.36,7.36,0,0,1,23.19,16l1.95,2A9.54,9.54,0,0,0,25.7,14.75Z"/>\n  <path class="hover-fill" fill="#585c62" d="M20.5,26.3h-9a1.2,1.2,0,1,0,0,2.4h9a1.2,1.2,0,0,0,0-2.4Z"/>\n  <path class="hover-fill" fill="#585c62" d="M26.85,22.49l-2.62-2.62-1.76-1.76-1.66-1.66-1.87-1.87L13,8.67,11.1,6.74,6.85,2.49a1.21,1.21,0,0,0-1.7,0,1.2,1.2,0,0,0,0,1.7L10.6,9.64,13,12l4.53,4.52,1.73,1.73L21,20.05l1.7,1.69,2.44,2.45a1.21,1.21,0,0,0,1.7,0A1.2,1.2,0,0,0,26.85,22.49Z"/>\n</svg>\n'},eec5:function(e,t,i){"use strict";i.r(t),t["default"]='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18">\n<rect class="cls-1" fill="none" width="18" height="18"/>\n<path class="hover-fill" fill="#fff" d="M9,1A5.9,5.9,0,0,0,5.52,2.12l1,1A4.53,4.53,0,0,1,9,2.4,4.6,4.6,0,0,1,13.6,7a4.53,4.53,0,0,1-.73,2.47l1,1A5.9,5.9,0,0,0,15,7,6,6,0,0,0,9,1Zm4.8,14.2-.6-.6H4.62l1.8-1.2h5.16l1.26.84-2.77-2.77A4.18,4.18,0,0,1,9,11.6,4.6,4.6,0,0,1,4.4,7a4.18,4.18,0,0,1,.13-1.07L3.41,4.81A6.13,6.13,0,0,0,3,7a6,6,0,0,0,2.85,5.1L3,14v2H15v-.3A1.7,1.7,0,0,1,13.8,15.2Z"/>\n<path class="hover-fill" fill="#fff" d="M6,7.44A3,3,0,0,0,8.56,10ZM9,4a3,3,0,0,0-1.3.3L8.82,5.42A.55.55,0,0,1,9,5.4,1.6,1.6,0,0,1,10.6,7a.55.55,0,0,1,0,.18L11.7,8.3A3,3,0,0,0,12,7,3,3,0,0,0,9,4Z"/>\n<path class="hover-fill" fill="#fff" d="M15,14.7a.74.74,0,0,1-.5-.2L3,3A.71.71,0,0,1,4,2L15.5,13.5a.72.72,0,0,1,0,1A.74.74,0,0,1,15,14.7Z"/></svg>'},ef65:function(e,t,i){},f2ca:function(e,t,i){"use strict";i.r(t),t["default"]='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">\n<rect class="cls-1" width="20" height="20" transform="translate(20) rotate(90)"/>\n<polygon class="hover-fill" fill="#b1b4bb" fill-rule="evenodd" points="7.9 13.28 12.1 13.28 12.1 8.7 15.7 8.7 10 2.7 4.3 8.7 7.9 8.7 7.9 13.28"/>\n<polygon class="hover-fill" fill="#b1b4bb" fill-rule="evenodd" points="15.6 13.5 15.6 16.1 4.4 16.1 4.4 13.5 2 13.5 2 18.5 18 18.5 18 13.5 15.6 13.5"/>\n</svg>\n'},f8b2:function(e,t,i){"use strict";i.r(t),t["default"]='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n  \n  <path class="hover-fill" fill="#003eff" d="M16,6a3,3,0,0,1,3,3v5a3,3,0,0,1-6,0V9a3,3,0,0,1,3-3m0-2.4A5.4,5.4,0,0,0,10.6,9v5a5.4,5.4,0,0,0,10.8,0V9A5.4,5.4,0,0,0,16,3.6Z"/>\n  <path class="hover-stroke" fill="none" stroke="#003eff" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2.4px" d="M24.5,14.75a8.5,8.5,0,0,1-17,0"/>\n  <line class="hover-stroke" fill="none" stroke="#003eff" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2.4px" x1="11.5" y1="27.5" x2="20.5" y2="27.5"/>\n</svg>\n'},fe89:function(e,t,i){"use strict";i.r(t),t["default"]='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18">\n<defs><style>.cls-1{fill:#ffc3cc;opacity:0;}</style>\n</defs>\n<rect class="cls-1" width="18" height="18"/>\n<path class="hover-stroke" fill="none" stroke="#737680" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round" d="M8,15.3H4.8a2.05,2.05,0,0,1-2.1-2v-4a2.05,2.05,0,0,1,2.1-2h1"/>\n<line class="hover-stroke" fill="none" stroke="#737680" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round" x1="9" y1="9" x2="9" y2="2"/>\n<polyline class="hover-stroke" fill="none" stroke="#737680" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round" points="5.88 5.13 9 2 12.13 5.13"/>\n<circle class="hover-stroke" fill="none" stroke="#737680" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round" cx="12.5" cy="12.5" r="3"/>\n<line class="hover-stroke" fill="none" stroke="#737680" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round" x1="10.5" y1="10.5" x2="14.5" y2="14.5"/>\n</svg>'},ff0b:function(e,t,i){},ff88:function(e,t,i){"use strict";i.r(t),t["default"]='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 12">\n  \n  <polyline class="hover-stroke" points="3 6 5 8 9 4" fill="none" stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.6px" />\n</svg>\n'}});